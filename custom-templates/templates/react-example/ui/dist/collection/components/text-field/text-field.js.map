{"version":3,"file":"text-field.js","sourceRoot":"","sources":["../../../src/components/text-field/text-field.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tAttachInternals,\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tMethod,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n\ttag: \"ifx-text-field\",\n\tstyleUrl: \"text-field.scss\",\n\tshadow: true,\n\t// formAssociated: true\n})\nexport class TextField {\n\tprivate inputElement: HTMLInputElement;\n\t@Element() el;\n\t@Prop() placeholder: string = \"Placeholder\";\n\t@Prop({ mutable: true }) value: string = \"\";\n\t@Prop() error: boolean = false;\n\t@Prop() label: string = \"\";\n\t@Prop() icon: string = \"\";\n\t@Prop() caption: string = \"\";\n\t@Prop() size: string = \"m\";\n\t@Prop() required: boolean = false;\n\t@Prop() success: boolean = false;\n\t@Prop() disabled: boolean = false;\n\t@Prop() readOnly: boolean = false;\n\t@Prop() maxlength?: number;\n\t@Prop() showDeleteIcon: boolean = false;\n\t@Prop() autocomplete: string = \"on\";\n\t@Prop() type: \"text\" | \"password\" = \"text\";\n\t@Prop() internalId: string = \"text-field\";\n\t@State() internalType: string;\n\t@Event() ifxInput: EventEmitter<string>;\n\t// @Prop({ reflect: true })\n\t// resetOnSubmit: boolean = false;\n\n\t@AttachInternals() internals: ElementInternals;\n\n\t@Watch(\"value\")\n\tvalueWatcher(newValue: string) {\n\t\tif (newValue !== this.inputElement.value) {\n\t\t\tthis.inputElement.value = newValue;\n\t\t}\n\t}\n\n\t@Method()\n\tasync reset() {\n\t\tthis.value = \"\";\n\t\tthis.inputElement.value = \"\";\n\t}\n\n\thandleDeleteContent() {\n\t\tif (!this.disabled && !this.readOnly) {\n\t\t\tthis.reset();\n\t\t\tthis.ifxInput.emit(this.value);\n\t\t}\n\t}\n\n\thandleInput() {\n\t\tconst query = this.inputElement.value;\n\t\tthis.value = query;\n\t\t//this.internals.setFormValue(query) // update form value\n\t\tthis.ifxInput.emit(this.value);\n\t}\n\n\thandleTypeProp() {\n\t\tthis.internalType =\n\t\t\tthis.type === \"text\" || this.type === \"password\" ? this.type : \"text\";\n\t}\n\n\t// formResetCallback() {\n\t//   this.internals.setValidity({});\n\t//   this.internals.setFormValue(\"\");\n\t// }\n\n\tcomponentWillLoad() {\n\t\tthis.handleTypeProp();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-text-field\", await framework);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-label=\"a text field for user input\"\n\t\t\t\taria-value={this.value}\n\t\t\t\taria-disabled={this.disabled}\n\t\t\t\tclass={`textInput__container ${this.readOnly ? \"readonly\" : \"\"} ${this.disabled && !this.error ? \"disabled\" : \"\"}`}\n\t\t\t>\n\t\t\t\t<div class=\"textInput__top-wrapper\">\n\t\t\t\t\t{this.label && (\n\t\t\t\t\t\t<label htmlFor={this.internalId}>\n\t\t\t\t\t\t\t<span>{this.label}</span>\n\t\t\t\t\t\t\t{this.required && (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass={`required ${this.error && !this.readOnly ? \"error\" : \"\"}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t*\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"textInput__bottom-wrapper\">\n\t\t\t\t\t<div class=\"input-container\">\n\t\t\t\t\t\t{this.icon && <ifx-icon class=\"input-icon\" icon={this.icon} />}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref={(el) => (this.inputElement = el)}\n\t\t\t\t\t\t\tdisabled={this.disabled && !this.error}\n\t\t\t\t\t\t\tautocomplete={this.autocomplete}\n\t\t\t\t\t\t\ttype={this.internalType}\n\t\t\t\t\t\t\tid={this.internalId}\n\t\t\t\t\t\t\tvalue={this.value}\n\t\t\t\t\t\t\tonInput={() => this.handleInput()}\n\t\t\t\t\t\t\tplaceholder={this.placeholder}\n\t\t\t\t\t\t\treadonly={this.readOnly}\n\t\t\t\t\t\t\tmaxlength={this.maxlength}\n\t\t\t\t\t\t\tclass={`${this.icon ? \"icon\" : \"\"}\n                ${this.error ? \"error\" : \"\"} \n                ${this.readOnly ? \"readonly\" : \"\"} \n              ${this.size === \"s\" ? \"input-s\" : \"\"}\n              ${this.success ? \"success\" : \"\"}`}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{this.showDeleteIcon && this.value && (\n\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\tclass=\"delete-icon\"\n\t\t\t\t\t\t\t\ticon=\"cRemove16\"\n\t\t\t\t\t\t\t\tonClick={() => this.handleDeleteContent()}\n\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.caption && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass={`textInput__bottom-wrapper-caption ${this.error && !this.readOnly ? \"error\" : \"\"} ${this.disabled && !this.readOnly && !this.error ? \"disabled\" : \"\"}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.caption}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}