{"version":3,"file":"multiselect-option.js","sourceRoot":"","sources":["../../../../src/components/select/multi-select/multiselect-option.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tComponent,\n\tElement,\n\tHost,\n\th,\n\tListen,\n\tProp,\n\tState,\n} from \"@stencil/core\";\n\n@Component({\n\ttag: \"ifx-multiselect-option\",\n\tstyleUrl: \"multiselect-option.scss\",\n\tshadow: true,\n})\nexport class MultiselectOption {\n\t@Element() el: HTMLElement;\n\n\t@Prop() value: string;\n\t@Prop({ reflect: true, mutable: true }) selected: boolean = false;\n\t@Prop({ reflect: true, mutable: true }) disabled: boolean = false;\n\t@Prop({ reflect: true, mutable: true }) indeterminate: boolean = false;\n\n\t@State() private isExpanded: boolean = false;\n\t@State() private hasChildren: boolean = false;\n\t@State() private depth: number = 0;\n\t@State() private searchTerm: string = \"\";\n\t@State() private isSearchActive: boolean = false;\n\t@State() private isSearchDisabled: boolean = false;\n\n\tcomponentWillLoad() {\n\t\tthis.hasChildren = this.el.children.length > 0;\n\t\tthis.depth = this.calculateDepth();\n\n\t\tthis.el.setAttribute(\"data-level\", this.depth.toString());\n\n\t\tif (this.hasChildren) {\n\t\t\tconst hasSelectedChildren = this.hasAnySelectedChildren();\n\t\t\tif (hasSelectedChildren) {\n\t\t\t\tthis.isExpanded = true;\n\t\t\t}\n\t\t}\n\t}\n\n  componentDidLoad() {\n    (this.el as any)['__stencil_instance'] = this;\n    this.notifyMultiselect();\n    this.el.addEventListener('ifx-search-filter', this.handleSearchFilter);\n  }\n\n\tdisconnectedCallback() {\n\t\tthis.el.removeEventListener(\"ifx-search-filter\", this.handleSearchFilter);\n\t}\n\n\tprivate handleSearchFilter = (event: CustomEvent) => {\n\t\tconst { searchTerm, isActive } = event.detail;\n\t\tthis.searchTerm = searchTerm.toLowerCase();\n\t\tthis.isSearchActive = isActive;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.updateSearchClasses();\n\t\t});\n\t};\n\n\tprivate updateSearchClasses() {\n\t\tconst optionDiv = this.el.shadowRoot?.querySelector(\".option\");\n\t\tif (!optionDiv) return;\n\n\t\tif (!this.isSearchActive) {\n\t\t\toptionDiv.classList.remove(\n\t\t\t\t\"search-hidden\",\n\t\t\t\t\"search-parent\",\n\t\t\t\t\"search-match\",\n\t\t\t);\n\t\t\tthis.removeHighlighting();\n\t\t\tthis.isSearchDisabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst textContent = this.getTextContent().toLowerCase();\n\t\tconst matchesSearch = textContent.includes(this.searchTerm);\n\t\tconst hasMatchingParent = this.hasMatchingParent();\n\n\t\trequestAnimationFrame(() => {\n\t\t\tconst hasMatchingChildren = this.hasMatchingChildren();\n\n\t\t\toptionDiv.classList.remove(\n\t\t\t\t\"search-hidden\",\n\t\t\t\t\"search-parent\",\n\t\t\t\t\"search-match\",\n\t\t\t);\n\t\t\tthis.isSearchDisabled = false;\n\n\t\t\tif (matchesSearch && !this.hasChildren) {\n\t\t\t\toptionDiv.classList.add(\"search-match\");\n\t\t\t\tthis.highlightSearchTerm();\n\t\t\t} else if (matchesSearch && this.hasChildren) {\n\t\t\t\toptionDiv.classList.add(\"search-match\");\n\t\t\t\tthis.highlightSearchTerm();\n\t\t\t\tthis.isExpanded = true;\n\t\t\t} else if (!matchesSearch && this.hasChildren && hasMatchingChildren) {\n\t\t\t\toptionDiv.classList.add(\"search-parent\");\n\t\t\t\tthis.removeHighlighting();\n\t\t\t\tthis.isExpanded = true;\n\t\t\t\tthis.isSearchDisabled = true;\n\t\t\t} else if (hasMatchingParent) {\n\t\t\t\toptionDiv.classList.add(\"search-match\");\n\t\t\t\tthis.removeHighlighting();\n\t\t\t} else {\n\t\t\t\toptionDiv.classList.add(\"search-hidden\");\n\t\t\t\tthis.removeHighlighting();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate highlightSearchTerm() {\n\t\tif (!this.searchTerm) return;\n\n\t\tconst labelElement = this.el.shadowRoot?.querySelector(\".option-label\");\n\t\tif (!labelElement) return;\n\n\t\tconst slotElement = labelElement.querySelector(\"slot\");\n\t\tif (!slotElement) return;\n\n\t\tthis.removeHighlighting();\n\n\t\tconst originalText = this.getTextContent();\n\t\tconst searchTermLower = this.searchTerm.toLowerCase();\n\t\tconst originalTextLower = originalText.toLowerCase();\n\n\t\tif (!originalTextLower.includes(searchTermLower)) return;\n\n\t\tconst searchIndex = originalTextLower.indexOf(searchTermLower);\n\n\t\tif (searchIndex === -1) return;\n\n\t\tconst beforeMatch = originalText.substring(0, searchIndex);\n\t\tconst matchText = originalText.substring(\n\t\t\tsearchIndex,\n\t\t\tsearchIndex + searchTermLower.length,\n\t\t);\n\t\tconst afterMatch = originalText.substring(\n\t\t\tsearchIndex + searchTermLower.length,\n\t\t);\n\n\t\tconst highlightedContent = document.createElement(\"span\");\n\t\thighlightedContent.className = \"highlighted-text\";\n\n\t\tif (beforeMatch) {\n\t\t\thighlightedContent.appendChild(document.createTextNode(beforeMatch));\n\t\t}\n\n\t\tconst boldElement = document.createElement(\"strong\");\n\t\tboldElement.className = \"search-highlight\";\n\t\tboldElement.textContent = matchText;\n\t\thighlightedContent.appendChild(boldElement);\n\n\t\tif (afterMatch) {\n\t\t\thighlightedContent.appendChild(document.createTextNode(afterMatch));\n\t\t}\n\n\t\tlabelElement.setAttribute(\"data-original-content\", \"true\");\n\t\tslotElement.style.display = \"none\";\n\t\tlabelElement.appendChild(highlightedContent);\n\t}\n\n\tprivate removeHighlighting() {\n\t\tconst labelElement = this.el.shadowRoot?.querySelector(\".option-label\");\n\t\tif (!labelElement) return;\n\n\t\tconst slotElement = labelElement.querySelector(\"slot\");\n\t\tconst highlightedElement = labelElement.querySelector(\".highlighted-text\");\n\n\t\tif (highlightedElement) {\n\t\t\tlabelElement.removeChild(highlightedElement);\n\t\t}\n\n\t\tif (slotElement) {\n\t\t\tslotElement.style.display = \"\";\n\t\t}\n\n\t\tlabelElement.removeAttribute(\"data-original-content\");\n\t}\n\n\tprivate getTextContent(): string {\n\t\tlet text = \"\";\n\t\tArray.from(this.el.childNodes).forEach((node) => {\n\t\t\tif (node.nodeType === Node.TEXT_NODE) {\n\t\t\t\ttext += node.textContent?.trim() || \"\";\n\t\t\t}\n\t\t});\n\t\treturn text || this.value || \"\";\n\t}\n\n\tprivate hasMatchingChildren(): boolean {\n\t\tif (!this.hasChildren) return false;\n\n\t\tconst childOptions = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as HTMLElement[];\n\n\t\treturn childOptions.some((child) => {\n\t\t\tconst childInstance = (child as any)[\"__stencil_instance\"];\n\t\t\tif (!childInstance) return false;\n\n\t\t\tconst childText = childInstance.getTextContent().toLowerCase();\n\t\t\tconst childMatches = childText.includes(this.searchTerm);\n\t\t\tconst grandChildrenMatch = childInstance.hasMatchingChildren();\n\n\t\t\treturn childMatches || grandChildrenMatch;\n\t\t});\n\t}\n\n\tprivate hasMatchingParent(): boolean {\n\t\tlet parent = this.el.parentElement;\n\t\twhile (parent && parent.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\tconst parentInstance = (parent as any)[\"__stencil_instance\"];\n\t\t\tif (parentInstance) {\n\t\t\t\tconst parentText = parentInstance.getTextContent().toLowerCase();\n\t\t\t\tif (parentText.includes(this.searchTerm)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate calculateDepth(): number {\n\t\tlet depth = 0;\n\t\tlet parent = this.el.parentElement;\n\t\twhile (parent && parent.tagName !== \"IFX-MULTISELECT\") {\n\t\t\tif (parent.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\t\tdepth++;\n\t\t\t}\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t\treturn depth;\n\t}\n\n\t@Listen(\"click\")\n\thandleClick(event: Event) {\n\t\tif (this.disabled || (this.isSearchActive && this.isSearchDisabled)) return;\n\n\t\tevent.stopPropagation();\n\n\t\tif (\n\t\t\tevent.type === \"click\" &&\n\t\t\t(event.target as HTMLElement).closest(\".chevron-wrapper\")\n\t\t) {\n\t\t\tthis.toggleExpansion();\n\t\t\treturn;\n\t\t}\n\n\t\tlet newSelectedState: boolean;\n\n\t\tif (this.indeterminate) {\n\t\t\tnewSelectedState = true;\n\t\t} else {\n\t\t\tnewSelectedState = !this.selected;\n\t\t}\n\n\t\tthis.selected = newSelectedState;\n\t\tthis.indeterminate = false;\n\n\t\tif (this.hasChildren) {\n\t\t\tthis.isExpanded = newSelectedState;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.selectAllChildren(newSelectedState);\n\t\t\t\tthis.expandAllChildren(newSelectedState);\n\t\t\t});\n\t\t}\n\n\t\tthis.updateParentStates();\n\t\tthis.notifyMultiselect();\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(event: KeyboardEvent) {\n\t\tif (this.disabled || (this.isSearchActive && this.isSearchDisabled)) return;\n\n\t\tconst target = event.target as HTMLElement;\n\n\t\tif (\n\t\t\ttarget.closest(\".chevron-wrapper\") ||\n\t\t\ttarget.closest(\".checkbox-wrapper\")\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key !== \"ArrowUp\" && event.key !== \"ArrowDown\") {\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tif (event.key === \"ArrowRight\" && this.hasChildren) {\n\t\t\tthis.isExpanded = true;\n\t\t}\n\n\t\tif (event.key === \"ArrowLeft\" && this.hasChildren) {\n\t\t\tthis.isExpanded = false;\n\t\t}\n\t}\n\n\tprivate notifyMultiselect() {\n\t\tconst updateEvent = new CustomEvent(\"ifx-option-changed\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: {\n\t\t\t\tvalue: this.value,\n\t\t\t\tselected: this.selected,\n\t\t\t\tindeterminate: this.indeterminate,\n\t\t\t},\n\t\t});\n\t\tthis.el.dispatchEvent(updateEvent);\n\t}\n\n\tprivate selectAllChildren(selected: boolean) {\n\t\tconst directChildren = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as any[];\n\n\t\tdirectChildren.forEach((child: any) => {\n\t\t\tconst childInstance = child[\"__stencil_instance\"];\n\t\t\tif (childInstance) {\n\t\t\t\tchildInstance.selected = selected;\n\t\t\t\tchildInstance.indeterminate = false;\n\n\t\t\t\tif (childInstance.hasChildren) {\n\t\t\t\t\tchildInstance.isExpanded = selected;\n\t\t\t\t\tchildInstance.selectAllChildren(selected);\n\t\t\t\t}\n\t\t\t\tchildInstance.notifyMultiselect?.();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate expandAllChildren(expanded: boolean) {\n\t\tconst directChildren = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as any[];\n\n\t\tdirectChildren.forEach((child: any) => {\n\t\t\tconst childInstance = child[\"__stencil_instance\"];\n\t\t\tif (childInstance && childInstance.hasChildren) {\n\t\t\t\tchildInstance.isExpanded = expanded;\n\t\t\t\tchildInstance.expandAllChildren(expanded);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate updateParentStates() {\n\t\tlet parent = this.el.parentElement;\n\t\twhile (parent && parent.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\tconst parentInstance = (parent as any)[\"__stencil_instance\"];\n\t\t\tif (!parentInstance) {\n\t\t\t\tparent = parent.parentElement;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst siblings = Array.from(parent.children)\n\t\t\t\t.filter((child) => child.tagName === \"IFX-MULTISELECT-OPTION\")\n\t\t\t\t.map((child) => (child as any)[\"__stencil_instance\"])\n\t\t\t\t.filter((instance) => instance !== null);\n\n\t\t\tconst selectedCount = siblings.filter(\n\t\t\t\t(sibling) => sibling.selected,\n\t\t\t).length;\n\t\t\tconst indeterminateCount = siblings.filter(\n\t\t\t\t(sibling) => sibling.indeterminate,\n\t\t\t).length;\n\t\t\tconst totalCount = siblings.length;\n\n\t\t\tif (selectedCount === totalCount && indeterminateCount === 0) {\n\t\t\t\tparentInstance.selected = true;\n\t\t\t\tparentInstance.indeterminate = false;\n\t\t\t} else if (selectedCount === 0 && indeterminateCount === 0) {\n\t\t\t\tparentInstance.selected = false;\n\t\t\t\tparentInstance.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tparentInstance.selected = false;\n\t\t\t\tparentInstance.indeterminate = true;\n\t\t\t}\n\n\t\t\tparentInstance.notifyMultiselect?.();\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t}\n\n\tprivate toggleExpansion() {\n\t\tthis.isExpanded = !this.isExpanded;\n\t}\n\n\tprivate handleCheckboxClick = (event: Event) => {\n\t\tif (this.disabled || (this.isSearchActive && this.isSearchDisabled)) return;\n\n\t\tevent.stopPropagation();\n\n\t\tlet newSelectedState: boolean;\n\n\t\tif (this.indeterminate) {\n\t\t\tnewSelectedState = true;\n\t\t} else {\n\t\t\tnewSelectedState = !this.selected;\n\t\t}\n\n\t\tthis.selected = newSelectedState;\n\t\tthis.indeterminate = false;\n\n\t\tif (this.hasChildren) {\n\t\t\tthis.isExpanded = newSelectedState;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.selectAllChildren(newSelectedState);\n\t\t\t\tthis.expandAllChildren(newSelectedState);\n\t\t\t});\n\t\t}\n\n\t\tthis.updateParentStates();\n\t\tthis.notifyMultiselect();\n\t};\n\n\tprivate handleHeaderClick = (event: Event) => {\n\t\tevent.stopPropagation();\n\t\tif (!this.disabled && !(this.isSearchActive && this.isSearchDisabled)) {\n\t\t\tthis.handleClick(event);\n\t\t}\n\t};\n\n\tprivate hasAnySelectedChildren(): boolean {\n\t\tconst childOptions = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as HTMLElement[];\n\n\t\treturn childOptions.some((child) => {\n\t\t\tconst hasSelected = child.hasAttribute(\"selected\");\n\t\t\tconst hasSelectedDescendants = this.checkForSelectedDescendants(child);\n\n\t\t\treturn hasSelected || hasSelectedDescendants;\n\t\t});\n\t}\n\n\tprivate checkForSelectedDescendants(element: HTMLElement): boolean {\n\t\tconst nestedOptions = Array.from(element.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as HTMLElement[];\n\n\t\treturn nestedOptions.some((nestedChild) => {\n\t\t\tconst isSelected = nestedChild.hasAttribute(\"selected\");\n\t\t\tconst hasSelectedNested = this.checkForSelectedDescendants(nestedChild);\n\n\t\t\treturn isSelected || hasSelectedNested;\n\t\t});\n\t}\n\n\trender() {\n\t\tlet isFlatMultiselect = false;\n\t\tconst parentMultiselect = this.el.closest(\"ifx-multiselect\");\n\t\tif (parentMultiselect) {\n\t\t\tconst allOptions = Array.from(\n\t\t\t\tparentMultiselect.querySelectorAll(\"ifx-multiselect-option\"),\n\t\t\t);\n\t\t\tisFlatMultiselect = allOptions.every(\n\t\t\t\t(option) => option.children.length === 0,\n\t\t\t);\n\t\t}\n\n\t\tconst basePadding = this.depth * 28 + 16;\n\t\tconst additionalPadding = this.hasChildren ? 0 : 28;\n\t\tconst totalPadding = basePadding + additionalPadding;\n\n\t\tconst optionItemStyle = isFlatMultiselect\n\t\t\t? undefined\n\t\t\t: { paddingLeft: `${totalPadding}px` };\n\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div\n\t\t\t\t\tclass={{\n\t\t\t\t\t\toption: true,\n\t\t\t\t\t\t\"option--has-children\": this.hasChildren,\n\t\t\t\t\t\t\"option--expanded\": this.isExpanded,\n\t\t\t\t\t\t\"option--disabled\": this.disabled,\n\t\t\t\t\t\t\"option--selected\": this.selected,\n\t\t\t\t\t}}\n\t\t\t\t\trole=\"option\"\n\t\t\t\t\taria-expanded={\n\t\t\t\t\t\tthis.hasChildren ? (this.isExpanded ? \"true\" : \"false\") : undefined\n\t\t\t\t\t}\n\t\t\t\t\taria-selected={this.selected ? \"true\" : \"false\"}\n\t\t\t\t\taria-disabled={this.disabled ? \"true\" : \"false\"}\n\t\t\t\t\tdata-level={this.depth}\n\t\t\t\t\tdata-value={this.value}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"option-item\" style={optionItemStyle}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"chevron-wrapper\"\n\t\t\t\t\t\t\ttabIndex={this.hasChildren ? 0 : -1}\n\t\t\t\t\t\t\trole={this.hasChildren ? \"button\" : undefined}\n\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\tthis.hasChildren\n\t\t\t\t\t\t\t\t\t? this.isExpanded\n\t\t\t\t\t\t\t\t\t\t? \"Collapse\"\n\t\t\t\t\t\t\t\t\t\t: \"Expand\"\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tthis.toggleExpansion();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\tthis.toggleExpansion();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.hasChildren && (\n\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\tclass={`chevron ${this.isExpanded ? \"chevron--expanded\" : \"chevron--collapsed\"}`}\n\t\t\t\t\t\t\t\t\ticon=\"chevron-right-16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"checkbox-wrapper\" onClick={(e) => e.stopPropagation()}>\n\t\t\t\t\t\t\t<ifx-checkbox\n\t\t\t\t\t\t\t\tsize=\"s\"\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tthis.isSearchActive && this.isSearchDisabled\n\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t: this.indeterminate\n\t\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t\t: this.selected\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tindeterminate={\n\t\t\t\t\t\t\t\t\tthis.isSearchActive && this.isSearchDisabled\n\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t: this.indeterminate\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={this.handleCheckboxClick}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tthis.disabled ||\n\t\t\t\t\t\t\t\t\t(this.isSearchActive && this.isSearchDisabled)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tthis.handleCheckboxClick(e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"option-label\"\n\t\t\t\t\t\t\tonClick={this.handleHeaderClick}\n\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{this.isExpanded && (\n\t\t\t\t\t\t<div class=\"option-children\">\n\t\t\t\t\t\t\t<slot name=\"children\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"]}