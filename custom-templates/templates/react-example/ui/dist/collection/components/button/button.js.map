{"version":3,"file":"button.js","sourceRoot":"","sources":["../../../src/components/button/button.tsx"],"names":[],"mappings":"AAAA,OAAO,EACN,SAAS,EACT,OAAO,EACP,IAAI,EACJ,CAAC,EACD,MAAM,EACN,MAAM,EACN,IAAI,EACJ,KAAK,EACL,KAAK,GACL,MAAM,eAAe,CAAC;AACvB,OAAO,UAAU,MAAM,YAAY,CAAC;AACpC,OAAO,EAAE,sBAAsB,EAAE,MAAM,+BAA+B,CAAC;AACvE,OAAO,EAAE,eAAe,EAAE,MAAM,yCAAyC,CAAC;AAC1E,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAO7D,MAAM,OAAO,MAAM;IACV,OAAO,GAAyC,SAAS,CAAC;IAC1D,KAAK,GAAqC,SAAS,CAAC;IACpD,IAAI,GAAW,GAAG,CAAC;IACnB,QAAQ,GAAY,KAAK,CAAC;IACzB,YAAY,CAAS;IACtB,IAAI,CAAS;IACb,MAAM,GAAW,OAAO,CAAC;IACzB,IAAI,GAAkC,QAAQ,CAAC;IAC/C,SAAS,GAAY,KAAK,CAAC;IAC3B,SAAS,CAAgB;IACtB,EAAE,CAAC;IAEN,gBAAgB,CAAc;IAC9B,YAAY,CAAuC;IAG3D,eAAe,CAAC,QAAgB;QAC/B,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;IAC9B,CAAC;IAGD,KAAK,CAAC,QAAQ;QACb,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;IAC/B,CAAC;IAED,kBAAkB;QACjB,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACzC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACxD,CAAC;IAED,yBAAyB;QACxB,IAAI,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;YAC7B,IAAI,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;gBAClB,IAAI,CAAC,EAAE,CAAC,YAAY,GAAG,SAAS,CAAC;YAClC,CAAC;YACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC3B,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;QAC/B,CAAC;IACF,CAAC;IAED,iBAAiB;QAChB,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAC3C,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;QAClD,CAAC;IACF,CAAC;IAED,iBAAiB;QAChB,IAAI,CAAC,yBAAyB,EAAE,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,gBAAgB;QACrB,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC;YACtC,MAAM,SAAS,GAAG,eAAe,EAAE,CAAC;YACpC,cAAc,CAAC,YAAY,EAAE,MAAM,SAAS,CAAC,CAAC;QAC/C,CAAC;IACF,CAAC;IAED,mBAAmB;QAClB,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC1B,CAAC;IAED,WAAW,GAAG,CAAC,EAAS,EAAE,EAAE;QAC3B,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC;YACxB,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC3C,IAAI,UAAU,EAAE,CAAC;gBAChB,EAAE,CAAC,cAAc,EAAE,CAAC;gBAEpB,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;oBAC3B,uEAAuE;oBACvE,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC,mDAAmD;gBAC9E,CAAC;qBAAM,CAAC;oBACP,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBACpD,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;wBACf,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;oBAC7B,CAAC;oBACD,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBAClC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;oBACnC,UAAU,CAAC,KAAK,EAAE,CAAC;oBACnB,UAAU,CAAC,MAAM,EAAE,CAAC;gBACrB,CAAC;YACF,CAAC;QACF,CAAC;IACF,CAAC,CAAC;IAEF,iBAAiB;QAChB,MAAM,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC5C,MAAM,cAAc,GAAG,WAAW,CAAC,gBAAgB,CAClD,8BAA8B,CAC9B,CAAC;QACF,cAAc,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAClC,OAAO,CAAC,KAAK,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACJ,CAAC;IAGD,aAAa,CAAC,EAAiB;QAC9B,IAAI,EAAE,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC9D,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC;IACF,CAAC;IAGD,eAAe,CAAC,KAAY;QAC3B,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE,CAAC;YAC5B,KAAK,CAAC,wBAAwB,EAAE,CAAC;QAClC,CAAC;IACF,CAAC;IAED,WAAW,CAAC,KAAiB;QAC5B,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAC9B,CAAC;IACF,CAAC;IAED,MAAM;QACL,OAAO,CACN,EAAC,IAAI;YACJ,0DACC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EACnC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAChC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC,EACzC,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,EAC3B,IAAI,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,EACpD,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,OAAO,EAAE,IAAI,CAAC,WAAW,EACzB,GAAG,EAAE,IAAI,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,SAAS,EACjE,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,mBAC5B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,sBAE3C,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,SAAS,gBAE7C,IAAI,CAAC,SAAS,IAAI,SAAS;gBAEvC,8DAAa,CACV,CACE,CACP,CAAC;IACH,CAAC;IAED,eAAe;QACd,OAAO,GAAG,IAAI,CAAC,OAAO,EAAE,KAAK,WAAW;YACvC,CAAC,CAAC,aAAa,IAAI,CAAC,KAAK,EAAE;YAC3B,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,KAAK,UAAU;gBACjC,CAAC,CAAC,YAAY,IAAI,CAAC,KAAK,EAAE;gBAC1B,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;IACrB,CAAC;IAED,YAAY;QACX,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,KAAK,IAAI,EAAE,CAAC;YAC7B,OAAO,IAAI,CAAC;QACb,CAAC;aAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC;YACnC,OAAO,GAAG,CAAC;QACZ,CAAC;aAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC;YACnC,OAAO,GAAG,CAAC;QACZ,CAAC;;YAAM,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,aAAa;QACZ,OAAO,UAAU,CAChB,KAAK,EACL,IAAI,CAAC,IAAI,IAAI,OAAO,IAAI,CAAC,YAAY,EAAE,EAAE,EACzC,OAAO,IAAI,CAAC,eAAe,EAAE,EAAE,EAC/B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAC/B,CAAC;IACH,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACD","sourcesContent":["import {\n\tComponent,\n\tElement,\n\tHost,\n\th,\n\tListen,\n\tMethod,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport classNames from \"classnames\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n\ttag: \"ifx-button\",\n\tstyleUrl: \"button.scss\",\n\tshadow: true,\n})\nexport class Button {\n\t@Prop() variant: \"primary\" | \"secondary\" | \"tertiary\" = \"primary\";\n\t@Prop() theme: \"default\" | \"danger\" | \"inverse\" = \"default\";\n\t@Prop() size: string = \"m\";\n\t@Prop() disabled: boolean = false;\n\t@State() internalHref: string;\n\t@Prop() href: string;\n\t@Prop() target: string = \"_self\";\n\t@Prop() type: \"button\" | \"submit\" | \"reset\" = \"button\";\n\t@Prop() fullWidth: boolean = false;\n\t@Prop() ariaLabel: string | null;\n\t@Element() el;\n\n\tprivate focusableElement: HTMLElement;\n\tprivate nativeButton: HTMLButtonElement | HTMLInputElement;\n\n\t@Watch(\"href\")\n\tsetInternalHref(newValue: string) {\n\t\tthis.internalHref = newValue;\n\t}\n\n\t@Method()\n\tasync setFocus() {\n\t\tthis.focusableElement.focus();\n\t}\n\n\tinsertNativeButton() {\n\t\tthis.nativeButton = document.createElement(\"button\");\n\t\tthis.nativeButton.type = this.type;\n\t\tthis.nativeButton.style.display = \"none\";\n\t\tthis.el.closest(\"form\").appendChild(this.nativeButton);\n\t}\n\n\thandleFormAndInternalHref() {\n\t\tif (this.el.closest(\"form\")) {\n\t\t\tif (this.el.href) {\n\t\t\t\tthis.el.internalHref = undefined;\n\t\t\t}\n\t\t\tthis.insertNativeButton();\n\t\t} else {\n\t\t\tthis.internalHref = this.href;\n\t\t}\n\t}\n\n\thandleButtonWidth() {\n\t\tif (this.fullWidth) {\n\t\t\tthis.el.style.setProperty(\"--bw\", \"100%\");\n\t\t} else {\n\t\t\tthis.el.style.setProperty(\"--bw\", \"fit-content\");\n\t\t}\n\t}\n\n\tcomponentWillLoad() {\n\t\tthis.handleFormAndInternalHref();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-button\", await framework);\n\t\t}\n\t}\n\n\tcomponentWillRender() {\n\t\tthis.handleButtonWidth();\n\t}\n\n\thandleClick = (ev: Event) => {\n\t\tif (this.el.shadowRoot) {\n\t\t\tconst parentForm = this.el.closest(\"form\");\n\t\t\tif (parentForm) {\n\t\t\t\tev.preventDefault();\n\n\t\t\t\tif (this.type === \"reset\") {\n\t\t\t\t\t// If the button type is 'reset', manually reset all custom form fields\n\t\t\t\t\tthis.resetClickHandler(); //this will reset all ifx-text-fields within a form\n\t\t\t\t} else {\n\t\t\t\t\tconst fakeButton = document.createElement(\"button\");\n\t\t\t\t\tif (this.type) {\n\t\t\t\t\t\tfakeButton.type = this.type;\n\t\t\t\t\t}\n\t\t\t\t\tfakeButton.style.display = \"none\";\n\t\t\t\t\tparentForm.appendChild(fakeButton);\n\t\t\t\t\tfakeButton.click();\n\t\t\t\t\tfakeButton.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tresetClickHandler() {\n\t\tconst formElement = this.el.closest(\"form\");\n\t\tconst customElements = formElement.querySelectorAll(\n\t\t\t\"ifx-text-field, ifx-textarea\",\n\t\t);\n\t\tcustomElements.forEach((element) => {\n\t\t\telement.reset();\n\t\t});\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(ev: KeyboardEvent) {\n\t\tif (ev.key === \" \" || (ev.key === \"Enter\" && !this.disabled)) {\n\t\t\tthis.focusableElement.click();\n\t\t}\n\t}\n\n\t@Listen(\"click\", { capture: true })\n\thandleHostClick(event: Event) {\n\t\tif (this.disabled === true) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t}\n\t}\n\n\thandleFocus(event: FocusEvent) {\n\t\tif (this.disabled) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.focusableElement.blur();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<a\n\t\t\t\t\trole={this.href ? \"link\" : \"button\"}\n\t\t\t\t\ttabIndex={this.disabled ? -1 : 0}\n\t\t\t\t\tref={(el) => (this.focusableElement = el)}\n\t\t\t\t\tclass={this.getClassNames()}\n\t\t\t\t\thref={!this.disabled ? this.internalHref : undefined}\n\t\t\t\t\ttarget={this.target}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\trel={this.target === \"_blank\" ? \"noopener noreferrer\" : undefined}\n\t\t\t\t\tonFocus={(event) => this.handleFocus(event)}\n\t\t\t\t\taria-disabled={this.disabled ? \"true\" : null}\n\t\t\t\t\taria-describedby={\n\t\t\t\t\t\tthis.theme === \"danger\" ? \"Dangerous action\" : undefined\n\t\t\t\t\t}\n\t\t\t\t\taria-label={this.ariaLabel || undefined}\n\t\t\t\t>\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</a>\n\t\t\t</Host>\n\t\t);\n\t}\n\n\tgetVariantClass() {\n\t\treturn `${this.variant}` === \"secondary\"\n\t\t\t? `secondary-${this.theme}`\n\t\t\t: `${this.variant}` === \"tertiary\"\n\t\t\t\t? `tertiary-${this.theme}`\n\t\t\t\t: `${this.theme}`;\n\t}\n\n\tgetSizeClass() {\n\t\tif (`${this.size}` === \"xs\") {\n\t\t\treturn \"xs\";\n\t\t} else if (`${this.size}` === \"s\") {\n\t\t\treturn \"s\";\n\t\t} else if (`${this.size}` === \"l\") {\n\t\t\treturn \"l\";\n\t\t} else return \"\";\n\t}\n\n\tgetClassNames() {\n\t\treturn classNames(\n\t\t\t\"btn\",\n\t\t\tthis.size && `btn-${this.getSizeClass()}`,\n\t\t\t`btn-${this.getVariantClass()}`,\n\t\t\tthis.disabled ? \"disabled\" : \"\",\n\t\t);\n\t}\n}\n"]}