{"version":3,"file":"search-field.js","sourceRoot":"","sources":["../../../src/components/search-field/search-field.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport classNames from \"classnames\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\nexport interface SuggestionItem {\n\tid: string;\n\ttext: string;\n\ttype?: \"suggestion\" | \"history\";\n\tscope?: string;\n\tresultCount?: number;\n\tmetadata?: any;\n}\n\n@Component({\n\ttag: \"ifx-search-field\",\n\tstyleUrl: \"search-field.scss\",\n\tshadow: true,\n})\nexport class SearchField {\n\t@Element() el;\n\tprivate inputElement: HTMLInputElement;\n\tprivate dropdownElement: HTMLDivElement;\n\n\t@Prop({ mutable: true }) value: string = \"\";\n\t@Prop() suggestions: SuggestionItem[] = [];\n\t@Prop() showSuggestions: boolean = false;\n\t@Prop() maxSuggestions: number = 10;\n\t@Prop() maxHistoryItems: number = 5;\n\t@Prop() enableHistory: boolean = true;\n\t@Prop() historyKey: string = \"ifx-search-history\";\n\t@Prop() historyHeaderText: string = \"Recent Searches\";\n\n\t// ARIA Labels and Accessibility Props\n\t@Prop() ariaLabel: string | null = \"Search Field\";\n\t@Prop() ariaLabelledBy?: string | null;\n\t@Prop() ariaDescribedBy?: string | null;\n\t@Prop() deleteIconAriaLabel: string = \"Clear search\";\n\t@Prop() historyDeleteAriaLabel: string = \"Remove from history\";\n\t@Prop() dropdownAriaLabel: string = \"Search suggestions and history\";\n\t@Prop() suggestionAriaLabel: string = \"Search suggestion\";\n\t@Prop() historyItemAriaLabel: string = \"Search history item\";\n\n\t@Event() ifxInput: EventEmitter<string>;\n\t@Event() ifxSuggestionRequested: EventEmitter<string>;\n\t@Event() ifxSuggestionSelected: EventEmitter<SuggestionItem>;\n\t@Event() ifxFocus: EventEmitter<void>;\n\t@Event() ifxBlur: EventEmitter<void>;\n\n\t@State() showDropdown: boolean = false;\n\t@State() filteredSuggestions: SuggestionItem[] = [];\n\t@State() selectedSuggestionIndex: number = -1;\n\t@State() searchHistory: string[] = [];\n\n\t@Prop() showDeleteIcon: boolean = false;\n\t@State() showDeleteIconInternalState: boolean = false;\n\t@Prop() disabled: boolean = false;\n\t@Prop() size: string = \"l\";\n\t@State() isFocused: boolean = false;\n\t@Prop() placeholder: string = \"Search...\";\n\t@Prop() autocomplete: string = \"off\";\n\t@Prop() maxlength?: number = null;\n\n\tprivate focusEmitted: boolean = false;\n\n\t@Listen(\"mousedown\", { target: \"document\" })\n\thandleOutsideClick(event: MouseEvent) {\n\t\tconst path = event.composedPath();\n\t\tif (\n\t\t\t!path.includes(this.inputElement) &&\n\t\t\t!path.includes(this.dropdownElement)\n\t\t) {\n\t\t\tthis.hideDropdown();\n\t\t}\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(event: KeyboardEvent) {\n\t\tif (!this.showDropdown) return;\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.navigateSuggestions(1);\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.navigateSuggestions(-1);\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this.selectedSuggestionIndex >= 0) {\n\t\t\t\t\tthis.selectSuggestion(\n\t\t\t\t\t\tthis.filteredSuggestions[this.selectedSuggestionIndex],\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.handleSearch();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\tthis.hideDropdown();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t@Watch(\"value\")\n\tvalueWatcher(newValue: string) {\n\t\tif (this.inputElement && newValue !== this.inputElement.value) {\n\t\t\tthis.inputElement.value = newValue;\n\t\t}\n\t\tthis.updateSuggestions();\n\t}\n\n\t@Watch(\"suggestions\")\n\tsuggestionsWatcher() {\n\t\tthis.updateSuggestions();\n\t}\n\n\thandleInput = () => {\n\t\tconst query = this.inputElement.value;\n\t\tthis.value = query;\n\t\tthis.ifxInput.emit(this.value);\n\n\t\tif (this.showSuggestions) {\n\t\t\tthis.showDropdown = true;\n\t\t\tthis.selectedSuggestionIndex = -1;\n\t\t\tthis.requestSuggestions(query);\n\t\t}\n\t};\n\n\thandleDelete = () => {\n\t\tif (!this.disabled) {\n\t\t\tthis.inputElement.value = \"\";\n\t\t\tthis.value = \"\";\n\t\t\tthis.ifxInput.emit(this.value);\n\t\t\tthis.hideDropdown();\n\t\t}\n\t};\n\n\thandleSearch = () => {\n\t\tif (this.value.trim() && this.enableHistory) {\n\t\t\t// Only add to history if there are actual results\n\t\t\tif (this.filteredSuggestions.length > 0) {\n\t\t\t\tthis.addToHistory(this.value);\n\t\t\t}\n\t\t}\n\t\tthis.hideDropdown();\n\t};\n\n\tfocusInput() {\n\t\t// Only emit focus event if it hasn't been emitted already\n\t\tif (!this.focusEmitted) {\n\t\t\tthis.focusEmitted = true;\n\t\t\tthis.isFocused = true;\n\t\t\tthis.ifxFocus.emit();\n\t\t}\n\n\t\tif (this.showSuggestions) {\n\t\t\t// On focus without input: Show only history\n\t\t\tif (this.value.length === 0) {\n\t\t\t\tthis.showHistoryDropdown();\n\t\t\t\t// Only show dropdown if history is actually present\n\t\t\t\tthis.showDropdown = this.enableHistory && this.searchHistory.length > 0;\n\t\t\t} else {\n\t\t\t\t// With existing input: Normal suggestion logic\n\t\t\t\tthis.updateSuggestions();\n\t\t\t\tthis.showDropdown = this.filteredSuggestions.length > 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tblurInput() {\n\t\tsetTimeout(() => {\n\t\t\tthis.isFocused = false;\n\t\t\tthis.focusEmitted = false; // Reset focus flag when blur occurs\n\t\t\tthis.ifxBlur.emit();\n\t\t}, 150);\n\t}\n\n\t// Public method to update history from external sources\n\tpublic loadSearchHistory() {\n\t\tif (this.enableHistory && typeof localStorage !== \"undefined\") {\n\t\t\tconst stored = localStorage.getItem(this.historyKey);\n\t\t\tthis.searchHistory = stored ? JSON.parse(stored) : [];\n\n\t\t\t// Update suggestions when history is loaded\n\t\t\tthis.updateSuggestions();\n\n\t\t\t// If no input and no history left, close dropdown\n\t\t\tif (this.value.length === 0 && this.searchHistory.length === 0) {\n\t\t\t\tthis.showDropdown = false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Public method to completely clear history\n\tpublic clearSearchHistory() {\n\t\tif (this.enableHistory && typeof localStorage !== \"undefined\") {\n\t\t\t// Clear from localStorage\n\t\t\tlocalStorage.removeItem(this.historyKey);\n\n\t\t\t// Clear internal history\n\t\t\tthis.searchHistory = [];\n\n\t\t\t// Reset all dropdown-relevant states\n\t\t\tthis.filteredSuggestions = [];\n\t\t\tthis.selectedSuggestionIndex = -1;\n\t\t\tthis.showDropdown = false;\n\n\t\t\t// Update suggestions after reset\n\t\t\tthis.updateSuggestions();\n\t\t}\n\t}\n\n\t// Suggestion Management Methods\n\tprivate addToHistory(term: string) {\n\t\tif (!this.enableHistory || !term.trim()) return;\n\n\t\tconst history = [...this.searchHistory];\n\t\tconst existingIndex = history.indexOf(term);\n\n\t\tif (existingIndex > -1) {\n\t\t\thistory.splice(existingIndex, 1);\n\t\t}\n\n\t\thistory.unshift(term);\n\t\t// Limit history to maxHistoryItems (default 5)\n\t\tthis.searchHistory = history.slice(0, this.maxHistoryItems);\n\n\t\tif (typeof localStorage !== \"undefined\") {\n\t\t\tlocalStorage.setItem(this.historyKey, JSON.stringify(this.searchHistory));\n\t\t}\n\t}\n\n\t// Remove individual history entry\n\tprivate removeFromHistory(term: string) {\n\t\tif (!this.enableHistory) return;\n\n\t\tconst history = [...this.searchHistory];\n\t\tconst index = history.indexOf(term);\n\n\t\tif (index > -1) {\n\t\t\thistory.splice(index, 1);\n\t\t\tthis.searchHistory = history;\n\n\t\t\t// Update localStorage\n\t\t\tif (typeof localStorage !== \"undefined\") {\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\tthis.historyKey,\n\t\t\t\t\tJSON.stringify(this.searchHistory),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Update suggestions after removal\n\t\t\tthis.updateSuggestions();\n\n\t\t\t// Close dropdown if no history remains\n\t\t\tif (this.searchHistory.length === 0 && this.value.length === 0) {\n\t\t\t\tthis.showDropdown = false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Handle click on history delete button\n\tprivate handleHistoryDelete = (event: Event, term: string) => {\n\t\tevent.stopPropagation(); // Prevent selection of the entry\n\t\tthis.removeFromHistory(term);\n\t};\n\n\tprivate requestSuggestions(query: string) {\n\t\tthis.ifxSuggestionRequested.emit(query);\n\t\tthis.updateSuggestions();\n\t}\n\n\tprivate updateSuggestions() {\n\t\tconst query = this.value.toLowerCase();\n\t\tlet suggestions: SuggestionItem[] = [];\n\n\t\tif (query.length > 0) {\n\t\t\t// For text input: Mix external suggestions and relevant history\n\n\t\t\t// 1. Filter external suggestions\n\t\t\tif (this.suggestions && this.suggestions.length > 0) {\n\t\t\t\tconst filteredExternal = this.suggestions.filter((s) =>\n\t\t\t\t\ts.text.toLowerCase().includes(query),\n\t\t\t\t);\n\t\t\t\tsuggestions = [...suggestions, ...filteredExternal];\n\t\t\t}\n\n\t\t\t// 2. Filter relevant history entries\n\t\t\tif (this.enableHistory && this.searchHistory.length > 0) {\n\t\t\t\tconst filteredHistory = this.searchHistory\n\t\t\t\t\t.filter((term) => term.toLowerCase().includes(query))\n\t\t\t\t\t.map((term, index) => ({\n\t\t\t\t\t\tid: `history-${index}`,\n\t\t\t\t\t\ttext: term,\n\t\t\t\t\t\ttype: \"history\" as const,\n\t\t\t\t\t}));\n\t\t\t\tsuggestions = [...suggestions, ...filteredHistory];\n\t\t\t}\n\n\t\t\t// 3. Sort by relevance (exact matches first, then prefix matches)\n\t\t\tsuggestions.sort((a, b) => {\n\t\t\t\tconst aText = a.text.toLowerCase();\n\t\t\t\tconst bText = b.text.toLowerCase();\n\n\t\t\t\t// Exact match has highest priority\n\t\t\t\tif (aText === query && bText !== query) return -1;\n\t\t\t\tif (bText === query && aText !== query) return 1;\n\n\t\t\t\t// Prefix match has second highest priority\n\t\t\t\tconst aStartsWith = aText.startsWith(query);\n\t\t\t\tconst bStartsWith = bText.startsWith(query);\n\n\t\t\t\tif (aStartsWith && !bStartsWith) return -1;\n\t\t\t\tif (bStartsWith && !aStartsWith) return 1;\n\n\t\t\t\t// With equal relevance: external suggestions before history\n\t\t\t\tif (a.type === \"suggestion\" && b.type === \"history\") return -1;\n\t\t\t\tif (a.type === \"history\" && b.type === \"suggestion\") return 1;\n\n\t\t\t\t// Alphabetical sorting as last criterion\n\t\t\t\treturn aText.localeCompare(bText);\n\t\t\t});\n\t\t} else {\n\t\t\t// For empty query: Show only history (no external suggestions)\n\t\t\tif (this.enableHistory && this.searchHistory.length > 0) {\n\t\t\t\tconst historySuggestions = this.searchHistory.map((term, index) => ({\n\t\t\t\t\tid: `history-${index}`,\n\t\t\t\t\ttext: term,\n\t\t\t\t\ttype: \"history\" as const,\n\t\t\t\t}));\n\n\t\t\t\tsuggestions = historySuggestions;\n\t\t\t}\n\t\t\t// For empty query DO NOT show external suggestions\n\t\t}\n\n\t\t// Remove duplicates based on text and scope combination (history takes precedence over external)\n\t\tconst uniqueSuggestions = suggestions.reduce(\n\t\t\t(unique: SuggestionItem[], current) => {\n\t\t\t\tconst existingIndex = unique.findIndex(\n\t\t\t\t\t(item) =>\n\t\t\t\t\t\titem.text.toLowerCase() === current.text.toLowerCase() &&\n\t\t\t\t\t\titem.scope === current.scope,\n\t\t\t\t);\n\t\t\t\tif (existingIndex === -1) {\n\t\t\t\t\tunique.push(current);\n\t\t\t\t} else {\n\t\t\t\t\t// If already exists, prefer history over external suggestions\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrent.type === \"history\" &&\n\t\t\t\t\t\tunique[existingIndex].type !== \"history\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tunique[existingIndex] = current;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn unique;\n\t\t\t},\n\t\t\t[],\n\t\t);\n\n\t\tthis.filteredSuggestions = uniqueSuggestions.slice(0, this.maxSuggestions);\n\t\tthis.selectedSuggestionIndex = -1;\n\t}\n\n\tprivate navigateSuggestions(direction: number) {\n\t\tconst maxIndex = this.filteredSuggestions.length - 1;\n\n\t\tif (direction > 0) {\n\t\t\tthis.selectedSuggestionIndex =\n\t\t\t\tthis.selectedSuggestionIndex < maxIndex\n\t\t\t\t\t? this.selectedSuggestionIndex + 1\n\t\t\t\t\t: 0;\n\t\t} else {\n\t\t\tthis.selectedSuggestionIndex =\n\t\t\t\tthis.selectedSuggestionIndex > 0\n\t\t\t\t\t? this.selectedSuggestionIndex - 1\n\t\t\t\t\t: maxIndex;\n\t\t}\n\t}\n\n\tprivate selectSuggestion(suggestion: SuggestionItem) {\n\t\tthis.value = suggestion.text;\n\t\tthis.inputElement.value = suggestion.text;\n\t\tthis.ifxSuggestionSelected.emit(suggestion);\n\t\tthis.ifxInput.emit(this.value);\n\n\t\tif (this.enableHistory) {\n\t\t\t// Always add selected suggestions to history since they are valid results\n\t\t\tthis.addToHistory(suggestion.text);\n\t\t}\n\n\t\tthis.hideDropdown();\n\t}\n\n\tprivate hideDropdown() {\n\t\tthis.showDropdown = false;\n\t\tthis.selectedSuggestionIndex = -1;\n\t\tthis.isFocused = false;\n\t}\n\n\t// Show only history in dropdown (e.g. on focus without input)\n\tprivate showHistoryDropdown() {\n\t\tif (this.enableHistory && this.searchHistory.length > 0) {\n\t\t\t// Show only history entries\n\t\t\tconst historySuggestions = this.searchHistory.map((term, index) => ({\n\t\t\t\tid: `history-${index}`,\n\t\t\t\ttext: term,\n\t\t\t\ttype: \"history\" as const,\n\t\t\t}));\n\n\t\t\tthis.filteredSuggestions = historySuggestions.slice(\n\t\t\t\t0,\n\t\t\t\tthis.maxSuggestions,\n\t\t\t);\n\t\t\tthis.selectedSuggestionIndex = -1;\n\t\t} else {\n\t\t\tthis.filteredSuggestions = [];\n\t\t}\n\t}\n\n\t// Check if only history entries are displayed (without text input)\n\tprivate isShowingOnlyHistory(): boolean {\n\t\treturn (\n\t\t\tthis.value.length === 0 &&\n\t\t\tthis.filteredSuggestions.length > 0 &&\n\t\t\tthis.filteredSuggestions.every((s) => s.type === \"history\")\n\t\t);\n\t}\n\n\t// Render text with highlighted matches\n\tprivate renderHighlightedText(text: string, query: string) {\n\t\tif (!query || query.length === 0) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst lowerText = text.toLowerCase();\n\t\tconst lowerQuery = query.toLowerCase();\n\t\tconst index = lowerText.indexOf(lowerQuery);\n\n\t\tif (index === -1) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst before = text.substring(0, index);\n\t\tconst match = text.substring(index, index + query.length);\n\t\tconst after = text.substring(index + query.length);\n\n\t\treturn [before, <strong>{match}</strong>, after];\n\t}\n\n\tcomponentWillLoad() {\n\t\tthis.loadSearchHistory();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-search-field\", await framework);\n\t\t}\n\t}\n\n\tcomponentWillUpdate() {\n\t\tif (this.value !== \"\") {\n\t\t\tthis.showDeleteIconInternalState = true;\n\t\t} else this.showDeleteIconInternalState = false;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-disabled={this.disabled}\n\t\t\t\taria-value={this.value}\n\t\t\t\tclass=\"search-field\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass={this.getWrapperClassNames()}\n\t\t\t\t\ttabindex={1}\n\t\t\t\t\tonClick={() => this.focusInput()}\n\t\t\t\t>\n\t\t\t\t\t<ifx-icon icon=\"search-16\" class=\"search-icon\"></ifx-icon>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={(el) => (this.inputElement = el)}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautocomplete={this.autocomplete}\n\t\t\t\t\t\tonInput={() => this.handleInput()}\n\t\t\t\t\t\tonFocus={() => this.focusInput()}\n\t\t\t\t\t\tonBlur={() => this.blurInput()}\n\t\t\t\t\t\tplaceholder={this.placeholder}\n\t\t\t\t\t\tdisabled={this.disabled}\n\t\t\t\t\t\tmaxlength={this.maxlength}\n\t\t\t\t\t\tvalue={this.value}\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\taria-controls={\n\t\t\t\t\t\t\tthis.showDropdown ? \"suggestions-dropdown\" : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\taria-expanded={this.showDropdown}\n\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\t\t\taria-label={this.ariaLabel}\n\t\t\t\t\t\taria-labelledby={this.ariaLabelledBy}\n\t\t\t\t\t\taria-describedby={this.ariaDescribedBy}\n\t\t\t\t\t\taria-owns={this.showDropdown ? \"suggestions-dropdown\" : undefined}\n\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\tthis.selectedSuggestionIndex >= 0\n\t\t\t\t\t\t\t\t? `suggestion-${this.selectedSuggestionIndex}`\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.showDeleteIcon && this.showDeleteIconInternalState ? (\n\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\ticon=\"cRemove16\"\n\t\t\t\t\t\t\tclass=\"delete-icon\"\n\t\t\t\t\t\t\tonClick={this.handleDelete}\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\taria-label={this.deleteIconAriaLabel}\n\t\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\t\tif (event.key === \"Enter\" || event.key === \" \") {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tthis.handleDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Suggestions Dropdown */}\n\t\t\t\t{this.showDropdown && this.filteredSuggestions.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={(el) => (this.dropdownElement = el)}\n\t\t\t\t\t\tid=\"suggestions-dropdown\"\n\t\t\t\t\t\tclass=\"suggestions-dropdown\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-label={this.dropdownAriaLabel}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* History Header - only show when exclusively showing history entries */}\n\t\t\t\t\t\t{this.isShowingOnlyHistory() && (\n\t\t\t\t\t\t\t<div class=\"suggestions-header\">{this.historyHeaderText}</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{this.filteredSuggestions.map((suggestion, index) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={suggestion.id}\n\t\t\t\t\t\t\t\tid={`suggestion-${index}`}\n\t\t\t\t\t\t\t\tclass={this.getSuggestionClassNames(index)}\n\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\taria-selected={index === this.selectedSuggestionIndex}\n\t\t\t\t\t\t\t\taria-label={`${suggestion.type === \"history\" ? this.historyItemAriaLabel : this.suggestionAriaLabel}: ${suggestion.text}${suggestion.scope ? `, ${suggestion.scope}` : \"\"}${suggestion.resultCount ? `, ${suggestion.resultCount} results` : \"\"}`}\n\t\t\t\t\t\t\t\tonClick={() => this.selectSuggestion(suggestion)}\n\t\t\t\t\t\t\t\tonMouseEnter={() => (this.selectedSuggestionIndex = index)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"suggestion-content\">\n\t\t\t\t\t\t\t\t\t{suggestion.type === \"history\" && (\n\t\t\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\t\t\ticon=\"history-16\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"suggestion-icon suggestion-icon--history\"\n\t\t\t\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{suggestion.type === \"suggestion\" && (\n\t\t\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\t\t\ticon=\"search-16\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"suggestion-icon suggestion-icon--suggestion\"\n\t\t\t\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span class=\"suggestion-text\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"suggestion-main-text\">\n\t\t\t\t\t\t\t\t\t\t\t{this.renderHighlightedText(suggestion.text, this.value)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{suggestion.scope && (\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"suggestion-scope\">â€“ {suggestion.scope}</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t{suggestion.resultCount !== undefined && suggestion.scope && (\n\t\t\t\t\t\t\t\t\t\t<span class=\"suggestion-count\">\n\t\t\t\t\t\t\t\t\t\t\t{suggestion.resultCount}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{/* Delete Button only for history entries */}\n\t\t\t\t\t\t\t\t\t{suggestion.type === \"history\" && (\n\t\t\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\t\t\ticon=\"cross16\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"suggestion-delete-icon\"\n\t\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\taria-label={`${this.historyDeleteAriaLabel}: ${suggestion.text}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.handleHistoryDelete(event, suggestion.text)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (event.key === \"Enter\" || event.key === \" \") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleHistoryDelete(event, suggestion.text);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetSizeClass() {\n\t\treturn `${this.size}` === \"s\" ? \"search-field__wrapper-s\" : \"\";\n\t}\n\n\tgetWrapperClassNames() {\n\t\treturn classNames(\n\t\t\t`search-field__wrapper`,\n\t\t\t`search-field__wrapper ${this.getSizeClass()}`,\n\t\t\t`${this.isFocused ? \"focused\" : \"\"}`,\n\t\t\t`${this.showDropdown ? \"dropdown-open\" : \"\"}`,\n\t\t\t`${this.disabled ? \"disabled\" : \"\"}`,\n\t\t);\n\t}\n\n\tgetSuggestionClassNames(index: number) {\n\t\treturn classNames(\"suggestion-item\", {\n\t\t\t\"suggestion-item--selected\": index === this.selectedSuggestionIndex,\n\t\t\t\"suggestion-item--history\":\n\t\t\t\tthis.filteredSuggestions[index]?.type === \"history\",\n\t\t});\n\t}\n}\n"]}