{"version":3,"file":"radio-button.js","sourceRoot":"","sources":["../../../src/components/radio-button/radio-button.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tMethod,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n\ttag: \"ifx-radio-button\",\n\tstyleUrl: \"radio-button.scss\",\n\tshadow: true,\n\t// formAssociated: true\n})\nexport class RadioButton {\n\t@Element() el: HTMLElement;\n\t@Prop() disabled: boolean = false;\n\t@Prop() value: string;\n\t@Prop() error: boolean = false;\n\t@Prop({ reflect: true }) size: \"s\" | \"m\" = \"s\";\n\t@Prop({ reflect: true }) name: string;\n\t@Prop({ mutable: true }) checked: boolean;\n\t@State() internalChecked: boolean = false;\n\t@State() hasSlot: boolean = false;\n\n\t@Method()\n\tasync isChecked(): Promise<boolean> {\n\t\treturn this.internalChecked;\n\t}\n\n\tprivate inputElement: HTMLInputElement;\n\t//private internals: ElementInternals;\n\tprivate fallbackInput: HTMLInputElement;\n\n\t@Event({ eventName: \"ifxChange\" }) ifxChange: EventEmitter;\n\t@Event({ eventName: \"ifxError\" }) ifxError: EventEmitter;\n\n\tcomponentWillLoad() {\n\t\t// Fallback for form association\n\t\tthis.fallbackInput = document.createElement(\"input\");\n\t\tthis.fallbackInput.type = \"radio\";\n\t\tthis.fallbackInput.hidden = true;\n\t\tthis.fallbackInput.className = \"_ifx-radiobutton-fallback\";\n\t\tthis.fallbackInput.style.cssText = `\n      display: none !important;\n      position: absolute !important;\n      opacity: 0 !important;\n      pointer-events: none !important;\n      width: 0 !important;\n      height: 0 !important;\n    `;\n\t\tthis.fallbackInput.setAttribute(\"aria-hidden\", \"true\");\n\t\tthis.fallbackInput.tabIndex = -1;\n\t\tthis.el.appendChild(this.fallbackInput);\n\n\t\t// Initialize ElementInternals if supported\n\t\tif (\"attachInternals\" in HTMLElement.prototype) {\n\t\t\ttry {\n\t\t\t\t//this.internals = this.el.attachInternals();\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(\"ElementInternals not supported\");\n\t\t\t}\n\t\t}\n\n\t\t// Initial state\n\t\tthis.internalChecked = this.checked || false;\n\t\tthis.hasSlot =\n\t\t\t!!this.el.querySelector(\"[slot]\") || this.el.innerHTML.trim() !== \"\";\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-radio-button\", await framework);\n\t\t}\n\t}\n\n\t@Watch(\"checked\")\n\thandleCheckedChange(newValue: boolean) {\n\t\tthis.internalChecked = newValue;\n\t}\n\n\t@Watch(\"internalChecked\")\n\tupdateFormValue() {\n\t\t// Update both ElementInternals and fallback input\n\t\t// if (this.internals?.setFormValue) {\n\t\t//   this.internals.setFormValue(this.internalChecked ? this.value : null);\n\t\t// }\n\t\tthis.fallbackInput.checked = this.internalChecked;\n\t\tthis.fallbackInput.name = this.name;\n\t\tthis.fallbackInput.value = this.value;\n\t\tthis.fallbackInput.disabled = this.disabled;\n\t}\n\n\t@Watch(\"error\")\n\terrorChanged(newValue: boolean, oldValue: boolean) {\n\t\tif (newValue !== oldValue) {\n\t\t\tthis.ifxError.emit(newValue);\n\t\t}\n\t}\n\n\thandleRadioButtonClick(event: Event) {\n\t\tif (this.disabled) {\n\t\t\tevent.stopPropagation();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inputElement.click();\n\t\tthis.internalChecked = this.inputElement.checked;\n\t\tthis.checked = this.internalChecked;\n\t\tthis.ifxChange.emit(this.internalChecked);\n\n\t\tconst changeEvent = new CustomEvent(\"change\", {\n\t\t\tbubbles: true,\n\t\t\tcomposed: true,\n\t\t\tdetail: { checked: this.internalChecked },\n\t\t});\n\t\tthis.el.dispatchEvent(changeEvent);\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(ev: KeyboardEvent) {\n\t\tif ([\" \", \"Enter\"].includes(ev.key)) {\n\t\t\tev.preventDefault();\n\t\t\tthis.handleRadioButtonClick(new PointerEvent(\"click\"));\n\t\t}\n\t}\n\n\t@Listen(\"change\", { target: \"document\" })\n\thandleExternalChange(event: Event) {\n\t\tconst target = event.target as HTMLElement;\n\t\tif (\n\t\t\ttarget === this.el ||\n\t\t\ttarget.tagName.toLowerCase() !== \"ifx-radio-button\"\n\t\t)\n\t\t\treturn;\n\n\t\tif (target.getAttribute(\"name\") === this.name) {\n\t\t\tthis.internalChecked = false;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"radio\"\n\t\t\t\taria-checked={String(this.internalChecked)}\n\t\t\t\taria-disabled={String(this.disabled)}\n\t\t\t\tclass={`radioButton__container ${this.size} ${this.disabled ? \"disabled\" : \"\"}`}\n\t\t\t\tonClick={(e) => this.handleRadioButtonClick(e)}\n\t\t\t\ttabindex={this.disabled ? -1 : 0}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass={`radioButton__wrapper \n            ${this.internalChecked ? \"checked\" : \"\"}  \n            ${this.error ? \"error\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t{this.internalChecked && (\n\t\t\t\t\t\t<div class=\"radioButton__wrapper-mark\"></div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{this.hasSlot && (\n\t\t\t\t\t<div class={`label ${this.size === \"m\" ? \"label-m\" : \"\"}`}>\n\t\t\t\t\t\t<slot />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\thidden\n\t\t\t\t\tref={(el) => (this.inputElement = el)}\n\t\t\t\t\tname={this.name}\n\t\t\t\t\tvalue={this.value}\n\t\t\t\t\tchecked={this.internalChecked}\n\t\t\t\t\tdisabled={this.disabled}\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}