{"version":3,"file":"table.js","sourceRoot":"","sources":["../../../src/components/table-advanced-version/table.tsx"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @stencil-community/own-methods-must-be-private */\nimport { Component, Element, Event, EventEmitter, Host, h, Listen, Method, Prop, State, Watch } from \"@stencil/core\";\nimport {\n\tAllCommunityModule,\n\tCellPosition,\n\tcreateGrid,\n\ttype GridApi,\n\ttype GridOptions,\n\tModuleRegistry,\n} from \"ag-grid-community\";\nimport classNames from \"classnames\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\nimport { ButtonCellRenderer } from \"./buttonCellRenderer\";\nimport { CheckboxCellRenderer } from \"./checkboxCellRenderer\";\nimport { CheckboxHeaderRenderer } from \"./checkboxHeaderRenderer\";\nimport { CustomLoadingOverlay } from \"./customLoadingOverlay\";\nimport { CustomNoRowsOverlay } from \"./customNoRowsOverlay\";\nimport { IconButtonCellRenderer } from \"./iconButtonCellRenderer\";\nimport { LinkCellRenderer } from \"./linkCellRenderer\";\nimport { StatusCellRenderer } from \"./statusCellRenderer\";\nimport { TooltipCellRenderer } from \"./tooltipCellRenderer\";\n\n@Component({\n\ttag: \"ifx-table\",\n\tstyleUrl: \"table.scss\",\n\tshadow: true,\n})\nexport class Table {\n\tgridOptions: GridOptions;\n\tgridApi: GridApi;\n\t@State() currentPage: number = 1;\n\t@Prop() cols: any;\n\t@Prop() rows: any;\n\t@Prop() buttonRendererOptions?: {\n\t\tonButtonClick?: (params: any, event: Event) => void;\n\t};\n\t@Prop() iconButtonRendererOptions?: {\n\t\tonIconButtonClick?: (params: any, event: Event) => void;\n\t};\n\t@Prop() checkboxRendererOptions?: {\n\t\tonCheckboxClick?: (params: any, event: Event) => void;\n\t};\n\t@State() rowData: any[] = [];\n\t@State() colData: any[] = [];\n\t@State() filterOptions: { [key: string]: string[] } = {};\n\t@State() currentFilters = {};\n\t@State() uniqueKey: string;\n\tallRowData: any[] = [];\n\t@Prop() rowHeight: string = \"default\";\n\t@Prop() tableHeight: string = \"auto\";\n\t@Prop() pagination: boolean = true;\n\t@Prop() paginationItemsPerPage: string;\n\t@State() paginationPageSize: number = 10;\n\t@Prop() filterOrientation: string = \"sidebar\";\n\t@Prop() headline: string = \"\";\n\t@State() showSidebarFilters: boolean = true;\n\t@State() matchingResultsCount: number = 0;\n\t@Prop() variant: string = \"default\";\n\t@Prop() serverSidePagination: boolean = false;\n\t@Prop() serverPageChangeHandler?: (params: {\n\t\tpage: number;\n\t\tpageSize: number;\n\t}) => Promise<{ rows: any[]; total: number }>;\n\t@Prop() enableSelection: boolean = false;\n\t@State() selectedRows: Set<string> = new Set();\n\t@State() selectAll: boolean = false;\n\t@State() selectedRowsData: Map<string, any> = new Map();\n\t@Prop() showLoading: boolean = false;\n\t@Prop() fitColumns: boolean = false;\n\t@Prop() columnMinWidth?: number;\n\t@Prop() columnWidth?: string;\n\t@Event() ifxSortChange: EventEmitter;\n\tprivate container: HTMLDivElement;\n\tprivate lastSortedColumn: string = null;\n\t@Element() host: HTMLElement;\n\toriginalRowData: any[] = [];\n\n\tprivate internalItemsPerPage = JSON.stringify([\n\t\t{ value: 10, label: \"10\", selected: true },\n\t\t{ value: 20, label: \"20\", selected: false },\n\t\t{ value: 30, label: \"30\", selected: false },\n\t]);\n\n\t@Watch(\"rows\")\n\trowsChanged(_newVal: any) {\n\t\tconst parsed = this.parseArrayInput<any>(this.rows);\n\n\t\tparsed.forEach((row, index) => {\n\t\t\tif (!row.__rowId) {\n\t\t\t\trow.__rowId = `row_${index}_${Date.now()}_${Math.random()}`;\n\t\t\t}\n\t\t});\n\n\t\tif (this.enableSelection) {\n\t\t\tparsed.forEach((row) => {\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\tthis.currentFilters = {};\n\t\tthis.currentPage = 1;\n\t\tthis.originalRowData = [...parsed];\n\t\tthis.allRowData = [...parsed];\n\t\tthis.matchingResultsCount = this.allRowData.length;\n\t\tthis.updateTableView();\n\t\tthis.updateFilterOptions();\n\t}\n\n\t@Watch(\"fitColumns\")\n\t@Watch(\"columnMinWidth\")\n\tonSizingOptionsChanged() {\n\t\tthis.applyColumnSizing();\n\t}\n\n\t@Watch(\"cols\")\n\tcolsChanged(_newVal: any) {\n\t\tthis.colData = this.getColData();\n\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\n\t\tthis.updateFilterOptions();\n\t}\n\n\t@Listen(\"ifxItemsPerPageChange\")\n\thandleResultsPerPageChange(e: CustomEvent<string>) {\n\t\tthis.paginationPageSize = Number(e.detail);\n\t\tthis.currentPage = 1;\n\t\tthis.updateTableView();\n\t}\n\n\t@Listen(\"ifxChange\")\n\thandleChipChange({\n\t\tevent,\n\t}: {\n\t\tevent: CustomEvent<{\n\t\t\tpreviousSelection: Array<any>;\n\t\t\tcurrentSelection: Array<any>;\n\t\t\tname: string;\n\t\t}>;\n\t}) {\n\t\tconst { name, currentSelection, previousSelection } = event.detail;\n\t\tif (currentSelection && previousSelection) {\n\t\t\t// Clone the current filters state\n\t\t\tconst updatedFilters = { ...this.currentFilters };\n\n\t\t\tif (currentSelection.length === 0) {\n\t\t\t\t// If there are no selections for this filter, delete the filter\n\t\t\t\tdelete updatedFilters[name];\n\n\t\t\t\t// Emit event with specific filter name\n\t\t\t\tconst customEvent = new CustomEvent(\"ifxUpdateSidebarFilter\", {\n\t\t\t\t\tdetail: { filterName: name },\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true,\n\t\t\t\t});\n\t\t\t\tthis.host.dispatchEvent(customEvent);\n\t\t\t} else {\n\t\t\t\t// Otherwise, update the filter values with the current selection\n\t\t\t\tupdatedFilters[name].filterValues = currentSelection.map(\n\t\t\t\t\t(selection) => selection.value,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Update the component's filters\n\t\t\tthis.currentFilters = updatedFilters;\n\t\t\t// Ensure table data is updated\n\t\t\tthis.allRowData = this.applyAllFilters(\n\t\t\t\tthis.originalRowData,\n\t\t\t\tthis.currentFilters,\n\t\t\t);\n\t\t\tthis.updateTableView();\n\t\t}\n\t}\n\n\t@Watch(\"buttonRendererOptions\")\n\tonButtonRendererOptionsChanged() {\n\t\tthis.colData = this.getColData();\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\t}\n\n\t@Watch(\"iconButtonRendererOptions\")\n\tonIconButtonRendererOptionsChanged() {\n\t\tthis.colData = this.getColData();\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\t}\n\n\t@Watch(\"checkboxRendererOptions\")\n\tonCheckboxRendererOptionsChanged() {\n\t\tthis.colData = this.getColData();\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\t}\n\n\tprivate parseArrayInput<T>(input: any): T[] {\n\t\tif (typeof input === \"string\") {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(input);\n\t\t\t\treturn Array.isArray(parsed) ? parsed : [];\n\t\t\t} catch {\n\t\t\t\tconsole.error(\"Failed to parse input:\", input);\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t\tif (Array.isArray(input)) return input;\n\t\tif (typeof input === \"object\" && input !== null) return [input as T];\n\t\treturn [];\n\t}\n\n\ttoggleSidebarFilters() {\n\t\tthis.showSidebarFilters = !this.showSidebarFilters;\n\t}\n\n\tapplyColumnSizing() {\n\t\tif (!this.gridApi) return;\n\n\t\tif (this.fitColumns) {\n\t\t\tthis.gridApi.sizeColumnsToFit({\n\t\t\t\tdefaultMinWidth: this.columnMinWidth,\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateFilterOptions() {\n\t\tconst options = {};\n\t\tfor (let col of this.colData) {\n\t\t\toptions[col.field] = [\n\t\t\t\t...new Set(this.rowData.map((row) => row[col.field])),\n\t\t\t];\n\t\t}\n\t\tthis.filterOptions = options;\n\t}\n\n\tprivate updateHeaderCheckboxState() {\n\t\tif (this.gridApi && this.enableSelection) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst headerCheckbox = this.container?.querySelector(\n\t\t\t\t\t'.ag-header-cell[col-id=\"__checkbox\"] ifx-checkbox',\n\t\t\t\t) as any;\n\t\t\t\tif (headerCheckbox) {\n\t\t\t\t\tif (this.serverSidePagination) {\n\t\t\t\t\t\tconst currentPageSelectedCount = this.rowData.filter((row) =>\n\t\t\t\t\t\t\tthis.selectedRows.has(row.__rowId),\n\t\t\t\t\t\t).length;\n\t\t\t\t\t\tconst allOnPageSelected =\n\t\t\t\t\t\t\tcurrentPageSelectedCount === this.rowData.length &&\n\t\t\t\t\t\t\tthis.rowData.length > 0;\n\t\t\t\t\t\tconst someOnPageSelected =\n\t\t\t\t\t\t\tcurrentPageSelectedCount > 0 &&\n\t\t\t\t\t\t\tcurrentPageSelectedCount < this.rowData.length;\n\n\t\t\t\t\t\theaderCheckbox.checked = allOnPageSelected;\n\t\t\t\t\t\theaderCheckbox.indeterminate = someOnPageSelected;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst allSelected =\n\t\t\t\t\t\t\tthis.selectedRows.size === this.allRowData.length &&\n\t\t\t\t\t\t\tthis.allRowData.length > 0;\n\t\t\t\t\t\tconst someSelected =\n\t\t\t\t\t\t\tthis.selectedRows.size > 0 &&\n\t\t\t\t\t\t\tthis.selectedRows.size < this.allRowData.length;\n\n\t\t\t\t\t\theaderCheckbox.checked = allSelected;\n\t\t\t\t\t\theaderCheckbox.indeterminate = someSelected;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\thandleSidebarFilterChange(event: CustomEvent) {\n\t\tconst filterGroups = event.detail;\n\t\tconst updatedFilters = {};\n\n\t\tfilterGroups.forEach((filterGroup) => {\n\t\t\tconst filterName = filterGroup.filterGroupName;\n\t\t\tlet filterValues;\n\t\t\tlet type;\n\n\t\t\tif (filterGroup.selectedItems && filterGroup.selectedItems.length > 0) {\n\t\t\t\tfilterValues = filterGroup.selectedItems.map((item) => item.label);\n\t\t\t\ttype = \"multi-select\";\n\t\t\t} else if (filterGroup.value) {\n\t\t\t\tfilterValues = [filterGroup.value];\n\t\t\t\ttype = \"text\";\n\t\t\t} else {\n\t\t\t\tfilterValues = [];\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tfilterValues.length === 0 ||\n\t\t\t\t\t(filterValues.length === 1 &&\n\t\t\t\t\t\ttype === \"text\" &&\n\t\t\t\t\t\tfilterValues[0] === \"\")\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tupdatedFilters[filterName] = { filterValues, type };\n\t\t\t}\n\t\t});\n\n\t\tthis.allRowData = this.applyAllFilters(\n\t\t\tthis.originalRowData,\n\t\t\tupdatedFilters,\n\t\t);\n\t\tthis.updateTableView();\n\t\tthis.currentFilters = updatedFilters;\n\t}\n\n\thandleTopbarFilterChange(event: CustomEvent) {\n\t\tconst filters = event.detail;\n\n\t\t// Start by resetting the filter conditions to a blank object\n\t\tthis.currentFilters = {};\n\n\t\t// Loop through each filter group provided in the event detail\n\t\tfilters.forEach((filter) => {\n\t\t\tconst filterName = filter.filterName;\n\t\t\tlet filterValues;\n\n\t\t\tlet type = filter.type;\n\n\t\t\tif (type === \"text\") {\n\t\t\t\t// Search/Text filter\n\t\t\t\tfilterValues = filter.filterValues;\n\t\t\t} else {\n\t\t\t\t// Multi-select/Single-Select\n\t\t\t\tfilterValues = filter.filterValues.map((item) => item.label);\n\t\t\t}\n\n\t\t\t// If there are no filter values, or the filter is a text filter with an empty value, remove the filter\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tfilterValues.length === 0 ||\n\t\t\t\t\t(filterValues.length === 1 &&\n\t\t\t\t\t\ttype === \"text\" &&\n\t\t\t\t\t\tfilterValues[0] === \"\")\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// Add or update the filter in the currentFilters object\n\t\t\t\tthis.currentFilters[filterName] = { filterValues, type };\n\t\t\t}\n\t\t});\n\n\t\t// Now that the currentFilters object has been updated, apply all filters to the data\n\t\tthis.allRowData = this.applyAllFilters(\n\t\t\tthis.originalRowData,\n\t\t\tthis.currentFilters,\n\t\t);\n\n\t\t// After filtering, update the table view with the new filtered data\n\t\tthis.updateTableView();\n\t}\n\n\tapplyAllFilters(data, filters) {\n\t\treturn data.filter((row) => {\n\t\t\tfor (const filterName in filters) {\n\t\t\t\tconst filterInfo = filters[filterName];\n\t\t\t\tlet selectedValues = (filterInfo.filterValues || []).map((value) => {\n\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\treturn value.toLowerCase();\n\t\t\t\t\t} else if (typeof value === \"number\" || typeof value === \"boolean\") {\n\t\t\t\t\t\treturn value.toString();\n\t\t\t\t\t}\n\t\t\t\t\treturn \"\";\n\t\t\t\t});\n\n\t\t\t\t// For text filters, check if row values start with any of the selectedValues\n\t\t\t\tif (filterInfo.type === \"text\") {\n\t\t\t\t\tlet textFilterMatched = false;\n\t\t\t\t\tfor (let property in row) {\n\t\t\t\t\t\tif (row.hasOwnProperty(property)) {\n\t\t\t\t\t\t\tlet rowValue =\n\t\t\t\t\t\t\t\trow[property] != null\n\t\t\t\t\t\t\t\t\t? String(row[property]).toLowerCase()\n\t\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tselectedValues.some((filterValue) =>\n\t\t\t\t\t\t\t\t\trowValue.startsWith(filterValue),\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\ttextFilterMatched = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!textFilterMatched) return false;\n\t\t\t\t} else if (filterInfo.type === \"multi-select\") {\n\t\t\t\t\tlet rowValue =\n\t\t\t\t\t\trow[filterName] != null\n\t\t\t\t\t\t\t? String(row[filterName]).toLowerCase()\n\t\t\t\t\t\t\t: \"\";\n\n\t\t\t\t\tlet includesUndefined = selectedValues.includes(\"undefined\");\n\t\t\t\t\tif (\n\t\t\t\t\t\t!selectedValues.includes(rowValue) &&\n\t\t\t\t\t\t!(includesUndefined && rowValue === \"\")\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tasync updateTableView() {\n\t\tif (this.serverSidePagination) {\n\t\t\tthis.selectAll = false;\n\t\t}\n\n\t\tif (this.serverSidePagination && this.serverPageChangeHandler) {\n\t\t\tconst { rows, total } = await this.serverPageChangeHandler({\n\t\t\t\tpage: this.currentPage,\n\t\t\t\tpageSize: this.paginationPageSize,\n\t\t\t});\n\n\t\t\trows.forEach((row, index) => {\n\t\t\t\tconst rowId =\n\t\t\t\t\trow.sampleNumber ||\n\t\t\t\t\t`row_${(this.currentPage - 1) * this.paginationPageSize + index}`;\n\t\t\t\trow.__rowId = rowId;\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.rowData = rows;\n\t\t\tthis.matchingResultsCount = total;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", rows);\n\t\t\t\tthis.updateHeaderCheckboxState();\n\t\t\t}\n\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.setAttribute(\"total\", total.toString());\n\t\t\t}\n\t\t} else {\n\t\t\tlet visibleRowData;\n\n\t\t\tif (this.pagination) {\n\t\t\t\tconst startIndex = (this.currentPage - 1) * this.paginationPageSize;\n\t\t\t\tconst endIndex = startIndex + this.paginationPageSize;\n\t\t\t\tvisibleRowData = this.allRowData.slice(startIndex, endIndex);\n\t\t\t} else {\n\t\t\t\tvisibleRowData = this.allRowData;\n\t\t\t}\n\n\t\t\tif (this.enableSelection) {\n\t\t\t\tvisibleRowData.forEach((row) => {\n\t\t\t\t\tif (!row.__checkbox) {\n\t\t\t\t\t\trow.__checkbox = {\n\t\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\t\t\tsize: \"s\",\n\t\t\t\t\t\t\tindeterminate: false,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow.__checkbox.checked =\n\t\t\t\t\t\t\tthis.selectedRows?.has(row.__rowId) || false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.rowData = visibleRowData;\n\t\t\tthis.matchingResultsCount = this.allRowData.length;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", this.rowData);\n\t\t\t}\n\t\t\tthis.updateHeaderCheckboxState();\n\t\t}\n\t}\n\n\tclearAllFilters() {\n\t\tthis.currentFilters = {};\n\t\tthis.allRowData = [...this.originalRowData];\n\t}\n\n\t@Method()\n\tasync onBtShowLoading() {\n\t\tthis.gridApi.showLoadingOverlay();\n\t}\n\n\tsetPaginationItemsPerPage() {\n\t\tconst newItemsPerPage = this.paginationItemsPerPage;\n\t\tif (newItemsPerPage) {\n\t\t\tthis.internalItemsPerPage = this.paginationItemsPerPage;\n\t\t\tconst itemsPerPageArray = JSON.parse(this.internalItemsPerPage);\n\n\t\t\tconst selectedOption = itemsPerPageArray.find(\n\t\t\t\t(option) => option.selected,\n\t\t\t);\n\t\t\tif (selectedOption) {\n\t\t\t\tthis.paginationPageSize = Number(selectedOption.value);\n\t\t\t} else if (itemsPerPageArray.length > 0) {\n\t\t\t\tthis.paginationPageSize = Number(itemsPerPageArray[0].value);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillLoad() {\n\t\tModuleRegistry.registerModules([AllCommunityModule]);\n\n\t\tthis.setPaginationItemsPerPage();\n\n\t\tthis.uniqueKey = `unique-${Math.floor(Math.random() * 1000000)}`;\n\t\tthis.rowData = this.getRowData();\n\t\tthis.colData = this.getColData();\n\t\tthis.updateFilterOptions();\n\n\t\tthis.gridOptions = {\n\t\t\tsuppressCellFocus: true,\n\t\t\trowHeight: this.rowHeight === \"default\" ? 40 : 32,\n\t\t\theaderHeight: 40,\n\t\t\tcomponents: {\n\t\t\t\tcheckboxCellRenderer: CheckboxCellRenderer,\n\t\t\t\tcheckboxHeaderRenderer: CheckboxHeaderRenderer,\n\t\t\t\tcustomLoadingOverlay: CustomLoadingOverlay,\n\t\t\t\tcustomNoRowsOverlay: CustomNoRowsOverlay,\n\t\t\t},\n\t\t\tdefaultColDef: {\n\t\t\t\tresizable: true,\n\t\t\t\tautoHeight: true,\n\t\t\t\tminWidth: this.columnMinWidth,\n\t\t\t\twidth: this.columnWidth ? parseInt(this.columnWidth, 10) : undefined,\n\t\t\t},\n\t\t\tsuppressDragLeaveHidesColumns: true,\n\t\t\tenableCellTextSelection: true,\n\t\t\t// onFirstDataRendered: this.onFirstDataRendered.bind(this), //keeping for reference\n\t\t\tcolumnDefs: this.colData,\n\t\t\trowData: this.rowData,\n\t\t\tloadingOverlayComponent: CustomLoadingOverlay,\n\t\t\tnoRowsOverlayComponent: CustomNoRowsOverlay,\n\t\t\tnoRowsOverlayComponentParams: {\n\t\t\t\tnoRowsMessageFunc: () => \"No rows found\", //at: ' + new Date().toLocaleTimeString(),\n\t\t\t},\n\t\t\ticons: {\n\t\t\t\tsortAscending: '<ifx-icon icon=\"arrow-triangle-up-16\"></ifx-icon>',\n\t\t\t\tsortDescending: '<ifx-icon icon=\"arrow-triangle-down-16\"></ifx-icon>',\n\t\t\t\tsortUnSort:\n\t\t\t\t\t'<a class=\"unsort-icon-custom-color\"><ifx-icon icon=\"arrow-triangle-vertikal-16\"></ifx-icon></a>',\n\t\t\t},\n\t\t\trowDragManaged: this.colData.some((col) => col.dndSource === true)\n\t\t\t\t? true\n\t\t\t\t: false,\n\t\t\tanimateRows: this.colData.some((col) => col.dndSource === true)\n\t\t\t\t? true\n\t\t\t\t: false,\n\t\t\tnavigateToNextCell: (params) => {\n\t\t\t\treturn this.focusCellIfContainingButton(\n\t\t\t\t\tparams.api,\n\t\t\t\t\tparams.nextCellPosition,\n\t\t\t\t);\n\t\t\t},\n\t\t\ttabToNextCell: (params) => {\n\t\t\t\t// Returning null is deprecated so we return false if the result is null (browser handles tab behavior).\n\t\t\t\treturn (\n\t\t\t\t\tthis.focusCellIfContainingButton(\n\t\t\t\t\t\tparams.api,\n\t\t\t\t\t\tparams.nextCellPosition,\n\t\t\t\t\t) ?? false\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\t\tthis.updateTableView();\n\t}\n\n\tfocusCellIfContainingButton<T>(\n\t\tapi: GridApi<T>,\n\t\tcellPosition: CellPosition,\n\t): CellPosition | null {\n\t\tif (!cellPosition) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (cellPosition.column.getColDef().field === \"button\") {\n\t\t\tconst rowNode = api.getDisplayedRowAtIndex(cellPosition.rowIndex);\n\n\t\t\tif (!rowNode) {\n\t\t\t\t// Row not yet rendered due to virtualization.\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst cellRenderers = api.getCellRendererInstances({\n\t\t\t\trowNodes: [rowNode],\n\t\t\t\tcolumns: [cellPosition.column],\n\t\t\t});\n\n\t\t\tif (cellRenderers.length > 0) {\n\t\t\t\tconst renderedContent = (\n\t\t\t\t\tcellRenderers[0] as ButtonCellRenderer\n\t\t\t\t)?.getGui();\n\n\t\t\t\tif (renderedContent) {\n\t\t\t\t\tconst button = renderedContent.querySelector(\"ifx-button\");\n\n\t\t\t\t\tif (button) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// Just calling button.focus() will not work because the focus of <ifx-button> will not be\n\t\t\t\t\t\t\t// forwared to its child <a>-element (containing the tabindex attribute) due to shadow root.\n\t\t\t\t\t\t\t// We must therefore grab the <a>-element manually first and then call focus() on it.\n\t\t\t\t\t\t\tconst focusableChild =\n\t\t\t\t\t\t\t\tbutton.shadowRoot?.querySelector<HTMLElement>(\"a[tabindex]\");\n\t\t\t\t\t\t\tfocusableChild?.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn cellPosition;\n\t}\n\n\temitEventOnHeaderSortChange() {\n\t\tthis.gridApi.addEventListener(\"sortChanged\", (event: any) => {\n\t\t\tconst columnState = this.gridApi.getColumnState();\n\t\t\tconst sortedColumn = columnState.find((col) => col.sort != null);\n\n\t\t\tlet field: string;\n\t\t\tlet sort: string;\n\n\t\t\tif (sortedColumn) {\n\t\t\t\tfield = sortedColumn.colId;\n\t\t\t\tsort = sortedColumn.sort;\n\t\t\t\tthis.lastSortedColumn = sortedColumn.colId;\n\t\t\t} else {\n\t\t\t\tfield = this.lastSortedColumn || event.columns?.[0]?.getColId();\n\t\t\t\tsort = null;\n\n\t\t\t\tif (!this.lastSortedColumn && field) {\n\t\t\t\t\tthis.lastSortedColumn = field;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.ifxSortChange.emit({ field, sort });\n\t\t});\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (this.container) {\n\t\t\tif (!isNestedInIfxComponent(this.host)) {\n\t\t\t\tconst framework = detectFramework();\n\t\t\t\ttrackComponent(\"ifx-table\", await framework);\n\t\t\t}\n\t\t\tthis.gridApi = createGrid(this.container, this.gridOptions);\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.applyColumnSizing();\n\t\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", this.rowData);\n\n\t\t\t\tif (this.pagination) {\n\t\t\t\t\tconst paginationElement =\n\t\t\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\t\t\tif (paginationElement) {\n\t\t\t\t\t\tpaginationElement.addEventListener(\n\t\t\t\t\t\t\t\"ifxPageChange\",\n\t\t\t\t\t\t\tthis.handlePageChange.bind(this),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst sidebarFilterElements = this.host.querySelectorAll(\n\t\t\t\t\t\"ifx-filter-type-group\",\n\t\t\t\t);\n\t\t\t\t// Add an event listener to each SetFilter component\n\t\t\t\tsidebarFilterElements.forEach((sidebarFilterElement) => {\n\t\t\t\t\tsidebarFilterElement.addEventListener(\n\t\t\t\t\t\t\"ifxSidebarFilterChange\",\n\t\t\t\t\t\tthis.handleSidebarFilterChange.bind(this),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tconst topbarFilterElements =\n\t\t\t\t\tthis.host.querySelectorAll(\"ifx-filter-bar\");\n\t\t\t\t// Add an event listener to each SetFilter component\n\t\t\t\ttopbarFilterElements.forEach((topbarFilterElement) => {\n\t\t\t\t\ttopbarFilterElement.addEventListener(\n\t\t\t\t\t\t\"ifxTopbarFilterChange\",\n\t\t\t\t\t\tthis.handleTopbarFilterChange.bind(this),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tthis.emitEventOnHeaderSortChange();\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.pagination) {\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.removeEventListener(\n\t\t\t\t\t\"ifxPageChange\",\n\t\t\t\t\tthis.handlePageChange.bind(this),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst sidebarFilters = this.host.shadowRoot.querySelectorAll(\n\t\t\t\"ifx-filter-type-group\",\n\t\t);\n\t\t// Remove the event listener from each SetFilter component\n\t\tsidebarFilters.forEach((sidebarFilter) => {\n\t\t\tsidebarFilter.removeEventListener(\n\t\t\t\t\"ifxSidebarFilterChange\",\n\t\t\t\tthis.handleSidebarFilterChange.bind(this),\n\t\t\t);\n\t\t});\n\t\tconst topbarFilters = this.host.shadowRoot.querySelectorAll(\n\t\t\t\"ifx-filter-type-group\",\n\t\t);\n\t\t// Remove the event listener from each SetFilter component\n\t\ttopbarFilters.forEach((topbarFilter) => {\n\t\t\ttopbarFilter.removeEventListener(\n\t\t\t\t\"ifxTopbarFilterChange\",\n\t\t\t\tthis.handleTopbarFilterChange.bind(this),\n\t\t\t);\n\t\t});\n\t}\n\n\tasync handlePageChange(event) {\n\t\tif (!this.pagination) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentPage = event.detail.currentPage;\n\t\tif (this.serverSidePagination) {\n\t\t\tthis.selectAll = false;\n\t\t}\n\n\t\tif (this.serverSidePagination && this.serverPageChangeHandler) {\n\t\t\tconst { rows, total } = await this.serverPageChangeHandler({\n\t\t\t\tpage: this.currentPage,\n\t\t\t\tpageSize: this.paginationPageSize,\n\t\t\t});\n\n\t\t\trows.forEach((row, index) => {\n\t\t\t\tconst rowId =\n\t\t\t\t\trow.sampleNumber ||\n\t\t\t\t\t`row_${(this.currentPage - 1) * this.paginationPageSize + index}`;\n\t\t\t\trow.__rowId = rowId;\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.rowData = rows;\n\t\t\tthis.matchingResultsCount = total;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", this.rowData);\n\t\t\t\tthis.updateHeaderCheckboxState();\n\t\t\t}\n\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.setAttribute(\"total\", total.toString());\n\t\t\t}\n\t\t} else {\n\t\t\tconst startIndex = (this.currentPage - 1) * this.paginationPageSize;\n\t\t\tconst endIndex = startIndex + this.paginationPageSize;\n\t\t\tconst visibleRowData = this.allRowData.slice(startIndex, endIndex);\n\n\t\t\tif (this.enableSelection) {\n\t\t\t\tvisibleRowData.forEach((row) => {\n\t\t\t\t\tif (!row.__checkbox) {\n\t\t\t\t\t\trow.__checkbox = {\n\t\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\t\t\tsize: \"s\",\n\t\t\t\t\t\t\tindeterminate: false,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow.__checkbox.checked =\n\t\t\t\t\t\t\tthis.selectedRows?.has(row.__rowId) || false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.rowData = visibleRowData;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", visibleRowData);\n\t\t\t\tthis.updateHeaderCheckboxState();\n\t\t\t}\n\t\t}\n\t}\n\n\tisJSONParseable(str) {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\thandleSelectAll = (checked: boolean) => {\n\t\tthis.selectAll = checked;\n\n\t\tconst newSelectedRows = new Set(this.selectedRows);\n\t\tconst newSelectedRowsData = new Map(this.selectedRowsData);\n\n\t\tif (checked) {\n\t\t\tif (this.serverSidePagination) {\n\t\t\t\tthis.rowData.forEach((row) => {\n\t\t\t\t\tconst rowId = row.__rowId;\n\t\t\t\t\tnewSelectedRows.add(rowId);\n\t\t\t\t\tconst { __checkbox, __rowId, ...cleanRow } = row;\n\t\t\t\t\tnewSelectedRowsData.set(rowId, cleanRow);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.allRowData.forEach((row) => {\n\t\t\t\t\tconst rowId = row.__rowId;\n\t\t\t\t\tnewSelectedRows.add(rowId);\n\t\t\t\t\tconst { __checkbox, __rowId, ...cleanRow } = row;\n\t\t\t\t\tnewSelectedRowsData.set(rowId, cleanRow);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.serverSidePagination) {\n\t\t\t\tthis.rowData.forEach((row) => {\n\t\t\t\t\tconst rowId = row.__rowId;\n\t\t\t\t\tnewSelectedRows.delete(rowId);\n\t\t\t\t\tnewSelectedRowsData.delete(rowId);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnewSelectedRows.clear();\n\t\t\t\tnewSelectedRowsData.clear();\n\t\t\t}\n\t\t}\n\n\t\tthis.selectedRows = newSelectedRows;\n\t\tthis.selectedRowsData = newSelectedRowsData;\n\n\t\tthis.updateCheckboxStates();\n\t\tthis.updateHeaderCheckboxState();\n\t\tthis.emitSelectionChange();\n\t};\n\n\tgetRowData() {\n\t\tlet rows: any[] = [];\n\t\tif (this.rows === undefined || this.rows === null) {\n\t\t\treturn rows;\n\t\t}\n\t\tif (this.isJSONParseable(this.rows)) {\n\t\t\trows = [...JSON.parse(this.rows)];\n\t\t} else if (Array.isArray(this.rows) || typeof this.rows === \"object\") {\n\t\t\trows = [...this.rows];\n\t\t} else {\n\t\t\tconsole.error(\"Unexpected value for rows: \", this.rows);\n\t\t}\n\n\t\trows.forEach((row, index) => {\n\t\t\tif (!row.__rowId) {\n\t\t\t\trow.__rowId = `row_${index}_${Date.now()}_${Math.random()}`;\n\t\t\t}\n\t\t});\n\n\t\tif (this.enableSelection) {\n\t\t\trows.forEach((row) => {\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\tthis.allRowData = rows;\n\t\tthis.originalRowData = [...rows];\n\t\tthis.matchingResultsCount = this.allRowData.length;\n\t\treturn rows.slice(0, this.paginationPageSize);\n\t}\n\n\thandleRowCheckboxClick = (params: any) => {\n\t\tconst clickedRowData = params.data;\n\t\tconst rowId = clickedRowData.__rowId;\n\t\tconst newSelectedRows = new Set(this.selectedRows);\n\t\tconst newSelectedRowsData = new Map(this.selectedRowsData);\n\n\t\tif (newSelectedRows.has(rowId)) {\n\t\t\tnewSelectedRows.delete(rowId);\n\t\t\tnewSelectedRowsData.delete(rowId);\n\t\t} else {\n\t\t\tnewSelectedRows.add(rowId);\n\t\t\tconst { __checkbox, __rowId, ...cleanRow } = clickedRowData;\n\t\t\tnewSelectedRowsData.set(rowId, cleanRow);\n\t\t}\n\n\t\tthis.selectedRows = newSelectedRows;\n\t\tthis.selectedRowsData = newSelectedRowsData;\n\n\t\tif (this.serverSidePagination) {\n\t\t\tconst currentPageSelectedCount = this.rowData.filter((row) =>\n\t\t\t\tnewSelectedRows.has(row.__rowId),\n\t\t\t).length;\n\t\t\tthis.selectAll =\n\t\t\t\tcurrentPageSelectedCount === this.rowData.length &&\n\t\t\t\tthis.rowData.length > 0;\n\t\t} else {\n\t\t\tthis.selectAll =\n\t\t\t\tnewSelectedRows.size === this.allRowData.length &&\n\t\t\t\tthis.allRowData.length > 0;\n\t\t}\n\n\t\tthis.updateCheckboxStates();\n\t\tthis.updateHeaderCheckboxState();\n\t\tthis.emitSelectionChange();\n\t};\n\n\tprivate updateCheckboxStates() {\n\t\tconst dataToUpdate = this.rowData;\n\n\t\tdataToUpdate.forEach((row) => {\n\t\t\tif (row.__checkbox) {\n\t\t\t\trow.__checkbox.checked = this.selectedRows.has(row.__rowId);\n\t\t\t}\n\t\t});\n\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.refreshCells({\n\t\t\t\tcolumns: [\"__checkbox\"],\n\t\t\t\tforce: true,\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate emitSelectionChange() {\n\t\tconst selectedRowsArray = Array.from(this.selectedRowsData.values());\n\n\t\tlet isSelectAll;\n\t\tif (this.serverSidePagination) {\n\t\t\tconst currentPageSelectedCount = this.rowData.filter((row) =>\n\t\t\t\tthis.selectedRows.has(row.__rowId),\n\t\t\t).length;\n\t\t\tisSelectAll =\n\t\t\t\tcurrentPageSelectedCount === this.rowData.length &&\n\t\t\t\tthis.rowData.length > 0;\n\t\t} else {\n\t\t\tisSelectAll =\n\t\t\t\tthis.selectedRows.size === this.allRowData.length &&\n\t\t\t\tthis.allRowData.length > 0;\n\t\t}\n\n\t\tthis.host.dispatchEvent(\n\t\t\tnew CustomEvent(\"ifxSelectionChange\", {\n\t\t\t\tdetail: {\n\t\t\t\t\tselectedRows: selectedRowsArray,\n\t\t\t\t\tselectedCount: selectedRowsArray.length,\n\t\t\t\t\tisSelectAll: isSelectAll,\n\t\t\t\t},\n\t\t\t\tbubbles: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\tgetColData() {\n\t\tlet cols: any[] = [];\n\t\tif (this.cols === undefined || this.cols === null) return cols;\n\t\tif (this.isJSONParseable(this.cols)) {\n\t\t\tcols = [...JSON.parse(this.cols)];\n\t\t} else if (Array.isArray(this.cols) || typeof this.cols === \"object\") {\n\t\t\tcols = [...this.cols];\n\t\t} else {\n\t\t\tconsole.error(\"Unexpected value for cols: \", this.cols);\n\t\t}\n\n\t\tif (this.enableSelection) {\n\t\t\tconst checkboxColumn = {\n\t\t\t\theaderName: \"\",\n\t\t\t\tfield: \"__checkbox\",\n\t\t\t\twidth: 50,\n\t\t\t\tpinned: \"left\",\n\t\t\t\tcellRenderer: \"checkboxCellRenderer\",\n\t\t\t\tcellRendererParams: {\n\t\t\t\t\tonCheckboxClick: this.handleRowCheckboxClick?.bind(this),\n\t\t\t\t},\n\t\t\t\theaderComponent: \"checkboxHeaderRenderer\",\n\t\t\t\theaderComponentParams: {\n\t\t\t\t\tonSelectAll: this.handleSelectAll?.bind(this),\n\t\t\t\t},\n\t\t\t\tsortable: false,\n\t\t\t\tfilter: false,\n\t\t\t\tresizable: false,\n\t\t\t\tvalueFormatter: undefined,\n\t\t\t\tcellDataType: false,\n\t\t\t};\n\t\t\tcols.unshift(checkboxColumn);\n\t\t}\n\n\t\tcols.forEach((column) => {\n\t\t\tconst field = column.field?.toLowerCase() || \"\";\n\t\t\t// --- Button columns ---\n\t\t\tif (field.startsWith(\"button\")) {\n\t\t\t\tcolumn.cellRenderer = ButtonCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t\tif (this.buttonRendererOptions?.onButtonClick) {\n\t\t\t\t\tcolumn.cellRendererParams = {\n\t\t\t\t\t\tonButtonClick: this.buttonRendererOptions.onButtonClick,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --- Checkbox columns ---\n\t\t\telse if (field.startsWith(\"checkbox\")) {\n\t\t\t\tcolumn.cellRenderer = CheckboxCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t\tif (this.checkboxRendererOptions?.onCheckboxClick) {\n\t\t\t\t\tcolumn.cellRendererParams = {\n\t\t\t\t\t\tonCheckboxClick: this.checkboxRendererOptions.onCheckboxClick,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --- Icon Button columns ---\n\t\t\telse if (field.startsWith(\"iconbutton\") || field === \"iconButton\") {\n\t\t\t\tcolumn.cellRenderer = IconButtonCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t\tif (this.iconButtonRendererOptions?.onIconButtonClick) {\n\t\t\t\t\tcolumn.cellRendererParams = {\n\t\t\t\t\t\tonIconButtonClick: this.iconButtonRendererOptions.onIconButtonClick,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --- Status columns ---\n\t\t\telse if (field.startsWith(\"status\")) {\n\t\t\t\tcolumn.cellRenderer = StatusCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t}\n\t\t\t// --- Link columns ---\n\t\t\telse if (field.startsWith(\"link\")) {\n\t\t\t\tcolumn.cellRenderer = LinkCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t}\n\t\t\t// --- Tooltip columns ---\n\t\t\telse if (field.startsWith(\"tooltip\")) {\n\t\t\t\tcolumn.cellRenderer = TooltipCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t}\n\t\t});\n\t\treturn cols;\n\t}\n\n\t//Keeping for reference\n\t// onFirstDataRendered(params: FirstDataRenderedEvent) {\n\t//   params.api.sizeColumnsToFit();\n\t// }\n\n\thandleResetButtonClick() {\n\t\tconst resetEvent = new CustomEvent(\"ifxResetFiltersEvent\", {\n\t\t\tbubbles: true,\n\t\t\tcomposed: true,\n\t\t});\n\t\twindow.dispatchEvent(resetEvent);\n\n\t\tthis.clearAllFilters();\n\t\tthis.updateTableView();\n\t}\n\n\tdisconnectedCallback() {\n\t\tif (this.pagination) {\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.removeEventListener(\n\t\t\t\t\t\"ifxPageChange\",\n\t\t\t\t\tthis.handlePageChange,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst resetButton = this.host.shadowRoot.querySelector(\n\t\t\t\"#reset-filters-button\",\n\t\t);\n\t\tif (resetButton) {\n\t\t\tresetButton.removeEventListener(\n\t\t\t\t\"click\",\n\t\t\t\tthis.handleResetButtonClick.bind(this),\n\t\t\t);\n\t\t}\n\t}\n\n\tgetTableClassNames() {\n\t\treturn classNames(\n\t\t\tthis.tableHeight === \"auto\" && \"table-wrapper ag-root-wrapper-body\",\n\t\t\t\"table-wrapper\",\n\t\t);\n\t}\n\n\trender() {\n\t\tlet style = {};\n\t\tif (this.tableHeight !== \"auto\") {\n\t\t\tstyle = {\n\t\t\t\theight: this.tableHeight,\n\t\t\t};\n\t\t}\n\n\t\tconst filterClass =\n\t\t\tthis.filterOrientation === \"topbar\"\n\t\t\t\t? \"topbar-layout\"\n\t\t\t\t: this.filterOrientation === \"none\"\n\t\t\t\t\t? \"\"\n\t\t\t\t\t: \"sidebar-layout\";\n\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div class=\"table-container\">\n\t\t\t\t\t{this.filterOrientation === \"sidebar\" && (\n\t\t\t\t\t\t<div class=\"sidebar-btn\">\n\t\t\t\t\t\t\t<ifx-button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tdisabled={false}\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"m\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\ttheme=\"default\"\n\t\t\t\t\t\t\t\tfull-width=\"false\"\n\t\t\t\t\t\t\t\tonClick={() => this.toggleSidebarFilters()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ifx-icon icon=\"cross-16\"></ifx-icon>\n\t\t\t\t\t\t\t\t{this.showSidebarFilters ? \"Hide Filters\" : \"Show Filters\"}\n\t\t\t\t\t\t\t</ifx-button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div class={filterClass}>\n\t\t\t\t\t\t{this.filterOrientation === \"sidebar\" &&\n\t\t\t\t\t\t\tthis.showSidebarFilters && (\n\t\t\t\t\t\t\t\t<div class=\"sidebar-container\">\n\t\t\t\t\t\t\t\t\t<div class=\"filters-title-container\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"filters-title\">Filters</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"set-filter-wrapper-sidebar\">\n\t\t\t\t\t\t\t\t\t\t{(this.filterOrientation !== \"sidebar\" ||\n\t\t\t\t\t\t\t\t\t\t\tthis.showSidebarFilters) && (\n\t\t\t\t\t\t\t\t\t\t\t<slot name=\"sidebar-filter\"></slot>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{this.filterOrientation !== \"none\" &&\n\t\t\t\t\t\t\tthis.filterOrientation !== \"sidebar\" && (\n\t\t\t\t\t\t\t\t<div class=\"set-filter-wrapper-topbar\">\n\t\t\t\t\t\t\t\t\t{(this.filterOrientation !== \"sidebar\" ||\n\t\t\t\t\t\t\t\t\t\tthis.showSidebarFilters) && (\n\t\t\t\t\t\t\t\t\t\t<slot name=\"topbar-filter\"></slot>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div class=\"table-pagination-wrapper\">\n\t\t\t\t\t\t\t{this.filterOrientation !== \"none\" &&\n\t\t\t\t\t\t\t\tthis.filterOrientation !== \"topbar\" &&\n\t\t\t\t\t\t\t\tthis.showSidebarFilters && (\n\t\t\t\t\t\t\t\t\t<div class=\"filter-chips\">\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.currentFilters).map((name) => {\n\t\t\t\t\t\t\t\t\t\t\tconst filter = this.currentFilters[name];\n\t\t\t\t\t\t\t\t\t\t\tconst filterValues = filter.filterValues;\n\t\t\t\t\t\t\t\t\t\t\tconst isMultiSelect = filter.type !== \"text\";\n\n\t\t\t\t\t\t\t\t\t\t\treturn filterValues.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<ifx-chip\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={isMultiSelect ? \"multi\" : \"single\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={filterValues}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={name}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{filterValues.map((filterValue) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifx-chip-item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={filterValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={filterValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{filterValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ifx-chip-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</ifx-chip>\n\t\t\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div class=\"headline-wrapper\">\n\t\t\t\t\t\t\t\t{this.filterOrientation !== \"none\" && this.headline && (\n\t\t\t\t\t\t\t\t\t<div class=\"matching-results-container\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"matching-results-count\">\n\t\t\t\t\t\t\t\t\t\t\t({this.matchingResultsCount})\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"matching-results-text\">{this.headline}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div class=\"inner-buttons-wrapper\">\n\t\t\t\t\t\t\t\t\t<slot name=\"inner-button\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div id=\"table-wrapper\" class={this.getTableClassNames()}>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid={`ifxTable-${this.uniqueKey}`}\n\t\t\t\t\t\t\t\t\tclass={`ifx-ag-grid ${this.variant === \"zebra\" ? \"zebra\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t\t\t\tref={(el) => (this.container = el)}\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"pagination-wrapper\">\n\t\t\t\t\t\t\t\t{this.pagination ? (\n\t\t\t\t\t\t\t\t\t<ifx-pagination\n\t\t\t\t\t\t\t\t\t\ttotal={\n\t\t\t\t\t\t\t\t\t\t\tthis.serverSidePagination\n\t\t\t\t\t\t\t\t\t\t\t\t? this.matchingResultsCount\n\t\t\t\t\t\t\t\t\t\t\t\t: this.allRowData.length\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcurrent-page={this.currentPage}\n\t\t\t\t\t\t\t\t\t\titems-per-page={this.internalItemsPerPage}\n\t\t\t\t\t\t\t\t\t></ifx-pagination>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n\n\thasButtonCol(): boolean {\n\t\treturn this.getColData().some((column) => column.field === \"button\");\n\t}\n\n\tonDragOver(event) {\n\t\tvar dragSupported = event.dataTransfer.length;\n\n\t\tif (dragSupported) {\n\t\t\tevent.dataTransfer.dropEffect = \"move\";\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n\n\tonDrop(event) {\n\t\tvar jsonData = event.dataTransfer.getData(\"application/json\");\n\n\t\tvar eJsonRow = document.createElement(\"div\");\n\t\teJsonRow.classList.add(\"json-row\");\n\t\teJsonRow.innerText = jsonData;\n\n\t\tvar eJsonDisplay = document.querySelector(\"#eJsonDisplay\");\n\n\t\teJsonDisplay.appendChild(eJsonRow);\n\t\tevent.preventDefault();\n\t}\n}\n\n"]}