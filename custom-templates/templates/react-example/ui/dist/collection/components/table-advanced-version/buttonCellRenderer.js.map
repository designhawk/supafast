{"version":3,"file":"buttonCellRenderer.js","sourceRoot":"","sources":["../../../src/components/table-advanced-version/buttonCellRenderer.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\nimport type { ButtonInterface } from \"./interfaces\";\n\nexport class ButtonCellRenderer implements ICellRendererComp {\n\teGui!: HTMLDivElement;\n\teButton!: HTMLElement; // Change to a generic HTMLElement to accommodate custom elements\n\teventListener!: (event: Event) => void;\n\n\tinit(params: ICellRendererParams) {\n\t\tthis.createButton(params);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: ICellRendererParams) {\n\t\tthis.updateButton(params);\n\t\treturn true;\n\t}\n\n\tprivate createButton(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eButton = document.createElement(\"ifx-button\") as HTMLElement;\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setButtonAttributes(config);\n\t\t\tthis.eGui.appendChild(this.eButton);\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate updateButton(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setButtonAttributes(config);\n\t\t\tthis.detachEventListener();\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate setButtonAttributes(config: ButtonInterface) {\n\t\tthis.eButton.setAttribute(\"disabled\", config.disabled.toString());\n\t\tthis.eButton.setAttribute(\"variant\", config.variant);\n\t\tthis.eButton.setAttribute(\"theme\", config.theme);\n\t\tthis.eButton.setAttribute(\"type\", config.type);\n\t\tthis.eButton.setAttribute(\"size\", config.size);\n\t\tthis.eButton.setAttribute(\"full-width\", config.fullWidth.toString());\n\t\tthis.eButton.setAttribute(\"target\", config.target);\n\t\tthis.eButton.setAttribute(\"href\", config.href);\n\t\tthis.eButton.textContent = config.text;\n\t}\n\n\tprivate attachEventListener(options: any, params: ICellRendererParams) {\n\t\tthis.eventListener = (event: Event) => {\n\t\t\tif (options.onButtonClick) {\n\t\t\t\toptions.onButtonClick(params, event);\n\t\t\t}\n\t\t};\n\t\tthis.eButton.addEventListener(\"click\", this.eventListener);\n\t}\n\n\tprivate detachEventListener() {\n\t\tif (this.eventListener) {\n\t\t\tthis.eButton.removeEventListener(\"click\", this.eventListener);\n\t\t}\n\t}\n\n\tprivate hasRequiredKeys(config: ButtonInterface): boolean {\n\t\treturn (\n\t\t\tconfig &&\n\t\t\tconfig.text !== \"\" &&\n\t\t\tconfig.variant !== \"\" &&\n\t\t\tconfig.size !== \"\" &&\n\t\t\tconfig.type !== \"\"\n\t\t);\n\t}\n}\n"]}