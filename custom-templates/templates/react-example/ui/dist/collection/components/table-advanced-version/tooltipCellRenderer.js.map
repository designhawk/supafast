{"version":3,"file":"tooltipCellRenderer.js","sourceRoot":"","sources":["../../../src/components/table-advanced-version/tooltipCellRenderer.ts"],"names":[],"mappings":"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","sourcesContent":["import { ICellRendererComp, ICellRendererParams } from 'ag-grid-community'; \nimport { TooltipInterface } from './interfaces';\n\nexport class TooltipCellRenderer implements ICellRendererComp {\n  private eGui!: HTMLDivElement;\n  private eTooltip!: HTMLElement;\n\n  init(params: ICellRendererParams): void {\n    this.createTooltip(params);\n  }\n\n  getGui(): HTMLElement {\n    return this.eGui;\n  }\n\n  refresh(params: ICellRendererParams): boolean {\n    this.updateTooltip(params);\n    return true;\n  }\n\nprivate createTooltip(params: ICellRendererParams) {\n  const field = params.colDef?.field as string | undefined;\n  const config = (params.value ?? params.data?.[field]) as TooltipInterface;\n  \n  this.eGui = document.createElement('div');\n  \n  if (!this.hasRequiredKeys(config)) {\n    this.eGui.textContent = config ? String(config) : '';\n    return;\n  }\n  \n  this.eTooltip = document.createElement('ifx-tooltip') as HTMLElement;\n  \n  this.setTooltipAttributes(config);\n  \n  if (config.value) {\n    if (config.value.includes('<ifx-icon')) {\n      const iconMatch = config.value.match(/icon=\"([^\"]+)\"/);\n      if (iconMatch) {\n        const iconEl = document.createElement('ifx-icon');\n        iconEl.setAttribute('icon', iconMatch[1]);\n        this.eTooltip.appendChild(iconEl);\n      }\n    } else {\n      this.eTooltip.textContent = config.value;\n    }\n  }\n  \n  this.eGui.appendChild(this.eTooltip);\n}\n\n  private updateTooltip(params: ICellRendererParams) {\n    const field = params.colDef?.field as string | undefined;\n    const config = (params.value ?? params.data?.[field]) as TooltipInterface;\n\n    if (!this.hasRequiredKeys(config)) {\n      this.eGui.textContent = config ? String(config) : '';\n      return;\n    }\n\n    this.setTooltipAttributes(config);\n    this.eTooltip.textContent = config.value || '';\n  }\n\n  private setTooltipAttributes(config: TooltipInterface) {\n    this.eTooltip.setAttribute('text', config.text);\n    this.eTooltip.setAttribute('append-to-body', 'true');\n\n    if (config.position) {\n      this.eTooltip.setAttribute('position', config.position);\n    }\n  }\n\n  private hasRequiredKeys(config: TooltipInterface): boolean {\n    return !!(config && config.text);\n  }\n}\n"]}