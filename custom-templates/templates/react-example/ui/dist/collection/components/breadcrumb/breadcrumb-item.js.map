{"version":3,"file":"breadcrumb-item.js","sourceRoot":"","sources":["../../../src/components/breadcrumb/breadcrumb-item.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, h, Listen, State } from \"@stencil/core\";\n\n@Component({\n\ttag: \"ifx-breadcrumb-item\",\n\tstyleUrl: \"breadcrumb-item.scss\",\n\tshadow: true,\n})\nexport class BreadcrumbItem {\n\t@State() isLastItem: boolean = false;\n\t@Element() el;\n\tprivate emittedElement: HTMLElement;\n\t@State() uniqueId: string;\n\t@State() hasDropdownMenu: boolean = false;\n\n\t@Listen(\"mousedown\", { target: \"document\" })\n\thandleOutsideClick(event: MouseEvent) {\n\t\tconst path = event.composedPath();\n\t\tif (!path.includes(this.el)) {\n\t\t\tthis.closeDropdownMenu();\n\t\t}\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(ev: KeyboardEvent) {\n\t\tif (ev.key === \"Enter\" || ev.key === \" \") {\n\t\t\tthis.toggleDropdownMenu();\n\t\t} else if (ev.key === \"Escape\") {\n\t\t\tthis.closeDropdownMenu();\n\t\t}\n\t}\n\n\tgetDropdownMenu() {\n\t\tconst dropdownMenu = this.el.shadowRoot.querySelector(\".dropdown-menu\");\n\t\treturn dropdownMenu;\n\t}\n\n\t@Listen(\"breadcrumbMenuIconWrapper\")\n\tmenuWrapperEventReEmitter(event: CustomEvent<HTMLElement>) {\n\t\tthis.emittedElement = event.detail;\n\t}\n\n\tgetMenuIconWrapper(): HTMLElement | undefined {\n\t\treturn this.emittedElement;\n\t}\n\n\thandleClassList(el, type, className) {\n\t\tel.classList[type](className);\n\t}\n\n\tcloseDropdownMenu() {\n\t\tif (this.hasDropdownMenu) {\n\t\t\tconst dropdownMenu = this.getDropdownMenu();\n\t\t\tconst menuWrapper = this.getMenuIconWrapper();\n\t\t\tthis.handleClassList(dropdownMenu, \"remove\", \"open\");\n\t\t\tthis.handleClassList(menuWrapper, \"remove\", \"show\");\n\t\t}\n\t}\n\n\ttoggleDropdownMenu() {\n\t\tif (this.hasDropdownMenu) {\n\t\t\tconst dropdownMenu = this.getDropdownMenu();\n\t\t\tconst menuWrapper = this.getMenuIconWrapper();\n\t\t\tthis.handleClassList(dropdownMenu, \"toggle\", \"open\");\n\t\t\tthis.handleClassList(menuWrapper, \"toggle\", \"show\");\n\t\t}\n\t}\n\n\tisDropdownMenuOpen(): boolean {\n\t\tconst dropdownMenu = this.getDropdownMenu();\n\t\treturn (\n\t\t\tthis.hasDropdownMenu &&\n\t\t\tdropdownMenu &&\n\t\t\tdropdownMenu.classList.contains(\"open\")\n\t\t);\n\t}\n\n\thandleLastItem() {\n\t\tconst breadcrumbItems = this.el\n\t\t\t.closest(\"ifx-breadcrumb\")\n\t\t\t.querySelectorAll(\"ifx-breadcrumb-item\");\n\t\tif (this.el === breadcrumbItems[breadcrumbItems.length - 1]) {\n\t\t\tthis.isLastItem = true;\n\t\t} else this.isLastItem = false;\n\t}\n\n\tgenerateUniqueId(prefix = \"id\") {\n\t\treturn `${prefix}-${Math.random().toString(36).substring(2, 9)}`;\n\t}\n\n\tcomponentWillLoad() {\n\t\tif (!this.uniqueId) {\n\t\t\tthis.uniqueId = this.generateUniqueId(\"breadcrumb-dropdown\");\n\t\t}\n\t\tthis.handleLastItem();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.handleLastItem();\n\t}\n\n\tcomponentWillRender() {\n\t\tthis.setHasDropdownMenuState();\n\t}\n\n\tsetHasDropdownMenuState() {\n\t\tconst dropdownMenu = this.getIfxDropdownMenuComponent();\n\t\tif (dropdownMenu) {\n\t\t\tthis.hasDropdownMenu = !!dropdownMenu;\n\t\t}\n\t}\n\n\tgetIfxDropdownMenuComponent() {\n\t\tconst dropdownMenu = this.el.querySelector(\"ifx-dropdown-menu\");\n\t\treturn dropdownMenu;\n\t}\n\n\tcomponentDidLoad() {\n\t\tconst dropdownMenu = this.getIfxDropdownMenuComponent();\n\n\t\tif (!this.hasDropdownMenu) {\n\t\t\tconst iconMenuWrapper = this.getMenuIconWrapper();\n\t\t\tthis.handleClassList(iconMenuWrapper, \"toggle\", \"hide\");\n\t\t} else {\n\t\t\tdropdownMenu.isOpen = true;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclass=\"breadcrumb-parent\"\n\t\t\t\taria-current={`${this.isLastItem ? \"page\" : \"\"}`}\n\t\t\t>\n\t\t\t\t<li\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\ttabindex={this.hasDropdownMenu ? 0 : -1}\n\t\t\t\t\tclass=\"breadcrumb-wrapper\"\n\t\t\t\t\tonClick={() => this.toggleDropdownMenu()}\n\t\t\t\t\taria-controls={this.uniqueId}\n\t\t\t\t\taria-haspopup=\"menu\"\n\t\t\t\t\taria-label=\"Toggle dropdown menu\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"label\" />\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={this.uniqueId}\n\t\t\t\t\t\tclass=\"dropdown-menu\"\n\t\t\t\t\t\taria-expanded={this.isDropdownMenuOpen()}\n\t\t\t\t\t\taria-label=\"Dropdown menu\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot />\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t{!this.isLastItem && (\n\t\t\t\t\t<span class=\"breadcrumb-divider\" aria-hidden=\"true\">\n\t\t\t\t\t\t/\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</li>\n\t\t);\n\t}\n}\n"]}