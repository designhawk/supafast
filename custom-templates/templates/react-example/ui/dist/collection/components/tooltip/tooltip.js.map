{"version":3,"file":"tooltip.js","sourceRoot":"","sources":["../../../src/components/tooltip/tooltip.tsx"],"names":[],"mappings":"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","sourcesContent":["import { createPopper } from \"@popperjs/core\";\nimport { Component, Element, h, Prop, State, Watch } from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n  tag: 'ifx-tooltip',\n  styleUrl: 'tooltip.scss',\n  shadow: true,\n})\nexport class Tooltip {\n  @Element() el: HTMLElement;\n  @State() tooltipVisible: boolean = false;\n  @Prop() header: string = '';\n  @Prop() text: string = '';\n  @Prop() position: 'bottom-start' | 'top-start' | 'left' | 'bottom-end' | 'top-end' | 'right' | 'bottom' | 'top' | 'auto' = 'auto';\n  @State() internalPosition: 'bottom-start' | 'top-start' | 'left' | 'bottom-end' | 'top-end' | 'right' | 'bottom' | 'top' | 'auto' = 'auto';\n  @Prop() ariaLabel: string | null;\n  @Prop() variant: 'compact' | 'dismissible' | 'extended' = 'compact';\n  @Prop() icon: string;\n\n  @Prop() appendToBody: boolean = false;\n  private tooltipContainer: HTMLElement;\n\n  tooltipEl: HTMLElement;\n  referenceEl: HTMLElement;\n  popperInstance: any = null;\n\n  componentWillLoad() {\n    if (this.variant.toLowerCase().trim() === '') {\n      this.variant = 'compact';\n    }\n  }\n\n  async componentDidLoad() {\n    if (!isNestedInIfxComponent(this.el)) {\n      const framework = detectFramework();\n      trackComponent('ifx-tooltip', await framework);\n    }\n    const slotElement = this.el.shadowRoot.querySelector('.tooltip__container').firstChild;\n\n    if (this.variant.toLowerCase() === 'compact' || this.variant.toLowerCase() === 'extended') {\n      slotElement.addEventListener('mouseenter', this.onMouseEnter);\n      slotElement.addEventListener('mouseleave', this.onMouseLeave);\n    } else {\n      slotElement.addEventListener('click', this.onClick);\n    }\n  }\n\n\tinitializePopper() {\n\t\tif (this.popperInstance) return;\n\n    this.referenceEl = this.el;\n\n    let originalTooltipEl: HTMLElement;\n    if (this.variant.toLowerCase() === 'compact') {\n      originalTooltipEl = this.el.shadowRoot.querySelector('.tooltip-compact');\n    } else if (this.variant.toLowerCase() === 'dismissible') {\n      originalTooltipEl = this.el.shadowRoot.querySelector('.tooltip-dismissible');\n    } else {\n      originalTooltipEl = this.el.shadowRoot.querySelector('.tooltip-extended');\n    }\n\n    if (this.appendToBody && originalTooltipEl && !this.tooltipContainer) {\n      this.tooltipContainer = originalTooltipEl.cloneNode(true) as HTMLElement;\n      const computedStyle = window.getComputedStyle(originalTooltipEl);\n      Array.from(computedStyle).forEach(key => {\n        this.tooltipContainer.style.setProperty(key, computedStyle.getPropertyValue(key), computedStyle.getPropertyPriority(key));\n      });\n\n      document.body.appendChild(this.tooltipContainer);\n\n      originalTooltipEl.style.visibility = 'hidden';\n\n      this.tooltipEl = this.tooltipContainer;\n    } else if (this.appendToBody && this.tooltipContainer) {\n      this.tooltipEl = this.tooltipContainer;\n    } else {\n      this.tooltipEl = originalTooltipEl;\n    }\n\n    let effectivePosition: any;\n    if (this.position === 'auto') {\n      effectivePosition = this.determineBestPosition();\n    } else {\n      effectivePosition = this.position;\n    }\n\n    this.internalPosition = effectivePosition;\n\n    if (this.tooltipEl && this.referenceEl) {\n      this.popperInstance = createPopper(this.referenceEl, this.tooltipEl, {\n        placement: this.internalPosition,\n        strategy: 'fixed',\n        modifiers: [\n          {\n            name: 'offset',\n            options: {\n              offset: [0, 8],\n            },\n          },\n          {\n            name: 'preventOverflow',\n            options: {\n              boundary: 'clippingParents',\n              altBoundary: false,\n              rootBoundary: 'viewport',\n            },\n          },\n          {\n            name: 'flip',\n            enabled: this.position === 'auto',\n            options: {\n              fallbackPlacements: ['top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end'],\n              flipVariations: false,\n            },\n          },\n          {\n            name: 'computeStyles',\n            options: {\n              gpuAcceleration: false,\n              adaptive: true,\n            },\n          },\n        ],\n      });\n    }\n\n    if (this.tooltipEl) {\n      this.tooltipEl.setAttribute('data-placement', this.internalPosition);\n    }\n  }\n\n  determineBestPosition() {\n    const rect = this.referenceEl.getBoundingClientRect();\n    const yOffset = window.scrollY;\n    const xOffset = window.scrollX;\n    const verticalHalfwayPoint = rect.top + yOffset + rect.height / 2;\n    const horizontalHalfwayPoint = rect.left + xOffset + rect.width / 2;\n\n    if (verticalHalfwayPoint > window.innerHeight / 2) {\n      if (horizontalHalfwayPoint > window.innerWidth / 2) {\n        return 'top-end';\n      } else {\n        return 'top-start';\n      }\n    } else {\n      if (horizontalHalfwayPoint > window.innerWidth / 2) {\n        return 'bottom-end';\n      } else {\n        return 'bottom-start';\n      }\n    }\n  }\n\n  @Watch('position')\n  positionChanged(newVal: any) {\n    this.internalPosition = newVal;\n    this.popperInstance?.destroy();\n    this.popperInstance = null; // Force re-initialization on next mouse enter\n  }\n\n  onMouseEnter = () => {\n    this.initializePopper();\n    this.tooltipVisible = true;\n\n    if (this.tooltipEl) {\n      this.tooltipEl.style.display = 'block';\n    }\n\n    this.popperInstance?.update();\n  };\n\n  onMouseLeave = () => {\n    this.tooltipVisible = false;\n\n    if (this.tooltipEl) {\n      this.tooltipEl.style.display = 'none';\n    }\n  };\n\n  disconnectedCallback() {\n    const slotElement = this.el.shadowRoot?.querySelector('.tooltip__container')?.firstChild;\n    if (slotElement) {\n      slotElement.removeEventListener('mouseenter', this.onMouseEnter);\n      slotElement.removeEventListener('mouseleave', this.onMouseLeave);\n      slotElement.removeEventListener('click', this.onClick);\n    }\n    this.popperInstance?.destroy();\n    if (this.tooltipContainer && this.tooltipContainer.parentNode) {\n      document.body.removeChild(this.tooltipContainer);\n    }\n  }\n\n  onClick = () => {\n    if (this.variant.toLowerCase() === 'dismissible') {\n      this.initializePopper();\n      this.tooltipVisible = !this.tooltipVisible;\n      this.tooltipEl.style.display = this.tooltipVisible ? 'block' : 'none';\n      this.popperInstance?.update();\n    }\n  };\n\n  onDismissClick = () => {\n    this.tooltipVisible = false;\n    this.tooltipEl.style.display = 'none';\n  };\n\n\trender() {\n\t\tconst tooltipDismissible = {\n\t\t\t\"tooltip-dismissible\": true,\n\t\t\tvisible: this.tooltipVisible,\n\t\t};\n\n\t\tconst tooltipCompact = {\n\t\t\t\"tooltip-compact\": true,\n\t\t\tvisible: this.tooltipVisible,\n\t\t};\n\n\t\tconst tooltipExtended = {\n\t\t\t\"tooltip-extended\": true,\n\t\t\tvisible: this.tooltipVisible,\n\t\t};\n\n    return (\n      <div aria-label={this.ariaLabel} aria-value={this.header} class=\"tooltip__container\">\n        <slot></slot>\n\n        {this.variant.toLowerCase() === 'dismissible' && (\n          <div class={tooltipDismissible}>\n            <button aria-label=\"Close Tooltip\" class=\"close-button\" onClick={this.onDismissClick}>\n              <ifx-icon icon=\"cross16\"></ifx-icon>\n            </button>\n            <div class=\"tooltip-dismissible-content\">\n              {this.header && <div class=\"tooltip-dismissible-header\">{this.header}</div>}\n              <div class=\"tooltip-dismissible-body\">{this.text}</div>\n            </div>\n            <svg class=\"tooltip-arrow-svg\" width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path id=\"Indicator\" d=\"M6 0L12 8L0 8L6 0Z\" fill=\"#1D1D1D\" />\n            </svg>\n          </div>\n        )}\n        {this.variant.toLowerCase() === 'compact' && (\n          <div class={tooltipCompact}>\n            {this.text}\n            <svg class=\"tooltip-arrow-svg\" width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path id=\"Indicator\" d=\"M6 0L12 8L0 8L6 0Z\" fill=\"#1D1D1D\" />\n            </svg>\n          </div>\n        )}\n        {this.variant.toLowerCase() === 'extended' && (\n          <div class={tooltipExtended}>\n            <slot name=\"icon\">\n              {this.icon ? (\n                <div class=\"extended_icon\">\n                  <ifx-icon icon={this.icon}></ifx-icon>\n                </div>\n              ) : (\n                <svg class=\"extended_icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <path stroke=\"#fff\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M20.5 2.5h-16a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-16a2 2 0 0 0-2-2Z\" />\n                  <path stroke=\"#fff\" d=\"M19 17H6l2.5-4 2.097 2.516.405.486.379-.506 4.118-5.49.003-.002L19 17Z\" />\n                  <path fill=\"#fff\" d=\"M10 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\" />\n                </svg>\n              )}\n            </slot>\n            <div class=\"tooltip-extended-content\">\n              {this.header && <div class=\"tooltip-extended-header\">{this.header}</div>}\n              <div class=\"tooltip-extended-body\">{this.text}</div>\n            </div>\n            <svg class=\"tooltip-arrow-svg\" width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path id=\"Indicator\" d=\"M6 0L12 8L0 8L6 0Z\" fill=\"#1D1D1D\" />\n            </svg>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]}