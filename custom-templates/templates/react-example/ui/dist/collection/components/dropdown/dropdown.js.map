{"version":3,"file":"dropdown.js","sourceRoot":"","sources":["../../../src/components/dropdown/dropdown.tsx"],"names":[],"mappings":"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","sourcesContent":["import { createPopper } from \"@popperjs/core\";\nimport {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tMethod,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\nimport type { IOpenable } from \"./IOpenable\";\n\nexport type Placement =\n\t| \"auto\"\n\t| \"auto-start\"\n\t| \"auto-end\"\n\t| \"top\"\n\t| \"top-start\"\n\t| \"top-end\"\n\t| \"bottom\"\n\t| \"bottom-start\"\n\t| \"bottom-end\"\n\t| \"right\"\n\t| \"right-start\"\n\t| \"right-end\"\n\t| \"left\"\n\t| \"left-start\"\n\t| \"left-end\";\n\n@Component({\n\ttag: \"ifx-dropdown\",\n\tstyleUrl: \"dropdown.scss\",\n\tshadow: true,\n})\nexport class Dropdown {\n\t@Prop() placement: Placement = \"bottom-start\";\n\t@Prop() defaultOpen: boolean = false;\n\t@State() internalIsOpen: boolean = false;\n\t@Prop() noAppendToBody: boolean = false;\n\t@Event() ifxOpen: EventEmitter;\n\t@Event() ifxClose: EventEmitter;\n\t@Event() ifxDropdown: EventEmitter;\n\t@Prop() disabled: boolean;\n\t@Prop() noCloseOnOutsideClick: boolean = false;\n\t@Prop() noCloseOnMenuClick: boolean = false;\n\t@Element() el;\n\t@State() trigger: HTMLElement;\n\t@State() menu: HTMLElement;\n\t// Popper instance for positioning\n\tpopperInstance: any;\n\n\t@Listen(\"mousedown\", { target: \"document\" })\n\thandleOutsideClick(event: MouseEvent) {\n\t\tconst target = event.target as HTMLElement;\n\n\t\tif (\n\t\t\t!this.noCloseOnOutsideClick &&\n\t\t\t!this.el.contains(target) &&\n\t\t\t!this.menu.contains(target)\n\t\t) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\t@Listen(\"focusin\", { target: \"document\" })\n\thandleFocusOutside(event: FocusEvent) {\n\t\tconst target = event.target as HTMLElement;\n\t\tif (\n\t\t\tthis.internalIsOpen &&\n\t\t\t!this.el.contains(target) &&\n\t\t\t!this.menu.contains(target)\n\t\t) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\tprivate handleTriggerClick = () => {\n\t\tif (!this.internalIsOpen) this.openDropdown();\n\t\telse this.closeDropdown();\n\t};\n\n\tprivate handleTriggerKeyDown = (e: KeyboardEvent) => {\n\t\tconst key = e.key;\n\t\tif (key === \"Tab\" && this.internalIsOpen && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tthis.focusFirstItem();\n\t\t}\n\t};\n\n\tprivate handleMenuClick = () => {\n\t\tif (!this.noCloseOnMenuClick) this.closeDropdown();\n\t};\n\n\tprivate getItemFocusables(): HTMLElement[] {\n\t\tif (!this.menu) return [];\n\t\tconst hosts = Array.from(\n\t\t\tthis.menu.querySelectorAll<HTMLElement>(\"ifx-dropdown-item\"),\n\t\t);\n\t\treturn hosts\n\t\t\t.filter(\n\t\t\t\t(h) =>\n\t\t\t\t\t!(h.getAttribute(\"hide\") === \"true\" || h.classList.contains(\"hide\")),\n\t\t\t)\n\t\t\t.map((h) => h.shadowRoot?.querySelector(\"a\") as HTMLElement | null)\n\t\t\t.filter((el): el is HTMLElement => !!el);\n\t}\n\n\tprivate handleMenuKeyDown = (e: KeyboardEvent) => {\n\t\tconst items = this.getItemFocusables();\n\t\tif (!items.length) return;\n\n\t\tconst i = items.indexOf(document.activeElement as HTMLElement);\n\n\t\tswitch (e.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[(i + 1) % items.length].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[(i - 1 + items.length) % items.length].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"Home\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[0].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"End\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[items.length - 1].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\tcase \" \":\n\t\t\tcase \"Spacebar\":\n\t\t\t\te.preventDefault();\n\t\t\t\t(document.activeElement as HTMLElement)?.click();\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.closeDropdown();\n\t\t\t\t(this.trigger as HTMLElement)?.focus();\n\t\t\t\tbreak;\n\t\t\tcase \"Tab\":\n\t\t\t\tif (e.shiftKey && i === 0) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.closeDropdown();\n\t\t\t\t\t(this.trigger as HTMLElement)?.focus();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tcomponentWillLoad() {\n\t\t//maybe not needed\n\t\tthis.updateSlotContent();\n\t\tthis.watchHandlerIsOpen(this.defaultOpen, this.internalIsOpen);\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-dropdown\", await framework);\n\t\t}\n\t}\n\n\t@Watch(\"defaultOpen\")\n\twatchHandlerIsOpen(newValue: boolean, oldValue: boolean) {\n\t\tif (newValue !== oldValue && newValue !== this.internalIsOpen) {\n\t\t\tif (newValue) {\n\t\t\t\tthis.openDropdown();\n\t\t\t} else {\n\t\t\t\tthis.closeDropdown();\n\t\t\t}\n\t\t}\n\t}\n\n\t@Watch(\"disabled\")\n\twatchHandlerDisabled(newValue: boolean) {\n\t\tif (this.trigger) {\n\t\t\t(\n\t\t\t\tthis.trigger as undefined as HTMLIfxDropdownTriggerButtonElement\n\t\t\t).disabled = newValue;\n\t\t}\n\t}\n\n\t@Listen(\"slotchange\")\n\twatchHandlerSlot() {\n\t\tthis.updateSlotContent();\n\t}\n\n\tprivate focusFirstItem() {\n\t\tconst [first] = this.getItemFocusables();\n\t\tfirst?.focus();\n\t}\n\n\tupdateSlotContent() {\n\t\tconst newTrigger = this.el.querySelector(\n\t\t\t\"ifx-dropdown-trigger-button, ifx-dropdown-trigger\",\n\t\t) as HTMLElement | null;\n\n\t\tif (newTrigger !== this.trigger) {\n\t\t\tif (this.trigger) {\n\t\t\t\tthis.trigger.removeEventListener(\"click\", this.handleTriggerClick);\n\t\t\t\tthis.trigger.removeEventListener(\"keydown\", this.handleTriggerKeyDown);\n\t\t\t}\n\t\t\tthis.trigger = newTrigger!;\n\t\t\tif (this.trigger) {\n\t\t\t\t(this.trigger as any).disabled = this.disabled;\n\t\t\t\tthis.trigger.addEventListener(\"click\", this.handleTriggerClick);\n\t\t\t\tthis.trigger.addEventListener(\"keydown\", this.handleTriggerKeyDown);\n\t\t\t}\n\t\t}\n\n\t\tconst newMenu = this.el.querySelector(\n\t\t\t\"ifx-dropdown-menu\",\n\t\t) as HTMLElement | null;\n\n\t\tif (!this.noAppendToBody) {\n\t\t\tif (this.menu && this.menu !== newMenu) {\n\t\t\t\tthis.menu.removeEventListener(\"click\", this.handleMenuClick);\n\t\t\t\tthis.menu.removeEventListener(\"keydown\", this.handleMenuKeyDown);\n\t\t\t\tthis.menu.remove();\n\t\t\t}\n\t\t\tthis.menu = newMenu!;\n\t\t\tif (this.menu && !document.body.contains(this.menu)) {\n\t\t\t\tdocument.body.append(this.menu);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.menu = newMenu!;\n\t\t}\n\n\t\tif (this.menu) {\n\t\t\tthis.menu.removeEventListener(\"click\", this.handleMenuClick);\n\t\t\tthis.menu.removeEventListener(\"keydown\", this.handleMenuKeyDown);\n\t\t\tthis.menu.addEventListener(\"click\", this.handleMenuClick);\n\t\t\tthis.menu.addEventListener(\"keydown\", this.handleMenuKeyDown);\n\t\t}\n\t}\n\n\tmenuClickHandler() {\n\t\tif (!this.noCloseOnMenuClick) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\tif (this.popperInstance) {\n\t\t\tthis.popperInstance.destroy();\n\t\t\tthis.popperInstance = null;\n\t\t}\n\n\t\tif (this.menu) {\n\t\t\tthis.menu.remove();\n\t\t}\n\t}\n\n\t@Method()\n\tasync isOpen() {\n\t\treturn this.internalIsOpen;\n\t}\n\n\t@Method()\n\tasync closeDropdown() {\n\t\tif (this.internalIsOpen) {\n\t\t\tthis.internalIsOpen = false;\n\n\t\t\t(this.trigger as unknown as IOpenable).isOpen = false;\n\t\t\t(this.menu as unknown as IOpenable).isOpen = false;\n\n\t\t\tthis.ifxClose.emit();\n\t\t}\n\n\t\tif (this.popperInstance) {\n\t\t\tthis.popperInstance.destroy();\n\t\t\tthis.popperInstance = null;\n\t\t}\n\t}\n\n\t@Method()\n\tasync openDropdown() {\n\t\tif (!this.internalIsOpen && !this.disabled) {\n\t\t\tthis.internalIsOpen = true;\n\t\t\t(this.trigger as any).isOpen = true;\n\t\t\t(this.menu as any).isOpen = true;\n\t\t\tthis.popperInstance = createPopper(this.el, this.menu, {\n\t\t\t\tplacement: this.placement,\n\t\t\t});\n\t\t\tthis.ifxOpen.emit();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div aria-label=\"dropdown menu\" class=\"dropdown\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}