{"version":3,"file":"date-picker.js","sourceRoot":"","sources":["../../../src/components/date-picker/date-picker.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n\tAttachInternals,\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tProp,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n\ttag: \"ifx-date-picker\",\n\tstyleUrl: \"date-picker.scss\",\n\tshadow: true,\n\t// formAssociated: true,\n})\nexport class DatePicker {\n\tprivate inputId: string = `ifx-date-picker-${++datePickerId}`;\n\n\t@Element() el: HTMLElement;\n\t@Prop() size: string = \"s\";\n\t@Prop() error: boolean = false;\n\t@Prop() success: boolean = false;\n\t@Prop() disabled: boolean = false;\n\t@Prop() ariaLabel: string | null;\n\t@Prop() value: string;\n\t@Prop() type: string = \"date\";\n\t@Prop() max: string;\n\t@Prop() min: string;\n\t@Prop() required: boolean = false;\n\t@Prop() label: string;\n\t@Prop() caption: string;\n\t@Prop() autocomplete: string = \"on\";\n\n\t@AttachInternals() internals: ElementInternals;\n\n\t@Event() ifxDate: EventEmitter;\n\n\tgetInput() {\n\t\tconst input = this.el.shadowRoot.querySelector(\n\t\t\t\".date__picker-input\",\n\t\t) as HTMLInputElement;\n\t\treturn input;\n\t}\n\n\tgetDate(e) {\n\t\tconst inputValue = e.target.value;\n\t\tconst selectedDate = new Date(inputValue);\n\t\tconst day = selectedDate.getDate();\n\t\tconst month = selectedDate.getMonth() + 1;\n\t\tconst year = selectedDate.getFullYear();\n\n\t\tif (!inputValue) {\n\t\t\t//this.internals.setFormValue(null);\n\n\t\t\tif (this.type === \"datetime-local\") {\n\t\t\t\tconst hours = selectedDate.getHours();\n\t\t\t\tconst minutes = selectedDate.getMinutes();\n\t\t\t\tthis.ifxDate.emit({ day, month, year, hours, minutes });\n\t\t\t} else {\n\t\t\t\tthis.ifxDate.emit({ day, month, year });\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst input = this.getInput();\n\t\tinput.classList.add(\"has-value\");\n\n\t\t//this.internals.setFormValue(selectedDate.toISOString().substring(0,10))\n\t\tif (this.type === \"datetime-local\") {\n\t\t\tconst hours = selectedDate.getHours();\n\t\t\tconst minutes = selectedDate.getMinutes();\n\t\t\tthis.ifxDate.emit({ day, month, year, hours, minutes });\n\t\t} else {\n\t\t\tthis.ifxDate.emit({ day, month, year });\n\t\t}\n\t}\n\n\thandleIconKeyDown(e: KeyboardEvent) {\n\t\tif (this.disabled) return;\n\t\tconst browserIsFirefox = this.isFirefox();\n\t\tconst input = this.getInput();\n\t\tif (e.key === \"Enter\" && browserIsFirefox) {\n\t\t\te.preventDefault();\n\t\t\tif (input.showPicker) {\n\t\t\t\tinput.showPicker();\n\t\t\t}\n\t\t}\n\t}\n\n\tisFirefox() {\n\t\tconst isFirefox = navigator.userAgent.indexOf(\"Firefox\") !== -1;\n\t\treturn isFirefox;\n\t}\n\n\tsetFireFoxClasses() {\n\t\tconst browserIsFirefox = this.isFirefox();\n\t\tconst input = this.getInput();\n\t\tconst iconWrapper = this.el.shadowRoot.querySelector(\".icon__wrapper\");\n\n\t\tif (browserIsFirefox) {\n\t\t\tinput.classList.add(\"firefox__classes\");\n\t\t\ticonWrapper.classList.add(\"firefox__classes\");\n\t\t} else if (input.classList.contains(\"firefox__classes\")) {\n\t\t\tinput.classList.remove(\"firefox__classes\");\n\t\t\ticonWrapper.classList.remove(\"firefox__classes\");\n\t\t}\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-date-picker\", await framework);\n\t\t}\n\t\tthis.setFireFoxClasses();\n\t}\n\n\tcomponentWillUpdate() {\n\t\tif (this.value) {\n\t\t\tthis.getDate({ target: { value: this.value } });\n\t\t}\n\t}\n\n\t// formResetCallback() {\n\t//   this.internals.setFormValue(null);\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={`date__picker-container ${this.error ? \"error\" : \"\"} ${this.disabled ? \"disabled\" : \"\"}`}\n\t\t\t>\n\t\t\t\t<label class=\"label__wrapper\" htmlFor={this.inputId}>\n\t\t\t\t\t{this.label?.trim()}\n\t\t\t\t\t<span\n\t\t\t\t\t\tclass={`asterisk ${this.required ? \"required\" : \"\"} ${this.error ? \"error\" : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t*\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\n\t\t\t\t<div\n\t\t\t\t\tclass={`input__wrapper ${this.size === \"l\" ? \"large\" : \"small\"} ${this.disabled ? \"disabled\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype={this.type}\n\t\t\t\t\t\tautocomplete={this.autocomplete}\n\t\t\t\t\t\tclass={`date__picker-input ${this.error ? \"error\" : \"\"} ${this.success ? \"success\" : \"\"}`}\n\t\t\t\t\t\tdisabled={this.disabled ? true : undefined}\n\t\t\t\t\t\taria-invalid={this.error ? true : undefined}\n\t\t\t\t\t\taria-label={this.ariaLabel}\n\t\t\t\t\t\tmax={this.max}\n\t\t\t\t\t\tmin={this.min}\n\t\t\t\t\t\tvalue={this.value}\n\t\t\t\t\t\trequired={this.required}\n\t\t\t\t\t\tonChange={(e) => this.getDate(e)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"icon__wrapper\"\n\t\t\t\t\t\ttabIndex={this.isFirefox() ? 0 : undefined}\n\t\t\t\t\t\tonKeyDown={(e) => this.handleIconKeyDown(e as KeyboardEvent)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ifx-icon icon=\"calendar16\" aria-hidden=\"true\"></ifx-icon>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{this.caption?.trim() && (\n\t\t\t\t\t<div class=\"caption__wrapper\">{this.caption.trim()}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nlet datePickerId = 0;\n"]}