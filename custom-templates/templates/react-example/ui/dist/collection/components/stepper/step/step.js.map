{"version":3,"file":"step.js","sourceRoot":"","sources":["../../../../src/components/stepper/step/step.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, h, Listen, Prop, State, Watch } from \"@stencil/core\";\nimport type { StepperState } from \"../interfaces\";\n\n@Component({\n\ttag: \"ifx-step\",\n\tstyleUrl: \"step.scss\",\n\tshadow: true,\n})\nexport class Step {\n\t@Prop() complete?: boolean = false;\n\t@Prop() disabled?: boolean = false;\n\t@Prop({ mutable: true }) error?: boolean = false;\n\t@Prop({ reflect: false }) lastStep: boolean = false;\n\t@Prop() stepId: number = 1;\n\t@Prop({ reflect: false }) stepperState: StepperState = {\n\t\tactiveStep: 1,\n\t\tshowStepNumber: false,\n\t\tvariant: \"default\",\n\t\tindicatorPosition: \"left\",\n\t};\n\n\t@State() active: boolean;\n\t@State() clickable: boolean = false;\n\n\t@Listen(\"ifxChange\", { target: \"document\" })\n\tonStepChange(event: CustomEvent) {\n\t\tconst previousActiveStep = event.detail.previousActiveStep;\n\t\tif (previousActiveStep === this.stepId && this.error) {\n\t\t\tthis.clickable = true;\n\t\t}\n\t}\n\n\t@Watch(\"stepperState\")\n\tupdateCurrentStep(newStepperState) {\n\t\tthis.active = newStepperState.activeStep === this.stepId;\n\t}\n\n\t@Watch(\"active\")\n\tupdateErrorState() {\n\t\tif (this.active) {\n\t\t\tthis.error = false;\n\t\t}\n\t}\n\n\thandleStepClick() {\n\t\tif (\n\t\t\t!this.disabled &&\n\t\t\tthis.stepperState.variant !== \"compact\" &&\n\t\t\t(this.clickable || this.complete)\n\t\t) {\n\t\t\tthis.stepperState.setActiveStep(this.stepId, true);\n\t\t}\n\t}\n\n\thandleStepKeyDown(event: KeyboardEvent) {\n\t\tif (\n\t\t\t!this.disabled &&\n\t\t\tthis.stepperState.variant !== \"compact\" &&\n\t\t\t(this.clickable || this.complete) &&\n\t\t\tevent.key === \"Enter\"\n\t\t) {\n\t\t\tthis.stepperState.setActiveStep(this.stepId, true);\n\t\t}\n\t}\n\n\tstopOnClickPropogation(event: Event) {\n\t\tif (this.disabled) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-current={this.active ? \"step\" : false}\n\t\t\t\taria-disabled={this.active || this.complete ? false : true}\n\t\t\t\tonClick={(e) => this.stopOnClickPropogation(e)}\n\t\t\t\tclass={`step-wrapper ${this.stepId === 1 ? \"first-step\" : \"\"} \n                        ${this.error ? \"error\" : \"\"}\n                        ${this.stepperState.variant}\n                        ${this.complete ? \"complete\" : \"\"}\n                        ${this.lastStep ? \"last-step\" : \"\"}\n                        indicator-${this.stepperState.indicatorPosition}\n                        ${this.active ? \"active\" : \"\"}\n                        ${this.clickable ? \"clickable\" : \"\"}\n                        ${this.disabled ? \"disabled\" : \"\"}`}\n\t\t\t>\n\t\t\t\t<div class=\"step-icon-wrapper\">\n\t\t\t\t\t{/* Left connector */}\n\t\t\t\t\t{this.stepperState.variant !== \"compact\" && (\n\t\t\t\t\t\t<span class=\"step-connector-l\" />\n\t\t\t\t\t)}\n\n\t\t\t\t\t{this.stepperState.variant !== \"compact\" &&\n\t\t\t\t\t\t(!this.error || (this.error && this.active)) && (\n\t\t\t\t\t\t\t<div class=\"step-icon\">\n\t\t\t\t\t\t\t\t{this.stepperState.showStepNumber &&\n\t\t\t\t\t\t\t\t!this.complete &&\n\t\t\t\t\t\t\t\t!this.active\n\t\t\t\t\t\t\t\t\t? this.stepId\n\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t{this.complete && !this.active && (\n\t\t\t\t\t\t\t\t\t<ifx-icon icon=\"check16\"></ifx-icon>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{this.active && <span class=\"active-indic\"></span>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{this.stepperState.variant !== \"compact\" &&\n\t\t\t\t\t\tthis.error &&\n\t\t\t\t\t\t!this.active && (\n\t\t\t\t\t\t\t<ifx-icon class=\"error-icon\" icon=\"warningF16\"></ifx-icon>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Right connector */}\n\t\t\t\t\t{this.stepperState.variant !== \"compact\" && (\n\t\t\t\t\t\t<span class={`step-connector-r ${this.active ? \"active\" : \"\"}`} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{\n\t\t\t\t\t/* Step labels */\n\t\t\t\t\t(this.stepperState.variant !== \"compact\" ||\n\t\t\t\t\t\t(this.stepperState.variant === \"compact\" &&\n\t\t\t\t\t\t\t(this.active ||\n\t\t\t\t\t\t\t\tthis.stepId === this.stepperState.activeStep + 1))) && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\ttabIndex={\n\t\t\t\t\t\t\t\t!this.disabled && this.complete && !this.active ? 0 : -1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclass={`step-label ${this.stepperState.variant === \"compact\" ? (this.active ? \"curr-label\" : \"next-label\") : \"\"}`}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.handleStepClick();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\tthis.handleStepKeyDown(e);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.stepperState.variant !== \"compact\" && <slot />}\n\n\t\t\t\t\t\t\t{this.stepperState.variant === \"compact\" && !this.active\n\t\t\t\t\t\t\t\t? \"Next: \"\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t{this.stepperState.variant === \"compact\" && <slot />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]}