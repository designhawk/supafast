{"version":3,"names":["filterTypeGroupCss","IfxFilterTypeGroup","__stencil_proxyCustomElement","HTMLElement","selectedOptions","ifxSidebarFilterChange","connectedCallback","this","el","addEventListener","handleAccordionChange","handleSearchChange","window","handleResetEvent","handleUpdateSidebarFilter","componentWillUnload","removeEventListener","accordionSlot","shadowRoot","querySelector","filterAccordionSlottedElements","assignedElements","flatten","forEach","accordionElement","ifxLists","querySelectorAll","ifxListElement","resetTrigger","filterSearchSlot","filterSearchSlottedElements","filterSearchWrapper","filterSearch","searchField","length","searchFieldElement","value","emit","event","filterName","detail","getAttribute","searchSlot","assignedNodes","searchElement","nodeType","Node","ELEMENT_NODE","filterSearchComponent","firstElementChild","setAttribute","dispatchEvent","CustomEvent","bubbles","composed","newSelectedOptions","map","option","filterGroupName","selectedItems","handleFilterChange","type","filterValue","existingOptionIndex","findIndex","push","render","h","Host","key","class","name"],"sources":["src/components/table-advanced-version/filter-type-group/filter-type-group.scss?tag=ifx-filter-type-group&encapsulation=shadow","src/components/table-advanced-version/filter-type-group/filter-type-group.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n\n:host {\n  display: flex;\n}\n\n.filter-type-group {\n  width: 260px;\n  align-items: flex-start;\n  gap: tokens.$ifxSpace100;\n}\n\n.filter-type-group > ::slotted(*) {\n  margin-bottom: 8px;\n}\n\n","import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\tHost,\n\th,\n\tState,\n} from \"@stencil/core\";\n\n@Component({\n\ttag: \"ifx-filter-type-group\",\n\tstyleUrl: \"filter-type-group.scss\",\n\tshadow: true,\n})\nexport class IfxFilterTypeGroup {\n\t@Element() el: HTMLElement;\n\t@State() selectedOptions: Array<{\n\t\tfilterGroupName: string;\n\t\tselectedItems?: Array<{ filterName: string; value: boolean | string }>;\n\t\tvalue?: string;\n\t}> = [];\n\t@Event() ifxSidebarFilterChange: EventEmitter;\n\n\t/* If the component is ever removed and then reattached to the DOM, \n  connectedCallback ensures that the event listeners are properly set up again */\n\tconnectedCallback() {\n\t\tthis.el.addEventListener(\n\t\t\t\"ifxFilterAccordionChange\",\n\t\t\tthis.handleAccordionChange,\n\t\t);\n\t\tthis.el.addEventListener(\"ifxFilterSearchChange\", this.handleSearchChange);\n\t\twindow.addEventListener(\"ifxResetFiltersEvent\", this.handleResetEvent);\n\t\twindow.addEventListener(\n\t\t\t\"ifxUpdateSidebarFilter\",\n\t\t\tthis.handleUpdateSidebarFilter,\n\t\t);\n\t}\n\n\tcomponentWillUnload() {\n\t\tthis.el.removeEventListener(\n\t\t\t\"ifxFilterAccordionChange\",\n\t\t\tthis.handleAccordionChange,\n\t\t);\n\t\tthis.el.removeEventListener(\n\t\t\t\"ifxFilterSearchChange\",\n\t\t\tthis.handleSearchChange,\n\t\t);\n\t\twindow.removeEventListener(\"ifxResetFiltersEvent\", this.handleResetEvent);\n\t}\n\n\thandleResetEvent = () => {\n\t\tconst accordionSlot = this.el.shadowRoot.querySelector(\n\t\t\t'slot[name=\"filter-accordion\"]',\n\t\t);\n\t\tconst filterAccordionSlottedElements = (\n\t\t\taccordionSlot as HTMLSlotElement\n\t\t).assignedElements({ flatten: true });\n\n\t\tfilterAccordionSlottedElements.forEach((accordionElement) => {\n\t\t\tconst ifxLists = accordionElement.querySelectorAll(\"ifx-list\");\n\n\t\t\tifxLists.forEach((ifxListElement: HTMLIfxListElement) => {\n\t\t\t\tifxListElement.resetTrigger = !ifxListElement.resetTrigger;\n\t\t\t});\n\t\t});\n\n\t\tconst filterSearchSlot = this.el.shadowRoot.querySelector(\n\t\t\t'slot[name=\"filter-search\"]',\n\t\t);\n\t\tconst filterSearchSlottedElements = (\n\t\t\tfilterSearchSlot as HTMLSlotElement\n\t\t).assignedElements({ flatten: true });\n\n\t\tfilterSearchSlottedElements.forEach((filterSearchWrapper: HTMLElement) => {\n\t\t\tconst filterSearch =\n\t\t\t\tfilterSearchWrapper.querySelector(\"ifx-filter-search\");\n\n\t\t\tconst searchField =\n\t\t\t\tfilterSearch.shadowRoot.querySelectorAll(\"ifx-search-field\");\n\n\t\t\tif (searchField.length > 0) {\n\t\t\t\tsearchField.forEach((searchFieldElement: any) => {\n\t\t\t\t\tsearchFieldElement.value = \"\";\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.selectedOptions = [];\n\n\t\t// Emit the change to inform any parent components that the filters have been reset\n\t\tthis.ifxSidebarFilterChange.emit(this.selectedOptions);\n\t};\n\n\thandleUpdateSidebarFilter = (event: CustomEvent) => {\n\t\tconst { filterName } = event.detail;\n\n\t\tconst accordionSlot = this.el.shadowRoot.querySelector(\n\t\t\t'slot[name=\"filter-accordion\"]',\n\t\t);\n\t\tconst filterAccordionSlottedElements = accordionSlot\n\t\t\t? (accordionSlot as HTMLSlotElement).assignedElements({ flatten: true })\n\t\t\t: [];\n\n\t\tfilterAccordionSlottedElements.forEach((accordionElement) => {\n\t\t\tconst ifxLists = accordionElement.querySelectorAll(\"ifx-list\");\n\n\t\t\tifxLists.forEach((ifxListElement: HTMLIfxListElement) => {\n\t\t\t\tif (ifxListElement.getAttribute(\"name\") === filterName) {\n\t\t\t\t\tifxListElement.resetTrigger = !ifxListElement.resetTrigger;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Clear the search bar within the filter-search slot\n\t\tconst searchSlot = this.el.shadowRoot.querySelector(\n\t\t\t'slot[name=\"filter-search\"]',\n\t\t);\n\t\tconst filterSearchSlottedElements = searchSlot\n\t\t\t? (searchSlot as HTMLSlotElement).assignedNodes({ flatten: true })\n\t\t\t: [];\n\n\t\tfilterSearchSlottedElements.forEach((searchElement) => {\n\t\t\tif (searchElement.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t// Identify the ifx-filter-search component within the slot\n\t\t\t\tconst filterSearchComponent = searchElement as HTMLElement;\n\t\t\t\tconst searchField: any = filterSearchComponent.firstElementChild;\n\t\t\t\tif (searchField) {\n\t\t\t\t\tsearchField.setAttribute(\"value\", \"\");\n\t\t\t\t\tsearchField.dispatchEvent(\n\t\t\t\t\t\tnew CustomEvent(\"ifxInput\", {\n\t\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\t\tcomposed: true,\n\t\t\t\t\t\t\tdetail: \"\",\n\t\t\t\t\t\t}),\n\t\t\t\t\t); // Trigger ifxInput event to reset\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst newSelectedOptions = this.selectedOptions.map((option) => {\n\t\t\tif (option.filterGroupName === filterName) {\n\t\t\t\treturn { ...option, selectedItems: [], value: \"\" };\n\t\t\t}\n\t\t\treturn option;\n\t\t});\n\n\t\tthis.selectedOptions = newSelectedOptions;\n\n\t\tthis.ifxSidebarFilterChange.emit(this.selectedOptions);\n\t};\n\n\thandleAccordionChange = (event: CustomEvent) => {\n\t\tthis.handleFilterChange(event);\n\t};\n\n\thandleSearchChange = (event: CustomEvent) => {\n\t\t// Call handleFilterChange with the created CustomEvent object\n\t\tthis.handleFilterChange(event);\n\t};\n\n\thandleFilterChange = (event: CustomEvent) => {\n\t\t// Create a new array to hold the new state\n\t\tconst newSelectedOptions = [...this.selectedOptions];\n\n\t\t// Check the type of the event\n\t\tif (event.type === \"ifxFilterSearchChange\") {\n\t\t\t// Handle the ifxFilterSearchChange event\n\t\t\tconst { filterName, filterValue } = event.detail;\n\n\t\t\t// Find the existing filter with the same filterName\n\t\t\tconst existingOptionIndex = newSelectedOptions.findIndex(\n\t\t\t\t(option) =>\n\t\t\t\t\ttypeof option !== \"string\" && option.filterGroupName === filterName,\n\t\t\t);\n\n\t\t\tif (existingOptionIndex !== -1) {\n\t\t\t\t// If an existing filter is found, update its value\n\t\t\t\tnewSelectedOptions[existingOptionIndex].value = filterValue;\n\t\t\t} else {\n\t\t\t\t// If no existing filter is found, append the new filter\n\t\t\t\tnewSelectedOptions.push({\n\t\t\t\t\tfilterGroupName: filterName,\n\t\t\t\t\tvalue: filterValue,\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (event.type === \"ifxFilterAccordionChange\") {\n\t\t\tconst { filterGroupName, selectedItems } = event.detail;\n\n\t\t\t// Find the existing filter group with the same filterGroupName\n\t\t\tconst existingOptionIndex = newSelectedOptions.findIndex(\n\t\t\t\t(option) => option.filterGroupName === filterGroupName,\n\t\t\t);\n\n\t\t\tif (existingOptionIndex !== -1) {\n\t\t\t\t// If an existing filter group is found, update its selectedItems\n\t\t\t\tnewSelectedOptions[existingOptionIndex] = {\n\t\t\t\t\tfilterGroupName,\n\t\t\t\t\tselectedItems,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// If no existing filter group is found, append the new filter group\n\t\t\t\tnewSelectedOptions.push({ filterGroupName, selectedItems });\n\t\t\t}\n\t\t}\n\n\t\t// Update the state with the new selected options\n\t\tthis.selectedOptions = newSelectedOptions;\n\n\t\t// Emit the entire selectedOptions array\n\t\tthis.ifxSidebarFilterChange.emit(this.selectedOptions);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div class=\"filter-type-group\">\n\t\t\t\t\t<slot name=\"filter-search\" />\n\t\t\t\t\t<slot name=\"filter-accordion\" />\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}