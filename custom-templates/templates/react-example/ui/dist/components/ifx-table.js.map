{"version":3,"names":["ButtonCellRenderer","eGui","eButton","eventListener","init","params","this","createButton","getGui","refresh","updateButton","config","data","colDef","field","options","cellRendererParams","document","createElement","hasRequiredKeys","setButtonAttributes","appendChild","attachEventListener","textContent","String","detachEventListener","setAttribute","disabled","toString","variant","theme","type","size","fullWidth","target","href","text","event","onButtonClick","addEventListener","removeEventListener","CheckboxCellRenderer","eCheckbox","createCheckbox","updateCheckbox","style","display","alignItems","justifyContent","setCheckboxAttributes","error","checked","indeterminate","onCheckboxClick","CheckboxHeaderRenderer","createHeader","detail","onSelectAll","CustomLoadingOverlay","_params","innerHTML","CustomNoRowsOverlay","noRowsMessageFunc","IconButtonCellRenderer","eIconButton","createIconButton","updateIconButton","setIconButtonAttributes","shape","icon","onIconButtonClick","LinkCellRenderer","eLink","createLink","updateLink","value","setLinkAttributes","download","StatusCellRenderer","render","cfg","el","label","color","border","TooltipCellRenderer","eTooltip","createTooltip","updateTooltip","setTooltipAttributes","includes","iconMatch","match","iconEl","position","tableCss","Table","__stencil_proxyCustomElement","HTMLElement","gridOptions","gridApi","currentPage","cols","rows","buttonRendererOptions","iconButtonRendererOptions","checkboxRendererOptions","rowData","colData","filterOptions","currentFilters","uniqueKey","allRowData","rowHeight","tableHeight","pagination","paginationItemsPerPage","paginationPageSize","filterOrientation","headline","showSidebarFilters","matchingResultsCount","serverSidePagination","serverPageChangeHandler","enableSelection","selectedRows","Set","selectAll","selectedRowsData","Map","showLoading","fitColumns","columnMinWidth","columnWidth","ifxSortChange","container","lastSortedColumn","originalRowData","internalItemsPerPage","JSON","stringify","selected","rowsChanged","_newVal","parsed","parseArrayInput","forEach","row","index","__rowId","Date","now","Math","random","__checkbox","has","length","updateTableView","updateFilterOptions","onSizingOptionsChanged","applyColumnSizing","colsChanged","getColData","setGridOption","handleResultsPerPageChange","e","Number","handleChipChange","name","currentSelection","previousSelection","updatedFilters","customEvent","CustomEvent","filterName","bubbles","composed","host","dispatchEvent","filterValues","map","selection","applyAllFilters","onButtonRendererOptionsChanged","onIconButtonRendererOptionsChanged","onCheckboxRendererOptionsChanged","input","parse","Array","isArray","console","toggleSidebarFilters","sizeColumnsToFit","defaultMinWidth","col","updateHeaderCheckboxState","setTimeout","headerCheckbox","querySelector","currentPageSelectedCount","filter","allOnPageSelected","someOnPageSelected","allSelected","someSelected","handleSidebarFilterChange","filterGroups","filterGroup","filterGroupName","selectedItems","item","handleTopbarFilterChange","filters","filterInfo","selectedValues","toLowerCase","textFilterMatched","property","hasOwnProperty","rowValue","some","filterValue","startsWith","includesUndefined","total","page","pageSize","rowId","sampleNumber","paginationElement","shadowRoot","visibleRowData","startIndex","endIndex","slice","clearAllFilters","onBtShowLoading","showLoadingOverlay","setPaginationItemsPerPage","newItemsPerPage","itemsPerPageArray","selectedOption","find","option","componentWillLoad","ModuleRegistry","registerModules","AllCommunityModule","floor","getRowData","suppressCellFocus","headerHeight","components","checkboxCellRenderer","checkboxHeaderRenderer","customLoadingOverlay","customNoRowsOverlay","defaultColDef","resizable","autoHeight","minWidth","width","parseInt","undefined","suppressDragLeaveHidesColumns","enableCellTextSelection","columnDefs","loadingOverlayComponent","noRowsOverlayComponent","noRowsOverlayComponentParams","icons","sortAscending","sortDescending","sortUnSort","rowDragManaged","dndSource","animateRows","navigateToNextCell","focusCellIfContainingButton","api","nextCellPosition","tabToNextCell","cellPosition","column","getColDef","rowNode","getDisplayedRowAtIndex","rowIndex","cellRenderers","getCellRendererInstances","rowNodes","columns","renderedContent","button","focusableChild","focus","emitEventOnHeaderSortChange","columnState","getColumnState","sortedColumn","sort","colId","getColId","emit","componentDidLoad","isNestedInIfxComponent","framework","detectFramework","trackComponent","createGrid","handlePageChange","bind","sidebarFilterElements","querySelectorAll","sidebarFilterElement","topbarFilterElements","topbarFilterElement","componentWillUnmount","sidebarFilters","sidebarFilter","topbarFilters","topbarFilter","isJSONParseable","str","handleSelectAll","newSelectedRows","newSelectedRowsData","add","cleanRow","set","delete","clear","updateCheckboxStates","emitSelectionChange","handleRowCheckboxClick","clickedRowData","dataToUpdate","refreshCells","force","selectedRowsArray","from","values","isSelectAll","selectedCount","checkboxColumn","headerName","pinned","cellRenderer","headerComponent","headerComponentParams","sortable","valueFormatter","cellDataType","unshift","handleResetButtonClick","resetEvent","window","disconnectedCallback","resetButton","getTableClassNames","classNames","height","filterClass","h","Host","key","class","onClick","Object","keys","isMultiSelect","placeholder","readOnly","id","ref","hasButtonCol","onDragOver","dragSupported","dataTransfer","dropEffect","preventDefault","onDrop","jsonData","getData","eJsonRow","classList","innerText","eJsonDisplay"],"sources":["src/components/table-advanced-version/buttonCellRenderer.ts","src/components/table-advanced-version/checkboxCellRenderer.ts","src/components/table-advanced-version/checkboxHeaderRenderer.ts","src/components/table-advanced-version/customLoadingOverlay.ts","src/components/table-advanced-version/customNoRowsOverlay.ts","src/components/table-advanced-version/iconButtonCellRenderer.ts","src/components/table-advanced-version/linkCellRenderer.ts","src/components/table-advanced-version/statusCellRenderer.ts","src/components/table-advanced-version/tooltipCellRenderer.ts","src/components/table-advanced-version/table.scss?tag=ifx-table&encapsulation=shadow","src/components/table-advanced-version/table.tsx"],"sourcesContent":["import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\nimport type { ButtonInterface } from \"./interfaces\";\n\nexport class ButtonCellRenderer implements ICellRendererComp {\n\teGui!: HTMLDivElement;\n\teButton!: HTMLElement; // Change to a generic HTMLElement to accommodate custom elements\n\teventListener!: (event: Event) => void;\n\n\tinit(params: ICellRendererParams) {\n\t\tthis.createButton(params);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: ICellRendererParams) {\n\t\tthis.updateButton(params);\n\t\treturn true;\n\t}\n\n\tprivate createButton(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eButton = document.createElement(\"ifx-button\") as HTMLElement;\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setButtonAttributes(config);\n\t\t\tthis.eGui.appendChild(this.eButton);\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate updateButton(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setButtonAttributes(config);\n\t\t\tthis.detachEventListener();\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate setButtonAttributes(config: ButtonInterface) {\n\t\tthis.eButton.setAttribute(\"disabled\", config.disabled.toString());\n\t\tthis.eButton.setAttribute(\"variant\", config.variant);\n\t\tthis.eButton.setAttribute(\"theme\", config.theme);\n\t\tthis.eButton.setAttribute(\"type\", config.type);\n\t\tthis.eButton.setAttribute(\"size\", config.size);\n\t\tthis.eButton.setAttribute(\"full-width\", config.fullWidth.toString());\n\t\tthis.eButton.setAttribute(\"target\", config.target);\n\t\tthis.eButton.setAttribute(\"href\", config.href);\n\t\tthis.eButton.textContent = config.text;\n\t}\n\n\tprivate attachEventListener(options: any, params: ICellRendererParams) {\n\t\tthis.eventListener = (event: Event) => {\n\t\t\tif (options.onButtonClick) {\n\t\t\t\toptions.onButtonClick(params, event);\n\t\t\t}\n\t\t};\n\t\tthis.eButton.addEventListener(\"click\", this.eventListener);\n\t}\n\n\tprivate detachEventListener() {\n\t\tif (this.eventListener) {\n\t\t\tthis.eButton.removeEventListener(\"click\", this.eventListener);\n\t\t}\n\t}\n\n\tprivate hasRequiredKeys(config: ButtonInterface): boolean {\n\t\treturn (\n\t\t\tconfig &&\n\t\t\tconfig.text !== \"\" &&\n\t\t\tconfig.variant !== \"\" &&\n\t\t\tconfig.size !== \"\" &&\n\t\t\tconfig.type !== \"\"\n\t\t);\n\t}\n}\n","import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\nimport type { CheckboxInterface } from \"./interfaces\";\n\nexport class CheckboxCellRenderer implements ICellRendererComp {\n\teGui!: HTMLDivElement;\n\teCheckbox!: HTMLElement;\n\teventListener!: (event: Event) => void;\n\n\tinit(params: ICellRendererParams) {\n\t\tthis.createCheckbox(params);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: ICellRendererParams) {\n\t\tthis.updateCheckbox(params);\n\t\treturn true;\n\t}\n\n\tprivate createCheckbox(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eGui.style.display = \"flex\";\n\t\tthis.eGui.style.alignItems = \"center\";\n\t\tthis.eGui.style.justifyContent = \"center\";\n\t\tthis.eCheckbox = document.createElement(\"ifx-checkbox\") as HTMLElement;\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setCheckboxAttributes(config);\n\t\t\tthis.eGui.appendChild(this.eCheckbox);\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"No checkbox data\";\n\t\t}\n\t}\n\n\tprivate updateCheckbox(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setCheckboxAttributes(config);\n\t\t\tthis.detachEventListener();\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate setCheckboxAttributes(config: CheckboxInterface) {\n\t\tthis.eCheckbox.setAttribute(\"disabled\", config.disabled.toString());\n\t\tthis.eCheckbox.setAttribute(\"error\", config.error.toString());\n\t\tthis.eCheckbox.setAttribute(\"size\", config.size);\n\t\tthis.eCheckbox.setAttribute(\"checked\", config.checked.toString());\n\t\tthis.eCheckbox.setAttribute(\n\t\t\t\"indeterminate\",\n\t\t\tconfig.indeterminate.toString(),\n\t\t);\n\t}\n\n\tprivate attachEventListener(options: any, params: ICellRendererParams) {\n\t\tthis.eventListener = (event: Event) => {\n\t\t\tif (options.onCheckboxClick) {\n\t\t\t\toptions.onCheckboxClick(params, event);\n\t\t\t}\n\t\t};\n\t\tthis.eCheckbox.addEventListener(\"click\", this.eventListener);\n\t}\n\n\tprivate detachEventListener() {\n\t\tif (this.eventListener) {\n\t\t\tthis.eCheckbox.removeEventListener(\"click\", this.eventListener);\n\t\t}\n\t}\n\n\tprivate hasRequiredKeys(config: CheckboxInterface): boolean {\n\t\treturn config && config.size !== \"\";\n\t}\n}\n","import type { IHeaderComp, IHeaderParams } from \"ag-grid-community\";\n\nexport class CheckboxHeaderRenderer implements IHeaderComp {\n\teGui!: HTMLDivElement;\n\teCheckbox!: HTMLElement;\n\tparams!: IHeaderParams & { onSelectAll?: (checked: boolean) => void };\n\n\tinit(params: IHeaderParams & { onSelectAll?: (checked: boolean) => void }) {\n\t\tthis.params = params;\n\t\tthis.createHeader();\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: IHeaderParams): boolean {\n\t\tthis.params = { ...this.params, ...params };\n\t\treturn true;\n\t}\n\n\tprivate createHeader() {\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eGui.style.display = \"flex\";\n\t\tthis.eGui.style.alignItems = \"center\";\n\t\tthis.eGui.style.justifyContent = \"center\";\n\n\t\tthis.eCheckbox = document.createElement(\"ifx-checkbox\");\n\t\tthis.eCheckbox.setAttribute(\"size\", \"s\");\n\t\tthis.eCheckbox.setAttribute(\"checked\", \"false\");\n\n\t\tthis.eCheckbox.addEventListener(\"ifxChange\", (event: any) => {\n\t\t\tconst checked = event.detail;\n\t\t\tif (this.params.onSelectAll) {\n\t\t\t\tthis.params.onSelectAll(checked);\n\t\t\t}\n\t\t});\n\n\t\tthis.eGui.appendChild(this.eCheckbox);\n\t}\n}\n","import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\n\nexport class CustomLoadingOverlay implements ICellRendererComp {\n\teGui!: HTMLElement;\n\n\tinit(_params: ICellRendererParams & { loadingMessage: string }) {\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eGui.innerHTML = `<div class=\"ag-overlay-loading-center\" role=\"presentation\">\n<ifx-spinner></ifx-spinner>\n            </div>`;\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(_params: ICellRendererParams): boolean {\n\t\treturn false;\n\t}\n}\n","import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\n\nexport class CustomNoRowsOverlay implements ICellRendererComp {\n\teGui!: HTMLElement;\n\n\tinit(params: ICellRendererParams & { noRowsMessageFunc: () => string }) {\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eGui.innerHTML = `\n            <div role=\"presentation\" class=\"ag-overlay-loading-center\" >\n               ${params.noRowsMessageFunc()}\n            </div>\n        `;\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(_params: ICellRendererParams): boolean {\n\t\treturn false;\n\t}\n}\n","import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\nimport type { IconButtonInterface } from \"./interfaces\";\n\nexport class IconButtonCellRenderer implements ICellRendererComp {\n\teGui!: HTMLDivElement;\n\teIconButton!: HTMLElement;\n\teventListener!: (event: Event) => void;\n\n\tinit(params: ICellRendererParams) {\n\t\tthis.createIconButton(params);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: ICellRendererParams) {\n\t\tthis.updateIconButton(params);\n\t\treturn true;\n\t}\n\n\tprivate createIconButton(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eIconButton = document.createElement(\"ifx-icon-button\") as HTMLElement;\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setIconButtonAttributes(config);\n\t\t\tthis.eGui.appendChild(this.eIconButton);\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate updateIconButton(params: ICellRendererParams) {\n\t\tconst config = params.data[params.colDef.field];\n\t\tconst options = params.colDef.cellRendererParams || {};\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setIconButtonAttributes(config);\n\t\t\tthis.detachEventListener();\n\t\t\tthis.attachEventListener(options, params);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate setIconButtonAttributes(config: IconButtonInterface) {\n\t\tthis.eIconButton.setAttribute(\"disabled\", config.disabled.toString());\n\t\tthis.eIconButton.setAttribute(\"variant\", config.variant);\n\t\tthis.eIconButton.setAttribute(\"shape\", config.shape);\n\t\tthis.eIconButton.setAttribute(\"size\", config.size);\n\t\tthis.eIconButton.setAttribute(\"target\", config.target);\n\t\tthis.eIconButton.setAttribute(\"href\", config.href);\n\t\tthis.eIconButton.setAttribute(\"icon\", config.icon);\n\t}\n\n\tprivate attachEventListener(options: any, params: ICellRendererParams) {\n\t\tthis.eventListener = (event: Event) => {\n\t\t\tif (options.onIconButtonClick) {\n\t\t\t\toptions.onIconButtonClick(params, event);\n\t\t\t}\n\t\t};\n\t\tthis.eIconButton.addEventListener(\"click\", this.eventListener);\n\t}\n\n\tprivate detachEventListener() {\n\t\tif (this.eventListener) {\n\t\t\tthis.eIconButton.removeEventListener(\"click\", this.eventListener);\n\t\t}\n\t}\n\n\tprivate hasRequiredKeys(config: IconButtonInterface): boolean {\n\t\treturn (\n\t\t\tconfig &&\n\t\t\tconfig.variant !== \"\" &&\n\t\t\tconfig.size !== \"\" &&\n\t\t\tconfig.shape !== \"\"\n\t\t);\n\t}\n}\n","import type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\nimport type { LinkInterface } from \"./interfaces\";\n\nexport class LinkCellRenderer implements ICellRendererComp {\n\teGui!: HTMLDivElement;\n\teLink!: HTMLElement;\n\n\tinit(params: ICellRendererParams) {\n\t\tthis.createLink(params);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: ICellRendererParams) {\n\t\tthis.updateLink(params);\n\t\treturn true;\n\t}\n\n\tprivate createLink(params: ICellRendererParams) {\n\t\tconst field = params.colDef?.field as string | undefined;\n\t\tconst config = (params.value ?? params.data?.[field]) as any;\n\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.eLink = document.createElement(\"ifx-link\") as HTMLElement;\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setLinkAttributes(config);\n\t\t\tthis.eGui.appendChild(this.eLink);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate updateLink(params: ICellRendererParams) {\n\t\tconst field = params.colDef?.field as string | undefined;\n\t\tconst config = (params.value ?? params.data?.[field]) as any;\n\n\t\tif (this.hasRequiredKeys(config)) {\n\t\t\tthis.setLinkAttributes(config);\n\t\t} else {\n\t\t\tthis.eGui.textContent = config ? String(config) : \"\";\n\t\t}\n\t}\n\n\tprivate setLinkAttributes(config: LinkInterface) {\n\t\tthis.eLink.setAttribute(\"disabled\", config.disabled?.toString());\n\t\tthis.eLink.setAttribute(\"variant\", config.variant);\n\t\tthis.eLink.setAttribute(\"size\", config.size);\n\t\tthis.eLink.setAttribute(\"target\", config.target);\n\t\tthis.eLink.setAttribute(\"href\", config.href);\n\t\tif (config.download) this.eLink.setAttribute(\"download\", config.download);\n\t\tthis.eLink.textContent = config.text || \"\";\n\t}\n\n\tprivate hasRequiredKeys(config: LinkInterface): boolean {\n\t\treturn !!(config && config.text && config.variant && config.size);\n\t}\n}\n","// statusCellRenderer.ts\nimport type { ICellRendererComp, ICellRendererParams } from \"ag-grid-community\";\n\ntype StatusConfig = {\n\tlabel: string;\n\tcolor?: string;\n\tborder?: boolean;\n};\n\nexport class StatusCellRenderer implements ICellRendererComp {\n\tprivate eGui!: HTMLDivElement;\n\n\tinit(params: ICellRendererParams) {\n\t\tthis.eGui = document.createElement(\"div\");\n\t\tthis.render(params);\n\t}\n\n\tgetGui() {\n\t\treturn this.eGui;\n\t}\n\n\trefresh(params: ICellRendererParams) {\n\t\tthis.render(params);\n\t\treturn true;\n\t}\n\n\tprivate render(params: ICellRendererParams) {\n\t\tconst field = params.colDef?.field as string | undefined;\n\t\tconst cfg = (params.value ?? params.data?.[field]) as\n\t\t\t| StatusConfig\n\t\t\t| string\n\t\t\t| undefined;\n\n\t\tthis.eGui.textContent = \"\";\n\n\t\tif (cfg && typeof cfg === \"object\" && \"label\" in cfg) {\n\t\t\tconst el = document.createElement(\"ifx-status\") as any;\n\t\t\tel.label = cfg.label;\n\t\t\tif (cfg.color != null) el.color = cfg.color;\n\t\t\tel.border = !!(cfg as StatusConfig).border;\n\t\t\tthis.eGui.appendChild(el);\n\t\t} else if (cfg != null) {\n\t\t\tthis.eGui.textContent = String(cfg);\n\t\t}\n\t}\n}\n","import { ICellRendererComp, ICellRendererParams } from 'ag-grid-community'; \nimport { TooltipInterface } from './interfaces';\n\nexport class TooltipCellRenderer implements ICellRendererComp {\n  private eGui!: HTMLDivElement;\n  private eTooltip!: HTMLElement;\n\n  init(params: ICellRendererParams): void {\n    this.createTooltip(params);\n  }\n\n  getGui(): HTMLElement {\n    return this.eGui;\n  }\n\n  refresh(params: ICellRendererParams): boolean {\n    this.updateTooltip(params);\n    return true;\n  }\n\nprivate createTooltip(params: ICellRendererParams) {\n  const field = params.colDef?.field as string | undefined;\n  const config = (params.value ?? params.data?.[field]) as TooltipInterface;\n  \n  this.eGui = document.createElement('div');\n  \n  if (!this.hasRequiredKeys(config)) {\n    this.eGui.textContent = config ? String(config) : '';\n    return;\n  }\n  \n  this.eTooltip = document.createElement('ifx-tooltip') as HTMLElement;\n  \n  this.setTooltipAttributes(config);\n  \n  if (config.value) {\n    if (config.value.includes('<ifx-icon')) {\n      const iconMatch = config.value.match(/icon=\"([^\"]+)\"/);\n      if (iconMatch) {\n        const iconEl = document.createElement('ifx-icon');\n        iconEl.setAttribute('icon', iconMatch[1]);\n        this.eTooltip.appendChild(iconEl);\n      }\n    } else {\n      this.eTooltip.textContent = config.value;\n    }\n  }\n  \n  this.eGui.appendChild(this.eTooltip);\n}\n\n  private updateTooltip(params: ICellRendererParams) {\n    const field = params.colDef?.field as string | undefined;\n    const config = (params.value ?? params.data?.[field]) as TooltipInterface;\n\n    if (!this.hasRequiredKeys(config)) {\n      this.eGui.textContent = config ? String(config) : '';\n      return;\n    }\n\n    this.setTooltipAttributes(config);\n    this.eTooltip.textContent = config.value || '';\n  }\n\n  private setTooltipAttributes(config: TooltipInterface) {\n    this.eTooltip.setAttribute('text', config.text);\n    this.eTooltip.setAttribute('append-to-body', 'true');\n\n    if (config.position) {\n      this.eTooltip.setAttribute('position', config.position);\n    }\n  }\n\n  private hasRequiredKeys(config: TooltipInterface): boolean {\n    return !!(config && config.text);\n  }\n}\n","@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n@import '~ag-grid-community/styles/ag-grid.css';\n\n.zebra {\n  & .ag-row-odd {\n    background-color: tokens.$ifxColorEngineering100 !important;\n  }\n\n  & .ag-row {\n    border-bottom: none !important;\n  }\n}\n\n.ag-header-viewport {\n  background-color: tokens.$ifxColorEngineering200 !important;\n}\n\n.table-container {\n  display: block;\n}\n\n.sidebar-btn {\n  margin-bottom: 24px;\n}\n\n.sidebar-container {\n  margin-right: 24px;\n}\n\n.sidebar-layout {\n  display: flex;\n  flex-direction: row;\n}\n\n.topbar-layout {\n  display: flex;\n  flex-direction: column;\n}\n\n.table-pagination-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  width: 100%;\n\n  & .pagination-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n}\n\n#table-wrapper {\n  flex: 1;\n  padding-bottom: tokens.$ifxSpace100;\n  overflow-x: auto;\n  width: 100%;\n}\n\n.table-wrapper {\n  overflow-x: auto;\n  width: 100%;\n}\n\n.ag-horizontal-left-spacer {\n  display: none;\n}\n\n.table-wrapper .ag-root-wrapper-body {\n  height: auto !important;\n  min-height: 100px !important;\n  min-width: 100px;\n}\n\n.filter-chips {\n  display: flex;\n  flex-wrap: wrap;\n  gap: tokens.$ifxSpace100;\n  margin-bottom: 12px;\n}\n\n.filter-chips > ifx-button {\n  margin-left: -8px;\n}\n\n.set-filter-wrapper-sidebar {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: tokens.$ifxSpace100;\n}\n\n.set-filter-wrapper-topbar {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin-bottom: tokens.$ifxSpace100;\n  background: tokens.$ifxColorEngineering100;\n  padding-top: 32px;\n  padding-bottom: 32px;\n  gap: 24px;\n}\n\n.headline-wrapper {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 0px;\n}\n\n.inner-buttons-wrapper {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 5px;\n}\n\n.ifx-ag-grid {\n  //display: grid;\n  display: block;\n  height: 100%;\n  width: 100%;\n  min-width: 100px;\n  overflow-x: auto;\n}\n\n.ifx-ag-grid .ag-header-cell::after {\n  outline: none !important;\n  border: none !important;\n  box-shadow: none !important;\n}\n\n.ifx-ag-grid .ag-header-cell:focus {\n  outline: none !important;\n}\n\n.ifx-ag-grid *:not(.ag-header-cell):focus {\n  outline: none;\n}\n\n.ifx-ag-grid .ag-header-cell:not(:last-child)::before {\n  content: '';\n  position: absolute;\n  right: 0;\n  top: calc(50% - 12px);\n  height: 24px;\n  width: 1px;\n  background-color: tokens.$ifxColorEngineering300;\n}\n\n.ag-pinned-left-header {\n  background-color: tokens.$ifxColorEngineering200;\n  min-width: 50px !important;\n  max-width: 50px !important;\n  width: 50px !important;\n  &::before {\n    content: '';\n    position: absolute;\n    right: 0;\n    top: calc(50% - 12px);\n    height: 24px;\n    width: 1px;\n    background-color: tokens.$ifxColorEngineering300;\n  }\n}\n\n.ag-header-row {\n  width: 50px !important;\n}\n\n.ag-pinned-left-cols-container {\n  width: 50px !important;\n  max-width: 50px !important;\n  min-width: 50px !important;\n}\n\n.ag-overlay-loading-center {\n  border: none;\n  background: none;\n  border-radius: none;\n  box-shadow: none;\n}\n\n.ag-root-wrapper {\n  border: 1px solid tokens.$ifxColorEngineering200;\n}\n\n.ag-header {\n  background-color: tokens.$ifxColorEngineering100;\n  border-bottom: none;\n\n  &.ag-header-active {\n    outline: none !important;\n    border-color: #0a8276 !important;\n  }\n}\n\n.ag-header-cell {\n  padding-left: 16px;\n  padding-right: 16px;\n  gap: 4px;\n}\n\n.ag-header-cell-focus {\n  border: none !important;\n  outline: none !important;\n}\n\n.ag-header-cell-text {\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  color: tokens.$ifxColorBaseBlack;\n  font-family: var(--ifx-font-family);\n}\n\n.ag-row-focus {\n  background-color: inherit !important;\n}\n\n.ag-row-hover {\n  background-color: tokens.$ifxColorBaseWhite !important;\n}\n\n.ag-cell-focus {\n  border: none !important;\n  outline: none !important;\n  background-color: inherit !important;\n}\n\n.ag-row {\n  background-color: tokens.$ifxColorBaseWhite;\n  border-bottom: 1px solid tokens.$ifxColorEngineering200;\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  z-index: 1;\n}\n\n.ag-row-odd {\n  background-color: tokens.$ifxColorBaseWhite;\n}\n\n.ag-cell {\n  display: flex;\n  padding-left: 16px;\n  padding-right: 16px;\n  white-space: pre-line;\n  min-height: 40px;\n  height: auto;\n}\n\n.ag-ltr .ag-sort-indicator-icon {\n  padding-left: 0px;\n  vertical-align: bottom;\n  line-height: 12px;\n}\n\n.ag-sort-indicator-container .ag-sort-order {\n  display: none;\n}\n\n.unsort-icon-custom-color {\n  color: tokens.$ifxColorEngineering400;\n}\n\n.filters-title {\n  font-size: 24px;\n  font-weight: 600;\n}\n\n.matching-results-container {\n  flex: 1;\n  font-family: 'Source Sans 3';\n  display: flex;\n  gap: 4px;\n  font-size: 24px;\n  font-weight: 600;\n  line-height: 32px;\n  letter-spacing: -1px;\n  padding-right: 56px;\n}\n\n.matching-results-count {\n  font-weight: 600;\n}\n\n.matching-results-text {\n  font-weight: 400;\n}\n\n@media (max-width: tokens.$ifxBreakpointM) {\n  .table-wrapper,\n  #table-wrapper {\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .ag-root-wrapper {\n    min-width: 100%;\n  }\n\n  .ag-body-horizontal-scroll {\n    display: block;\n  }\n\n  .ag-header-cell,\n  .ag-cell {\n    min-width: 100px;\n    white-space: nowrap;\n  }\n\n  .sidebar-layout {\n    flex-direction: column;\n  }\n\n  .sidebar-container {\n    margin-right: 0;\n    margin-bottom: 24px;\n  }\n\n  .set-filter-wrapper-topbar {\n    padding-left: 16px;\n    padding-right: 16px;\n  }\n\n  .table-pagination-wrapper {\n    gap: tokens.$ifxSpace200;\n  }\n}\n","/* eslint-disable @stencil-community/own-methods-must-be-private */\nimport { Component, Element, Event, EventEmitter, Host, h, Listen, Method, Prop, State, Watch } from \"@stencil/core\";\nimport {\n\tAllCommunityModule,\n\tCellPosition,\n\tcreateGrid,\n\ttype GridApi,\n\ttype GridOptions,\n\tModuleRegistry,\n} from \"ag-grid-community\";\nimport classNames from \"classnames\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\nimport { ButtonCellRenderer } from \"./buttonCellRenderer\";\nimport { CheckboxCellRenderer } from \"./checkboxCellRenderer\";\nimport { CheckboxHeaderRenderer } from \"./checkboxHeaderRenderer\";\nimport { CustomLoadingOverlay } from \"./customLoadingOverlay\";\nimport { CustomNoRowsOverlay } from \"./customNoRowsOverlay\";\nimport { IconButtonCellRenderer } from \"./iconButtonCellRenderer\";\nimport { LinkCellRenderer } from \"./linkCellRenderer\";\nimport { StatusCellRenderer } from \"./statusCellRenderer\";\nimport { TooltipCellRenderer } from \"./tooltipCellRenderer\";\n\n@Component({\n\ttag: \"ifx-table\",\n\tstyleUrl: \"table.scss\",\n\tshadow: true,\n})\nexport class Table {\n\tgridOptions: GridOptions;\n\tgridApi: GridApi;\n\t@State() currentPage: number = 1;\n\t@Prop() cols: any;\n\t@Prop() rows: any;\n\t@Prop() buttonRendererOptions?: {\n\t\tonButtonClick?: (params: any, event: Event) => void;\n\t};\n\t@Prop() iconButtonRendererOptions?: {\n\t\tonIconButtonClick?: (params: any, event: Event) => void;\n\t};\n\t@Prop() checkboxRendererOptions?: {\n\t\tonCheckboxClick?: (params: any, event: Event) => void;\n\t};\n\t@State() rowData: any[] = [];\n\t@State() colData: any[] = [];\n\t@State() filterOptions: { [key: string]: string[] } = {};\n\t@State() currentFilters = {};\n\t@State() uniqueKey: string;\n\tallRowData: any[] = [];\n\t@Prop() rowHeight: string = \"default\";\n\t@Prop() tableHeight: string = \"auto\";\n\t@Prop() pagination: boolean = true;\n\t@Prop() paginationItemsPerPage: string;\n\t@State() paginationPageSize: number = 10;\n\t@Prop() filterOrientation: string = \"sidebar\";\n\t@Prop() headline: string = \"\";\n\t@State() showSidebarFilters: boolean = true;\n\t@State() matchingResultsCount: number = 0;\n\t@Prop() variant: string = \"default\";\n\t@Prop() serverSidePagination: boolean = false;\n\t@Prop() serverPageChangeHandler?: (params: {\n\t\tpage: number;\n\t\tpageSize: number;\n\t}) => Promise<{ rows: any[]; total: number }>;\n\t@Prop() enableSelection: boolean = false;\n\t@State() selectedRows: Set<string> = new Set();\n\t@State() selectAll: boolean = false;\n\t@State() selectedRowsData: Map<string, any> = new Map();\n\t@Prop() showLoading: boolean = false;\n\t@Prop() fitColumns: boolean = false;\n\t@Prop() columnMinWidth?: number;\n\t@Prop() columnWidth?: string;\n\t@Event() ifxSortChange: EventEmitter;\n\tprivate container: HTMLDivElement;\n\tprivate lastSortedColumn: string = null;\n\t@Element() host: HTMLElement;\n\toriginalRowData: any[] = [];\n\n\tprivate internalItemsPerPage = JSON.stringify([\n\t\t{ value: 10, label: \"10\", selected: true },\n\t\t{ value: 20, label: \"20\", selected: false },\n\t\t{ value: 30, label: \"30\", selected: false },\n\t]);\n\n\t@Watch(\"rows\")\n\trowsChanged(_newVal: any) {\n\t\tconst parsed = this.parseArrayInput<any>(this.rows);\n\n\t\tparsed.forEach((row, index) => {\n\t\t\tif (!row.__rowId) {\n\t\t\t\trow.__rowId = `row_${index}_${Date.now()}_${Math.random()}`;\n\t\t\t}\n\t\t});\n\n\t\tif (this.enableSelection) {\n\t\t\tparsed.forEach((row) => {\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\tthis.currentFilters = {};\n\t\tthis.currentPage = 1;\n\t\tthis.originalRowData = [...parsed];\n\t\tthis.allRowData = [...parsed];\n\t\tthis.matchingResultsCount = this.allRowData.length;\n\t\tthis.updateTableView();\n\t\tthis.updateFilterOptions();\n\t}\n\n\t@Watch(\"fitColumns\")\n\t@Watch(\"columnMinWidth\")\n\tonSizingOptionsChanged() {\n\t\tthis.applyColumnSizing();\n\t}\n\n\t@Watch(\"cols\")\n\tcolsChanged(_newVal: any) {\n\t\tthis.colData = this.getColData();\n\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\n\t\tthis.updateFilterOptions();\n\t}\n\n\t@Listen(\"ifxItemsPerPageChange\")\n\thandleResultsPerPageChange(e: CustomEvent<string>) {\n\t\tthis.paginationPageSize = Number(e.detail);\n\t\tthis.currentPage = 1;\n\t\tthis.updateTableView();\n\t}\n\n\t@Listen(\"ifxChange\")\n\thandleChipChange({\n\t\tevent,\n\t}: {\n\t\tevent: CustomEvent<{\n\t\t\tpreviousSelection: Array<any>;\n\t\t\tcurrentSelection: Array<any>;\n\t\t\tname: string;\n\t\t}>;\n\t}) {\n\t\tconst { name, currentSelection, previousSelection } = event.detail;\n\t\tif (currentSelection && previousSelection) {\n\t\t\t// Clone the current filters state\n\t\t\tconst updatedFilters = { ...this.currentFilters };\n\n\t\t\tif (currentSelection.length === 0) {\n\t\t\t\t// If there are no selections for this filter, delete the filter\n\t\t\t\tdelete updatedFilters[name];\n\n\t\t\t\t// Emit event with specific filter name\n\t\t\t\tconst customEvent = new CustomEvent(\"ifxUpdateSidebarFilter\", {\n\t\t\t\t\tdetail: { filterName: name },\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcomposed: true,\n\t\t\t\t});\n\t\t\t\tthis.host.dispatchEvent(customEvent);\n\t\t\t} else {\n\t\t\t\t// Otherwise, update the filter values with the current selection\n\t\t\t\tupdatedFilters[name].filterValues = currentSelection.map(\n\t\t\t\t\t(selection) => selection.value,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Update the component's filters\n\t\t\tthis.currentFilters = updatedFilters;\n\t\t\t// Ensure table data is updated\n\t\t\tthis.allRowData = this.applyAllFilters(\n\t\t\t\tthis.originalRowData,\n\t\t\t\tthis.currentFilters,\n\t\t\t);\n\t\t\tthis.updateTableView();\n\t\t}\n\t}\n\n\t@Watch(\"buttonRendererOptions\")\n\tonButtonRendererOptionsChanged() {\n\t\tthis.colData = this.getColData();\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\t}\n\n\t@Watch(\"iconButtonRendererOptions\")\n\tonIconButtonRendererOptionsChanged() {\n\t\tthis.colData = this.getColData();\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\t}\n\n\t@Watch(\"checkboxRendererOptions\")\n\tonCheckboxRendererOptionsChanged() {\n\t\tthis.colData = this.getColData();\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t}\n\t}\n\n\tprivate parseArrayInput<T>(input: any): T[] {\n\t\tif (typeof input === \"string\") {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse(input);\n\t\t\t\treturn Array.isArray(parsed) ? parsed : [];\n\t\t\t} catch {\n\t\t\t\tconsole.error(\"Failed to parse input:\", input);\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t\tif (Array.isArray(input)) return input;\n\t\tif (typeof input === \"object\" && input !== null) return [input as T];\n\t\treturn [];\n\t}\n\n\ttoggleSidebarFilters() {\n\t\tthis.showSidebarFilters = !this.showSidebarFilters;\n\t}\n\n\tapplyColumnSizing() {\n\t\tif (!this.gridApi) return;\n\n\t\tif (this.fitColumns) {\n\t\t\tthis.gridApi.sizeColumnsToFit({\n\t\t\t\tdefaultMinWidth: this.columnMinWidth,\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateFilterOptions() {\n\t\tconst options = {};\n\t\tfor (let col of this.colData) {\n\t\t\toptions[col.field] = [\n\t\t\t\t...new Set(this.rowData.map((row) => row[col.field])),\n\t\t\t];\n\t\t}\n\t\tthis.filterOptions = options;\n\t}\n\n\tprivate updateHeaderCheckboxState() {\n\t\tif (this.gridApi && this.enableSelection) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst headerCheckbox = this.container?.querySelector(\n\t\t\t\t\t'.ag-header-cell[col-id=\"__checkbox\"] ifx-checkbox',\n\t\t\t\t) as any;\n\t\t\t\tif (headerCheckbox) {\n\t\t\t\t\tif (this.serverSidePagination) {\n\t\t\t\t\t\tconst currentPageSelectedCount = this.rowData.filter((row) =>\n\t\t\t\t\t\t\tthis.selectedRows.has(row.__rowId),\n\t\t\t\t\t\t).length;\n\t\t\t\t\t\tconst allOnPageSelected =\n\t\t\t\t\t\t\tcurrentPageSelectedCount === this.rowData.length &&\n\t\t\t\t\t\t\tthis.rowData.length > 0;\n\t\t\t\t\t\tconst someOnPageSelected =\n\t\t\t\t\t\t\tcurrentPageSelectedCount > 0 &&\n\t\t\t\t\t\t\tcurrentPageSelectedCount < this.rowData.length;\n\n\t\t\t\t\t\theaderCheckbox.checked = allOnPageSelected;\n\t\t\t\t\t\theaderCheckbox.indeterminate = someOnPageSelected;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst allSelected =\n\t\t\t\t\t\t\tthis.selectedRows.size === this.allRowData.length &&\n\t\t\t\t\t\t\tthis.allRowData.length > 0;\n\t\t\t\t\t\tconst someSelected =\n\t\t\t\t\t\t\tthis.selectedRows.size > 0 &&\n\t\t\t\t\t\t\tthis.selectedRows.size < this.allRowData.length;\n\n\t\t\t\t\t\theaderCheckbox.checked = allSelected;\n\t\t\t\t\t\theaderCheckbox.indeterminate = someSelected;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\t}\n\n\thandleSidebarFilterChange(event: CustomEvent) {\n\t\tconst filterGroups = event.detail;\n\t\tconst updatedFilters = {};\n\n\t\tfilterGroups.forEach((filterGroup) => {\n\t\t\tconst filterName = filterGroup.filterGroupName;\n\t\t\tlet filterValues;\n\t\t\tlet type;\n\n\t\t\tif (filterGroup.selectedItems && filterGroup.selectedItems.length > 0) {\n\t\t\t\tfilterValues = filterGroup.selectedItems.map((item) => item.label);\n\t\t\t\ttype = \"multi-select\";\n\t\t\t} else if (filterGroup.value) {\n\t\t\t\tfilterValues = [filterGroup.value];\n\t\t\t\ttype = \"text\";\n\t\t\t} else {\n\t\t\t\tfilterValues = [];\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tfilterValues.length === 0 ||\n\t\t\t\t\t(filterValues.length === 1 &&\n\t\t\t\t\t\ttype === \"text\" &&\n\t\t\t\t\t\tfilterValues[0] === \"\")\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tupdatedFilters[filterName] = { filterValues, type };\n\t\t\t}\n\t\t});\n\n\t\tthis.allRowData = this.applyAllFilters(\n\t\t\tthis.originalRowData,\n\t\t\tupdatedFilters,\n\t\t);\n\t\tthis.updateTableView();\n\t\tthis.currentFilters = updatedFilters;\n\t}\n\n\thandleTopbarFilterChange(event: CustomEvent) {\n\t\tconst filters = event.detail;\n\n\t\t// Start by resetting the filter conditions to a blank object\n\t\tthis.currentFilters = {};\n\n\t\t// Loop through each filter group provided in the event detail\n\t\tfilters.forEach((filter) => {\n\t\t\tconst filterName = filter.filterName;\n\t\t\tlet filterValues;\n\n\t\t\tlet type = filter.type;\n\n\t\t\tif (type === \"text\") {\n\t\t\t\t// Search/Text filter\n\t\t\t\tfilterValues = filter.filterValues;\n\t\t\t} else {\n\t\t\t\t// Multi-select/Single-Select\n\t\t\t\tfilterValues = filter.filterValues.map((item) => item.label);\n\t\t\t}\n\n\t\t\t// If there are no filter values, or the filter is a text filter with an empty value, remove the filter\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tfilterValues.length === 0 ||\n\t\t\t\t\t(filterValues.length === 1 &&\n\t\t\t\t\t\ttype === \"text\" &&\n\t\t\t\t\t\tfilterValues[0] === \"\")\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// Add or update the filter in the currentFilters object\n\t\t\t\tthis.currentFilters[filterName] = { filterValues, type };\n\t\t\t}\n\t\t});\n\n\t\t// Now that the currentFilters object has been updated, apply all filters to the data\n\t\tthis.allRowData = this.applyAllFilters(\n\t\t\tthis.originalRowData,\n\t\t\tthis.currentFilters,\n\t\t);\n\n\t\t// After filtering, update the table view with the new filtered data\n\t\tthis.updateTableView();\n\t}\n\n\tapplyAllFilters(data, filters) {\n\t\treturn data.filter((row) => {\n\t\t\tfor (const filterName in filters) {\n\t\t\t\tconst filterInfo = filters[filterName];\n\t\t\t\tlet selectedValues = (filterInfo.filterValues || []).map((value) => {\n\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\treturn value.toLowerCase();\n\t\t\t\t\t} else if (typeof value === \"number\" || typeof value === \"boolean\") {\n\t\t\t\t\t\treturn value.toString();\n\t\t\t\t\t}\n\t\t\t\t\treturn \"\";\n\t\t\t\t});\n\n\t\t\t\t// For text filters, check if row values start with any of the selectedValues\n\t\t\t\tif (filterInfo.type === \"text\") {\n\t\t\t\t\tlet textFilterMatched = false;\n\t\t\t\t\tfor (let property in row) {\n\t\t\t\t\t\tif (row.hasOwnProperty(property)) {\n\t\t\t\t\t\t\tlet rowValue =\n\t\t\t\t\t\t\t\trow[property] != null\n\t\t\t\t\t\t\t\t\t? String(row[property]).toLowerCase()\n\t\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tselectedValues.some((filterValue) =>\n\t\t\t\t\t\t\t\t\trowValue.startsWith(filterValue),\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\ttextFilterMatched = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!textFilterMatched) return false;\n\t\t\t\t} else if (filterInfo.type === \"multi-select\") {\n\t\t\t\t\tlet rowValue =\n\t\t\t\t\t\trow[filterName] != null\n\t\t\t\t\t\t\t? String(row[filterName]).toLowerCase()\n\t\t\t\t\t\t\t: \"\";\n\n\t\t\t\t\tlet includesUndefined = selectedValues.includes(\"undefined\");\n\t\t\t\t\tif (\n\t\t\t\t\t\t!selectedValues.includes(rowValue) &&\n\t\t\t\t\t\t!(includesUndefined && rowValue === \"\")\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tasync updateTableView() {\n\t\tif (this.serverSidePagination) {\n\t\t\tthis.selectAll = false;\n\t\t}\n\n\t\tif (this.serverSidePagination && this.serverPageChangeHandler) {\n\t\t\tconst { rows, total } = await this.serverPageChangeHandler({\n\t\t\t\tpage: this.currentPage,\n\t\t\t\tpageSize: this.paginationPageSize,\n\t\t\t});\n\n\t\t\trows.forEach((row, index) => {\n\t\t\t\tconst rowId =\n\t\t\t\t\trow.sampleNumber ||\n\t\t\t\t\t`row_${(this.currentPage - 1) * this.paginationPageSize + index}`;\n\t\t\t\trow.__rowId = rowId;\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.rowData = rows;\n\t\t\tthis.matchingResultsCount = total;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", rows);\n\t\t\t\tthis.updateHeaderCheckboxState();\n\t\t\t}\n\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.setAttribute(\"total\", total.toString());\n\t\t\t}\n\t\t} else {\n\t\t\tlet visibleRowData;\n\n\t\t\tif (this.pagination) {\n\t\t\t\tconst startIndex = (this.currentPage - 1) * this.paginationPageSize;\n\t\t\t\tconst endIndex = startIndex + this.paginationPageSize;\n\t\t\t\tvisibleRowData = this.allRowData.slice(startIndex, endIndex);\n\t\t\t} else {\n\t\t\t\tvisibleRowData = this.allRowData;\n\t\t\t}\n\n\t\t\tif (this.enableSelection) {\n\t\t\t\tvisibleRowData.forEach((row) => {\n\t\t\t\t\tif (!row.__checkbox) {\n\t\t\t\t\t\trow.__checkbox = {\n\t\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\t\t\tsize: \"s\",\n\t\t\t\t\t\t\tindeterminate: false,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow.__checkbox.checked =\n\t\t\t\t\t\t\tthis.selectedRows?.has(row.__rowId) || false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.rowData = visibleRowData;\n\t\t\tthis.matchingResultsCount = this.allRowData.length;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", this.rowData);\n\t\t\t}\n\t\t\tthis.updateHeaderCheckboxState();\n\t\t}\n\t}\n\n\tclearAllFilters() {\n\t\tthis.currentFilters = {};\n\t\tthis.allRowData = [...this.originalRowData];\n\t}\n\n\t@Method()\n\tasync onBtShowLoading() {\n\t\tthis.gridApi.showLoadingOverlay();\n\t}\n\n\tsetPaginationItemsPerPage() {\n\t\tconst newItemsPerPage = this.paginationItemsPerPage;\n\t\tif (newItemsPerPage) {\n\t\t\tthis.internalItemsPerPage = this.paginationItemsPerPage;\n\t\t\tconst itemsPerPageArray = JSON.parse(this.internalItemsPerPage);\n\n\t\t\tconst selectedOption = itemsPerPageArray.find(\n\t\t\t\t(option) => option.selected,\n\t\t\t);\n\t\t\tif (selectedOption) {\n\t\t\t\tthis.paginationPageSize = Number(selectedOption.value);\n\t\t\t} else if (itemsPerPageArray.length > 0) {\n\t\t\t\tthis.paginationPageSize = Number(itemsPerPageArray[0].value);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillLoad() {\n\t\tModuleRegistry.registerModules([AllCommunityModule]);\n\n\t\tthis.setPaginationItemsPerPage();\n\n\t\tthis.uniqueKey = `unique-${Math.floor(Math.random() * 1000000)}`;\n\t\tthis.rowData = this.getRowData();\n\t\tthis.colData = this.getColData();\n\t\tthis.updateFilterOptions();\n\n\t\tthis.gridOptions = {\n\t\t\tsuppressCellFocus: true,\n\t\t\trowHeight: this.rowHeight === \"default\" ? 40 : 32,\n\t\t\theaderHeight: 40,\n\t\t\tcomponents: {\n\t\t\t\tcheckboxCellRenderer: CheckboxCellRenderer,\n\t\t\t\tcheckboxHeaderRenderer: CheckboxHeaderRenderer,\n\t\t\t\tcustomLoadingOverlay: CustomLoadingOverlay,\n\t\t\t\tcustomNoRowsOverlay: CustomNoRowsOverlay,\n\t\t\t},\n\t\t\tdefaultColDef: {\n\t\t\t\tresizable: true,\n\t\t\t\tautoHeight: true,\n\t\t\t\tminWidth: this.columnMinWidth,\n\t\t\t\twidth: this.columnWidth ? parseInt(this.columnWidth, 10) : undefined,\n\t\t\t},\n\t\t\tsuppressDragLeaveHidesColumns: true,\n\t\t\tenableCellTextSelection: true,\n\t\t\t// onFirstDataRendered: this.onFirstDataRendered.bind(this), //keeping for reference\n\t\t\tcolumnDefs: this.colData,\n\t\t\trowData: this.rowData,\n\t\t\tloadingOverlayComponent: CustomLoadingOverlay,\n\t\t\tnoRowsOverlayComponent: CustomNoRowsOverlay,\n\t\t\tnoRowsOverlayComponentParams: {\n\t\t\t\tnoRowsMessageFunc: () => \"No rows found\", //at: ' + new Date().toLocaleTimeString(),\n\t\t\t},\n\t\t\ticons: {\n\t\t\t\tsortAscending: '<ifx-icon icon=\"arrow-triangle-up-16\"></ifx-icon>',\n\t\t\t\tsortDescending: '<ifx-icon icon=\"arrow-triangle-down-16\"></ifx-icon>',\n\t\t\t\tsortUnSort:\n\t\t\t\t\t'<a class=\"unsort-icon-custom-color\"><ifx-icon icon=\"arrow-triangle-vertikal-16\"></ifx-icon></a>',\n\t\t\t},\n\t\t\trowDragManaged: this.colData.some((col) => col.dndSource === true)\n\t\t\t\t? true\n\t\t\t\t: false,\n\t\t\tanimateRows: this.colData.some((col) => col.dndSource === true)\n\t\t\t\t? true\n\t\t\t\t: false,\n\t\t\tnavigateToNextCell: (params) => {\n\t\t\t\treturn this.focusCellIfContainingButton(\n\t\t\t\t\tparams.api,\n\t\t\t\t\tparams.nextCellPosition,\n\t\t\t\t);\n\t\t\t},\n\t\t\ttabToNextCell: (params) => {\n\t\t\t\t// Returning null is deprecated so we return false if the result is null (browser handles tab behavior).\n\t\t\t\treturn (\n\t\t\t\t\tthis.focusCellIfContainingButton(\n\t\t\t\t\t\tparams.api,\n\t\t\t\t\t\tparams.nextCellPosition,\n\t\t\t\t\t) ?? false\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\t\tthis.updateTableView();\n\t}\n\n\tfocusCellIfContainingButton<T>(\n\t\tapi: GridApi<T>,\n\t\tcellPosition: CellPosition,\n\t): CellPosition | null {\n\t\tif (!cellPosition) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (cellPosition.column.getColDef().field === \"button\") {\n\t\t\tconst rowNode = api.getDisplayedRowAtIndex(cellPosition.rowIndex);\n\n\t\t\tif (!rowNode) {\n\t\t\t\t// Row not yet rendered due to virtualization.\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst cellRenderers = api.getCellRendererInstances({\n\t\t\t\trowNodes: [rowNode],\n\t\t\t\tcolumns: [cellPosition.column],\n\t\t\t});\n\n\t\t\tif (cellRenderers.length > 0) {\n\t\t\t\tconst renderedContent = (\n\t\t\t\t\tcellRenderers[0] as ButtonCellRenderer\n\t\t\t\t)?.getGui();\n\n\t\t\t\tif (renderedContent) {\n\t\t\t\t\tconst button = renderedContent.querySelector(\"ifx-button\");\n\n\t\t\t\t\tif (button) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// Just calling button.focus() will not work because the focus of <ifx-button> will not be\n\t\t\t\t\t\t\t// forwared to its child <a>-element (containing the tabindex attribute) due to shadow root.\n\t\t\t\t\t\t\t// We must therefore grab the <a>-element manually first and then call focus() on it.\n\t\t\t\t\t\t\tconst focusableChild =\n\t\t\t\t\t\t\t\tbutton.shadowRoot?.querySelector<HTMLElement>(\"a[tabindex]\");\n\t\t\t\t\t\t\tfocusableChild?.focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn cellPosition;\n\t}\n\n\temitEventOnHeaderSortChange() {\n\t\tthis.gridApi.addEventListener(\"sortChanged\", (event: any) => {\n\t\t\tconst columnState = this.gridApi.getColumnState();\n\t\t\tconst sortedColumn = columnState.find((col) => col.sort != null);\n\n\t\t\tlet field: string;\n\t\t\tlet sort: string;\n\n\t\t\tif (sortedColumn) {\n\t\t\t\tfield = sortedColumn.colId;\n\t\t\t\tsort = sortedColumn.sort;\n\t\t\t\tthis.lastSortedColumn = sortedColumn.colId;\n\t\t\t} else {\n\t\t\t\tfield = this.lastSortedColumn || event.columns?.[0]?.getColId();\n\t\t\t\tsort = null;\n\n\t\t\t\tif (!this.lastSortedColumn && field) {\n\t\t\t\t\tthis.lastSortedColumn = field;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.ifxSortChange.emit({ field, sort });\n\t\t});\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (this.container) {\n\t\t\tif (!isNestedInIfxComponent(this.host)) {\n\t\t\t\tconst framework = detectFramework();\n\t\t\t\ttrackComponent(\"ifx-table\", await framework);\n\t\t\t}\n\t\t\tthis.gridApi = createGrid(this.container, this.gridOptions);\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.applyColumnSizing();\n\t\t\t\tthis.gridApi.setGridOption(\"columnDefs\", this.colData);\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", this.rowData);\n\n\t\t\t\tif (this.pagination) {\n\t\t\t\t\tconst paginationElement =\n\t\t\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\t\t\tif (paginationElement) {\n\t\t\t\t\t\tpaginationElement.addEventListener(\n\t\t\t\t\t\t\t\"ifxPageChange\",\n\t\t\t\t\t\t\tthis.handlePageChange.bind(this),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst sidebarFilterElements = this.host.querySelectorAll(\n\t\t\t\t\t\"ifx-filter-type-group\",\n\t\t\t\t);\n\t\t\t\t// Add an event listener to each SetFilter component\n\t\t\t\tsidebarFilterElements.forEach((sidebarFilterElement) => {\n\t\t\t\t\tsidebarFilterElement.addEventListener(\n\t\t\t\t\t\t\"ifxSidebarFilterChange\",\n\t\t\t\t\t\tthis.handleSidebarFilterChange.bind(this),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tconst topbarFilterElements =\n\t\t\t\t\tthis.host.querySelectorAll(\"ifx-filter-bar\");\n\t\t\t\t// Add an event listener to each SetFilter component\n\t\t\t\ttopbarFilterElements.forEach((topbarFilterElement) => {\n\t\t\t\t\ttopbarFilterElement.addEventListener(\n\t\t\t\t\t\t\"ifxTopbarFilterChange\",\n\t\t\t\t\t\tthis.handleTopbarFilterChange.bind(this),\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tthis.emitEventOnHeaderSortChange();\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this.pagination) {\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.removeEventListener(\n\t\t\t\t\t\"ifxPageChange\",\n\t\t\t\t\tthis.handlePageChange.bind(this),\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst sidebarFilters = this.host.shadowRoot.querySelectorAll(\n\t\t\t\"ifx-filter-type-group\",\n\t\t);\n\t\t// Remove the event listener from each SetFilter component\n\t\tsidebarFilters.forEach((sidebarFilter) => {\n\t\t\tsidebarFilter.removeEventListener(\n\t\t\t\t\"ifxSidebarFilterChange\",\n\t\t\t\tthis.handleSidebarFilterChange.bind(this),\n\t\t\t);\n\t\t});\n\t\tconst topbarFilters = this.host.shadowRoot.querySelectorAll(\n\t\t\t\"ifx-filter-type-group\",\n\t\t);\n\t\t// Remove the event listener from each SetFilter component\n\t\ttopbarFilters.forEach((topbarFilter) => {\n\t\t\ttopbarFilter.removeEventListener(\n\t\t\t\t\"ifxTopbarFilterChange\",\n\t\t\t\tthis.handleTopbarFilterChange.bind(this),\n\t\t\t);\n\t\t});\n\t}\n\n\tasync handlePageChange(event) {\n\t\tif (!this.pagination) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentPage = event.detail.currentPage;\n\t\tif (this.serverSidePagination) {\n\t\t\tthis.selectAll = false;\n\t\t}\n\n\t\tif (this.serverSidePagination && this.serverPageChangeHandler) {\n\t\t\tconst { rows, total } = await this.serverPageChangeHandler({\n\t\t\t\tpage: this.currentPage,\n\t\t\t\tpageSize: this.paginationPageSize,\n\t\t\t});\n\n\t\t\trows.forEach((row, index) => {\n\t\t\t\tconst rowId =\n\t\t\t\t\trow.sampleNumber ||\n\t\t\t\t\t`row_${(this.currentPage - 1) * this.paginationPageSize + index}`;\n\t\t\t\trow.__rowId = rowId;\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.rowData = rows;\n\t\t\tthis.matchingResultsCount = total;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", this.rowData);\n\t\t\t\tthis.updateHeaderCheckboxState();\n\t\t\t}\n\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.setAttribute(\"total\", total.toString());\n\t\t\t}\n\t\t} else {\n\t\t\tconst startIndex = (this.currentPage - 1) * this.paginationPageSize;\n\t\t\tconst endIndex = startIndex + this.paginationPageSize;\n\t\t\tconst visibleRowData = this.allRowData.slice(startIndex, endIndex);\n\n\t\t\tif (this.enableSelection) {\n\t\t\t\tvisibleRowData.forEach((row) => {\n\t\t\t\t\tif (!row.__checkbox) {\n\t\t\t\t\t\trow.__checkbox = {\n\t\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\t\t\tsize: \"s\",\n\t\t\t\t\t\t\tindeterminate: false,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow.__checkbox.checked =\n\t\t\t\t\t\t\tthis.selectedRows?.has(row.__rowId) || false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.rowData = visibleRowData;\n\n\t\t\tif (this.gridApi) {\n\t\t\t\tthis.gridApi.setGridOption(\"rowData\", visibleRowData);\n\t\t\t\tthis.updateHeaderCheckboxState();\n\t\t\t}\n\t\t}\n\t}\n\n\tisJSONParseable(str) {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\thandleSelectAll = (checked: boolean) => {\n\t\tthis.selectAll = checked;\n\n\t\tconst newSelectedRows = new Set(this.selectedRows);\n\t\tconst newSelectedRowsData = new Map(this.selectedRowsData);\n\n\t\tif (checked) {\n\t\t\tif (this.serverSidePagination) {\n\t\t\t\tthis.rowData.forEach((row) => {\n\t\t\t\t\tconst rowId = row.__rowId;\n\t\t\t\t\tnewSelectedRows.add(rowId);\n\t\t\t\t\tconst { __checkbox, __rowId, ...cleanRow } = row;\n\t\t\t\t\tnewSelectedRowsData.set(rowId, cleanRow);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.allRowData.forEach((row) => {\n\t\t\t\t\tconst rowId = row.__rowId;\n\t\t\t\t\tnewSelectedRows.add(rowId);\n\t\t\t\t\tconst { __checkbox, __rowId, ...cleanRow } = row;\n\t\t\t\t\tnewSelectedRowsData.set(rowId, cleanRow);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.serverSidePagination) {\n\t\t\t\tthis.rowData.forEach((row) => {\n\t\t\t\t\tconst rowId = row.__rowId;\n\t\t\t\t\tnewSelectedRows.delete(rowId);\n\t\t\t\t\tnewSelectedRowsData.delete(rowId);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnewSelectedRows.clear();\n\t\t\t\tnewSelectedRowsData.clear();\n\t\t\t}\n\t\t}\n\n\t\tthis.selectedRows = newSelectedRows;\n\t\tthis.selectedRowsData = newSelectedRowsData;\n\n\t\tthis.updateCheckboxStates();\n\t\tthis.updateHeaderCheckboxState();\n\t\tthis.emitSelectionChange();\n\t};\n\n\tgetRowData() {\n\t\tlet rows: any[] = [];\n\t\tif (this.rows === undefined || this.rows === null) {\n\t\t\treturn rows;\n\t\t}\n\t\tif (this.isJSONParseable(this.rows)) {\n\t\t\trows = [...JSON.parse(this.rows)];\n\t\t} else if (Array.isArray(this.rows) || typeof this.rows === \"object\") {\n\t\t\trows = [...this.rows];\n\t\t} else {\n\t\t\tconsole.error(\"Unexpected value for rows: \", this.rows);\n\t\t}\n\n\t\trows.forEach((row, index) => {\n\t\t\tif (!row.__rowId) {\n\t\t\t\trow.__rowId = `row_${index}_${Date.now()}_${Math.random()}`;\n\t\t\t}\n\t\t});\n\n\t\tif (this.enableSelection) {\n\t\t\trows.forEach((row) => {\n\t\t\t\trow.__checkbox = {\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tchecked: this.selectedRows?.has(row.__rowId) || false,\n\t\t\t\t\tsize: \"s\",\n\t\t\t\t\tindeterminate: false,\n\t\t\t\t\terror: false,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\tthis.allRowData = rows;\n\t\tthis.originalRowData = [...rows];\n\t\tthis.matchingResultsCount = this.allRowData.length;\n\t\treturn rows.slice(0, this.paginationPageSize);\n\t}\n\n\thandleRowCheckboxClick = (params: any) => {\n\t\tconst clickedRowData = params.data;\n\t\tconst rowId = clickedRowData.__rowId;\n\t\tconst newSelectedRows = new Set(this.selectedRows);\n\t\tconst newSelectedRowsData = new Map(this.selectedRowsData);\n\n\t\tif (newSelectedRows.has(rowId)) {\n\t\t\tnewSelectedRows.delete(rowId);\n\t\t\tnewSelectedRowsData.delete(rowId);\n\t\t} else {\n\t\t\tnewSelectedRows.add(rowId);\n\t\t\tconst { __checkbox, __rowId, ...cleanRow } = clickedRowData;\n\t\t\tnewSelectedRowsData.set(rowId, cleanRow);\n\t\t}\n\n\t\tthis.selectedRows = newSelectedRows;\n\t\tthis.selectedRowsData = newSelectedRowsData;\n\n\t\tif (this.serverSidePagination) {\n\t\t\tconst currentPageSelectedCount = this.rowData.filter((row) =>\n\t\t\t\tnewSelectedRows.has(row.__rowId),\n\t\t\t).length;\n\t\t\tthis.selectAll =\n\t\t\t\tcurrentPageSelectedCount === this.rowData.length &&\n\t\t\t\tthis.rowData.length > 0;\n\t\t} else {\n\t\t\tthis.selectAll =\n\t\t\t\tnewSelectedRows.size === this.allRowData.length &&\n\t\t\t\tthis.allRowData.length > 0;\n\t\t}\n\n\t\tthis.updateCheckboxStates();\n\t\tthis.updateHeaderCheckboxState();\n\t\tthis.emitSelectionChange();\n\t};\n\n\tprivate updateCheckboxStates() {\n\t\tconst dataToUpdate = this.rowData;\n\n\t\tdataToUpdate.forEach((row) => {\n\t\t\tif (row.__checkbox) {\n\t\t\t\trow.__checkbox.checked = this.selectedRows.has(row.__rowId);\n\t\t\t}\n\t\t});\n\n\t\tif (this.gridApi) {\n\t\t\tthis.gridApi.refreshCells({\n\t\t\t\tcolumns: [\"__checkbox\"],\n\t\t\t\tforce: true,\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate emitSelectionChange() {\n\t\tconst selectedRowsArray = Array.from(this.selectedRowsData.values());\n\n\t\tlet isSelectAll;\n\t\tif (this.serverSidePagination) {\n\t\t\tconst currentPageSelectedCount = this.rowData.filter((row) =>\n\t\t\t\tthis.selectedRows.has(row.__rowId),\n\t\t\t).length;\n\t\t\tisSelectAll =\n\t\t\t\tcurrentPageSelectedCount === this.rowData.length &&\n\t\t\t\tthis.rowData.length > 0;\n\t\t} else {\n\t\t\tisSelectAll =\n\t\t\t\tthis.selectedRows.size === this.allRowData.length &&\n\t\t\t\tthis.allRowData.length > 0;\n\t\t}\n\n\t\tthis.host.dispatchEvent(\n\t\t\tnew CustomEvent(\"ifxSelectionChange\", {\n\t\t\t\tdetail: {\n\t\t\t\t\tselectedRows: selectedRowsArray,\n\t\t\t\t\tselectedCount: selectedRowsArray.length,\n\t\t\t\t\tisSelectAll: isSelectAll,\n\t\t\t\t},\n\t\t\t\tbubbles: true,\n\t\t\t}),\n\t\t);\n\t}\n\n\tgetColData() {\n\t\tlet cols: any[] = [];\n\t\tif (this.cols === undefined || this.cols === null) return cols;\n\t\tif (this.isJSONParseable(this.cols)) {\n\t\t\tcols = [...JSON.parse(this.cols)];\n\t\t} else if (Array.isArray(this.cols) || typeof this.cols === \"object\") {\n\t\t\tcols = [...this.cols];\n\t\t} else {\n\t\t\tconsole.error(\"Unexpected value for cols: \", this.cols);\n\t\t}\n\n\t\tif (this.enableSelection) {\n\t\t\tconst checkboxColumn = {\n\t\t\t\theaderName: \"\",\n\t\t\t\tfield: \"__checkbox\",\n\t\t\t\twidth: 50,\n\t\t\t\tpinned: \"left\",\n\t\t\t\tcellRenderer: \"checkboxCellRenderer\",\n\t\t\t\tcellRendererParams: {\n\t\t\t\t\tonCheckboxClick: this.handleRowCheckboxClick?.bind(this),\n\t\t\t\t},\n\t\t\t\theaderComponent: \"checkboxHeaderRenderer\",\n\t\t\t\theaderComponentParams: {\n\t\t\t\t\tonSelectAll: this.handleSelectAll?.bind(this),\n\t\t\t\t},\n\t\t\t\tsortable: false,\n\t\t\t\tfilter: false,\n\t\t\t\tresizable: false,\n\t\t\t\tvalueFormatter: undefined,\n\t\t\t\tcellDataType: false,\n\t\t\t};\n\t\t\tcols.unshift(checkboxColumn);\n\t\t}\n\n\t\tcols.forEach((column) => {\n\t\t\tconst field = column.field?.toLowerCase() || \"\";\n\t\t\t// --- Button columns ---\n\t\t\tif (field.startsWith(\"button\")) {\n\t\t\t\tcolumn.cellRenderer = ButtonCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t\tif (this.buttonRendererOptions?.onButtonClick) {\n\t\t\t\t\tcolumn.cellRendererParams = {\n\t\t\t\t\t\tonButtonClick: this.buttonRendererOptions.onButtonClick,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --- Checkbox columns ---\n\t\t\telse if (field.startsWith(\"checkbox\")) {\n\t\t\t\tcolumn.cellRenderer = CheckboxCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t\tif (this.checkboxRendererOptions?.onCheckboxClick) {\n\t\t\t\t\tcolumn.cellRendererParams = {\n\t\t\t\t\t\tonCheckboxClick: this.checkboxRendererOptions.onCheckboxClick,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --- Icon Button columns ---\n\t\t\telse if (field.startsWith(\"iconbutton\") || field === \"iconButton\") {\n\t\t\t\tcolumn.cellRenderer = IconButtonCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t\tif (this.iconButtonRendererOptions?.onIconButtonClick) {\n\t\t\t\t\tcolumn.cellRendererParams = {\n\t\t\t\t\t\tonIconButtonClick: this.iconButtonRendererOptions.onIconButtonClick,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t// --- Status columns ---\n\t\t\telse if (field.startsWith(\"status\")) {\n\t\t\t\tcolumn.cellRenderer = StatusCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t}\n\t\t\t// --- Link columns ---\n\t\t\telse if (field.startsWith(\"link\")) {\n\t\t\t\tcolumn.cellRenderer = LinkCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t}\n\t\t\t// --- Tooltip columns ---\n\t\t\telse if (field.startsWith(\"tooltip\")) {\n\t\t\t\tcolumn.cellRenderer = TooltipCellRenderer;\n\t\t\t\tcolumn.valueFormatter = undefined;\n\t\t\t\tcolumn.cellDataType = false;\n\t\t\t}\n\t\t});\n\t\treturn cols;\n\t}\n\n\t//Keeping for reference\n\t// onFirstDataRendered(params: FirstDataRenderedEvent) {\n\t//   params.api.sizeColumnsToFit();\n\t// }\n\n\thandleResetButtonClick() {\n\t\tconst resetEvent = new CustomEvent(\"ifxResetFiltersEvent\", {\n\t\t\tbubbles: true,\n\t\t\tcomposed: true,\n\t\t});\n\t\twindow.dispatchEvent(resetEvent);\n\n\t\tthis.clearAllFilters();\n\t\tthis.updateTableView();\n\t}\n\n\tdisconnectedCallback() {\n\t\tif (this.pagination) {\n\t\t\tconst paginationElement =\n\t\t\t\tthis.host.shadowRoot.querySelector(\"ifx-pagination\");\n\t\t\tif (paginationElement) {\n\t\t\t\tpaginationElement.removeEventListener(\n\t\t\t\t\t\"ifxPageChange\",\n\t\t\t\t\tthis.handlePageChange,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst resetButton = this.host.shadowRoot.querySelector(\n\t\t\t\"#reset-filters-button\",\n\t\t);\n\t\tif (resetButton) {\n\t\t\tresetButton.removeEventListener(\n\t\t\t\t\"click\",\n\t\t\t\tthis.handleResetButtonClick.bind(this),\n\t\t\t);\n\t\t}\n\t}\n\n\tgetTableClassNames() {\n\t\treturn classNames(\n\t\t\tthis.tableHeight === \"auto\" && \"table-wrapper ag-root-wrapper-body\",\n\t\t\t\"table-wrapper\",\n\t\t);\n\t}\n\n\trender() {\n\t\tlet style = {};\n\t\tif (this.tableHeight !== \"auto\") {\n\t\t\tstyle = {\n\t\t\t\theight: this.tableHeight,\n\t\t\t};\n\t\t}\n\n\t\tconst filterClass =\n\t\t\tthis.filterOrientation === \"topbar\"\n\t\t\t\t? \"topbar-layout\"\n\t\t\t\t: this.filterOrientation === \"none\"\n\t\t\t\t\t? \"\"\n\t\t\t\t\t: \"sidebar-layout\";\n\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div class=\"table-container\">\n\t\t\t\t\t{this.filterOrientation === \"sidebar\" && (\n\t\t\t\t\t\t<div class=\"sidebar-btn\">\n\t\t\t\t\t\t\t<ifx-button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tdisabled={false}\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"m\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\ttheme=\"default\"\n\t\t\t\t\t\t\t\tfull-width=\"false\"\n\t\t\t\t\t\t\t\tonClick={() => this.toggleSidebarFilters()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ifx-icon icon=\"cross-16\"></ifx-icon>\n\t\t\t\t\t\t\t\t{this.showSidebarFilters ? \"Hide Filters\" : \"Show Filters\"}\n\t\t\t\t\t\t\t</ifx-button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div class={filterClass}>\n\t\t\t\t\t\t{this.filterOrientation === \"sidebar\" &&\n\t\t\t\t\t\t\tthis.showSidebarFilters && (\n\t\t\t\t\t\t\t\t<div class=\"sidebar-container\">\n\t\t\t\t\t\t\t\t\t<div class=\"filters-title-container\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"filters-title\">Filters</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"set-filter-wrapper-sidebar\">\n\t\t\t\t\t\t\t\t\t\t{(this.filterOrientation !== \"sidebar\" ||\n\t\t\t\t\t\t\t\t\t\t\tthis.showSidebarFilters) && (\n\t\t\t\t\t\t\t\t\t\t\t<slot name=\"sidebar-filter\"></slot>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{this.filterOrientation !== \"none\" &&\n\t\t\t\t\t\t\tthis.filterOrientation !== \"sidebar\" && (\n\t\t\t\t\t\t\t\t<div class=\"set-filter-wrapper-topbar\">\n\t\t\t\t\t\t\t\t\t{(this.filterOrientation !== \"sidebar\" ||\n\t\t\t\t\t\t\t\t\t\tthis.showSidebarFilters) && (\n\t\t\t\t\t\t\t\t\t\t<slot name=\"topbar-filter\"></slot>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div class=\"table-pagination-wrapper\">\n\t\t\t\t\t\t\t{this.filterOrientation !== \"none\" &&\n\t\t\t\t\t\t\t\tthis.filterOrientation !== \"topbar\" &&\n\t\t\t\t\t\t\t\tthis.showSidebarFilters && (\n\t\t\t\t\t\t\t\t\t<div class=\"filter-chips\">\n\t\t\t\t\t\t\t\t\t\t{Object.keys(this.currentFilters).map((name) => {\n\t\t\t\t\t\t\t\t\t\t\tconst filter = this.currentFilters[name];\n\t\t\t\t\t\t\t\t\t\t\tconst filterValues = filter.filterValues;\n\t\t\t\t\t\t\t\t\t\t\tconst isMultiSelect = filter.type !== \"text\";\n\n\t\t\t\t\t\t\t\t\t\t\treturn filterValues.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<ifx-chip\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={isMultiSelect ? \"multi\" : \"single\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={filterValues}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={name}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{filterValues.map((filterValue) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ifx-chip-item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={filterValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={filterValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{filterValue}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ifx-chip-item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</ifx-chip>\n\t\t\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div class=\"headline-wrapper\">\n\t\t\t\t\t\t\t\t{this.filterOrientation !== \"none\" && this.headline && (\n\t\t\t\t\t\t\t\t\t<div class=\"matching-results-container\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"matching-results-count\">\n\t\t\t\t\t\t\t\t\t\t\t({this.matchingResultsCount})\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class=\"matching-results-text\">{this.headline}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div class=\"inner-buttons-wrapper\">\n\t\t\t\t\t\t\t\t\t<slot name=\"inner-button\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div id=\"table-wrapper\" class={this.getTableClassNames()}>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tid={`ifxTable-${this.uniqueKey}`}\n\t\t\t\t\t\t\t\t\tclass={`ifx-ag-grid ${this.variant === \"zebra\" ? \"zebra\" : \"\"}`}\n\t\t\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t\t\t\tref={(el) => (this.container = el)}\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"pagination-wrapper\">\n\t\t\t\t\t\t\t\t{this.pagination ? (\n\t\t\t\t\t\t\t\t\t<ifx-pagination\n\t\t\t\t\t\t\t\t\t\ttotal={\n\t\t\t\t\t\t\t\t\t\t\tthis.serverSidePagination\n\t\t\t\t\t\t\t\t\t\t\t\t? this.matchingResultsCount\n\t\t\t\t\t\t\t\t\t\t\t\t: this.allRowData.length\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcurrent-page={this.currentPage}\n\t\t\t\t\t\t\t\t\t\titems-per-page={this.internalItemsPerPage}\n\t\t\t\t\t\t\t\t\t></ifx-pagination>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n\n\thasButtonCol(): boolean {\n\t\treturn this.getColData().some((column) => column.field === \"button\");\n\t}\n\n\tonDragOver(event) {\n\t\tvar dragSupported = event.dataTransfer.length;\n\n\t\tif (dragSupported) {\n\t\t\tevent.dataTransfer.dropEffect = \"move\";\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n\n\tonDrop(event) {\n\t\tvar jsonData = event.dataTransfer.getData(\"application/json\");\n\n\t\tvar eJsonRow = document.createElement(\"div\");\n\t\teJsonRow.classList.add(\"json-row\");\n\t\teJsonRow.innerText = jsonData;\n\n\t\tvar eJsonDisplay = document.querySelector(\"#eJsonDisplay\");\n\n\t\teJsonDisplay.appendChild(eJsonRow);\n\t\tevent.preventDefault();\n\t}\n}\n\n"],"mappings":"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","ignoreList":[]}