{"version":3,"names":["getInitiallySelectedItems","el","Array","from","querySelectorAll","filter","entry","getAttribute","map","label","value","type","filterAccordionCss","FilterAccordion","__stencil_proxyCustomElement","HTMLElement","initialized","expanded","maxVisibleItems","count","totalItems","filterGroupName","ifxFilterAccordionChange","componentWillLoad","this","addEventListener","handleCheckedChange","componentDidLoad","selectedItems","length","event","detail","emit","componentWillUnload","removeEventListener","toggleAccordion","stopPropagation","render","h","key","class","onClick","variant","number","icon","name"],"sources":["src/components/table-advanced-version/filter-type-group/utils.ts","src/components/table-advanced-version/filter-type-group/filter-accordion/filter-accordion.scss?tag=ifx-filter-accordion&encapsulation=shadow","src/components/table-advanced-version/filter-type-group/filter-accordion/filter-accordion.tsx"],"sourcesContent":["// utils.ts\nexport function getInitiallySelectedItems(el: HTMLElement) {\n\treturn Array.from(el.querySelectorAll(\"ifx-list-entry\"))\n\n\t\t.filter((entry) => entry.getAttribute(\"value\") === \"true\")\n\t\t.map((entry) => {\n\t\t\treturn {\n\t\t\t\tlabel: entry.getAttribute(\"label\"),\n\t\t\t\tvalue: entry.getAttribute(\"value\"),\n\t\t\t\ttype: entry.getAttribute(\"type\"),\n\t\t\t};\n\t\t});\n}\n","@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n\n.header {\n  display: flex;\n  align-items: flex-start;\n  align-self: stretch;\n  cursor: pointer;\n  border-left: 3px solid transparent;\n}\n\n.text-and-icon {\n  display: flex;\n  padding: tokens.$ifxSpace150 tokens.$ifxSpace200 tokens.$ifxSpace150 tokens.$ifxSpace250;\n  align-items: center;\n  gap: tokens.$ifxSpace200;\n  flex: 1 0 0;\n}\n\n.header.expanded {\n  border-left: 3px solid tokens.$ifxColorOcean500;\n}\n\n.text {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1 0 0;\n  color: tokens.$ifxColorBaseBlack;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 24px;\n}\n\n.hidden {\n  display: none;\n}\n\n.accordion {\n  border-bottom: 1px solid tokens.$ifxColorEngineering200;\n}\n\n\n.filter-accordion-container {\n  display: flex;\n  padding: 8px 16px 16px 20px;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 12px;\n  align-self: stretch;\n  border-left: 3px solid tokens.$ifxColorOcean500;\n}\n\n::slotted(ifx-filter-entry:nth-child(n+7)) {\n  display: none;\n}\n\n.link {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.show-more ::slotted(ifx-filter-entry:nth-child(n+7)) {\n  display: block;\n}\n\n.show-more .show-more-link {\n  display: none;\n}","import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tProp,\n\tState,\n} from \"@stencil/core\";\nimport { getInitiallySelectedItems } from \"../utils\";\n\n@Component({\n\ttag: \"ifx-filter-accordion\",\n\tstyleUrl: \"filter-accordion.scss\",\n\tshadow: true,\n})\nexport class FilterAccordion {\n\tprivate initialized = false;\n\t@Element() private el: HTMLElement;\n\t@State() expanded: boolean = false;\n\t@Prop() maxVisibleItems: number;\n\t@State() count: number = 0;\n\t@State() totalItems = 0;\n\n\t@Prop() filterGroupName = \"\";\n\n\t@Event() ifxFilterAccordionChange: EventEmitter;\n\n\tcomponentWillLoad() {\n\t\tthis.el.addEventListener(\"ifxListUpdate\", this.handleCheckedChange);\n\t}\n\n\tcomponentDidLoad() {\n\t\tif (!this.initialized) {\n\t\t\tconst selectedItems = getInitiallySelectedItems(this.el);\n\t\t\tthis.count = selectedItems.length;\n\t\t\tthis.initialized = true; // Prevent further execution in future calls\n\t\t}\n\t}\n\n\thandleCheckedChange = (event: CustomEvent) => {\n\t\tconst selectedItems = event.detail.selectedItems;\n\t\tthis.count = selectedItems.length;\n\t\tthis.ifxFilterAccordionChange.emit({\n\t\t\tfilterGroupName: this.filterGroupName,\n\t\t\tselectedItems,\n\t\t});\n\t};\n\n\tcomponentWillUnload() {\n\t\tthis.el.removeEventListener(\"ifxListUpdate\", this.handleCheckedChange);\n\t}\n\n\ttoggleAccordion = (event: MouseEvent) => {\n\t\tevent.stopPropagation();\n\t\tthis.expanded = !this.expanded;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div class={`accordion ${this.expanded ? \"expanded\" : \"\"}`}>\n\t\t\t\t<div\n\t\t\t\t\tclass={`header ${this.expanded ? \"expanded\" : \"\"}`}\n\t\t\t\t\tonClick={this.toggleAccordion}\n\t\t\t\t>\n\t\t\t\t\t<div class={`text-and-icon ${this.expanded ? \"expanded\" : \"\"}`}>\n\t\t\t\t\t\t<div class=\"text\">\n\t\t\t\t\t\t\t<span>{this.filterGroupName}</span>\n\t\t\t\t\t\t\t<ifx-indicator\n\t\t\t\t\t\t\t\tvariant=\"number\"\n\t\t\t\t\t\t\t\tnumber={this.count}\n\t\t\t\t\t\t\t></ifx-indicator>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\tclass={this.expanded ? \"\" : \"hidden\"}\n\t\t\t\t\t\t\ticon=\"minus-16\"\n\t\t\t\t\t\t\tonClick={this.toggleAccordion}\n\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\tclass={this.expanded ? \"hidden\" : \"\"}\n\t\t\t\t\t\t\ticon=\"plus-16\"\n\t\t\t\t\t\t\tonClick={this.toggleAccordion}\n\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.expanded && (\n\t\t\t\t\t<div class=\"filter-accordion-container\">\n\t\t\t\t\t\t<slot name=\"list\"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n"],"mappings":"wIACM,SAAUA,EAA0BC,GACzC,OAAOC,MAAMC,KAAKF,EAAGG,iBAAiB,mBAEpCC,QAAQC,GAAUA,EAAMC,aAAa,WAAa,SAClDC,KAAKF,IACE,CACNG,MAAOH,EAAMC,aAAa,SAC1BG,MAAOJ,EAAMC,aAAa,SAC1BI,KAAML,EAAMC,aAAa,WAG7B,CCZA,MAAMK,EAAqB,IAAM,u0B,MCgBpBC,EAAeC,EAAA,MAAAD,UAAAE,E,oJACnBC,YAAc,M,qBAEbC,SAAoB,MACrBC,gBACCC,MAAgB,EAChBC,WAAa,EAEdC,gBAAkB,GAEjBC,yBAET,iBAAAC,GACCC,KAAKvB,GAAGwB,iBAAiB,gBAAiBD,KAAKE,oB,CAGhD,gBAAAC,GACC,IAAKH,KAAKR,YAAa,CACtB,MAAMY,EAAgB5B,EAA0BwB,KAAKvB,IACrDuB,KAAKL,MAAQS,EAAcC,OAC3BL,KAAKR,YAAc,I,EAIrBU,oBAAuBI,IACtB,MAAMF,EAAgBE,EAAMC,OAAOH,cACnCJ,KAAKL,MAAQS,EAAcC,OAC3BL,KAAKF,yBAAyBU,KAAK,CAClCX,gBAAiBG,KAAKH,gBACtBO,iBACC,EAGH,mBAAAK,GACCT,KAAKvB,GAAGiC,oBAAoB,gBAAiBV,KAAKE,oB,CAGnDS,gBAAmBL,IAClBA,EAAMM,kBACNZ,KAAKP,UAAYO,KAAKP,QAAQ,EAG/B,MAAAoB,GACC,OACCC,EAAK,OAAAC,IAAA,2CAAAC,MAAO,aAAahB,KAAKP,SAAW,WAAa,MACrDqB,EACC,OAAAC,IAAA,2CAAAC,MAAO,UAAUhB,KAAKP,SAAW,WAAa,KAC9CwB,QAASjB,KAAKW,iBAEdG,EAAA,OAAAC,IAAA,2CAAKC,MAAO,iBAAiBhB,KAAKP,SAAW,WAAa,MACzDqB,EAAK,OAAAC,IAAA,2CAAAC,MAAM,QACVF,EAAO,QAAAC,IAAA,4CAAAf,KAAKH,iBACZiB,EACC,iBAAAC,IAAA,2CAAAG,QAAQ,SACRC,OAAQnB,KAAKL,SAGfmB,EACC,YAAAC,IAAA,2CAAAC,MAAOhB,KAAKP,SAAW,GAAK,SAC5B2B,KAAK,WACLH,QAASjB,KAAKW,kBAEfG,EACC,YAAAC,IAAA,2CAAAC,MAAOhB,KAAKP,SAAW,SAAW,GAClC2B,KAAK,UACLH,QAASjB,KAAKW,oBAIhBX,KAAKP,UACLqB,EAAK,OAAAC,IAAA,2CAAAC,MAAM,8BACVF,EAAM,QAAAC,IAAA,2CAAAM,KAAK,U","ignoreList":[]}