import{p as t,H as i,c as e,h as s,t as a}from"./p-mxJ7F0UG.js";import{i as o,d as n,t as l}from"./p-94ZtGp9D.js";import{d as r}from"./p-SWAxgzaX.js";import{d as h}from"./p-BYawF2O6.js";const c=()=>`:host{display:flex}.tabs{display:flex;font-family:var(--ifx-font-family);width:100%}.tabs.horizontal{flex-direction:column}.tabs-container{display:flex;align-items:center;position:relative;width:100%;gap:8px}.scroll-button{flex-shrink:0;z-index:10;transition:all 0.3s ease-in-out}.scroll-button.hidden{pointer-events:none}.scroll-button.scroll-left.hidden{width:0;min-width:0;max-width:0;margin:0;padding:0;border:0;opacity:0;overflow:hidden}.scroll-button.scroll-right.hidden{visibility:hidden;pointer-events:none}.tabs.vertical{flex-direction:row}.tabs-list{display:flex;list-style:none;padding:0;margin:0;position:relative;font-weight:600}.tabs-list.scrollable{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;white-space:nowrap;scrollbar-width:none;-ms-overflow-style:none}.tabs-list.scrollable::-webkit-scrollbar{display:none}.tabs-list:focus-within .active-border{display:none}.active-border{content:"";position:absolute;transition:left 0.3s ease-in-out, top 0.3s ease-in-out, height 0.3s ease-in-out}.tabs.horizontal .active-border{bottom:0;left:0;height:2px;background-color:#0A8276}.tabs.vertical .tabs-list{flex-direction:column;border-bottom:none}.tabs.vertical .tab-content{padding-top:0px;padding-left:32px}.tabs:not(.vertical) .tab-item.full-width{flex:1}.tabs:not(.vertical).full-width-enabled .scroll-button{display:none}.tabs:not(.vertical).full-width-enabled .tabs-list{flex:1}.tabs:not(.vertical).full-width-enabled .tabs-list.scrollable{overflow-x:visible}.tab-item{display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;cursor:pointer;position:relative;white-space:nowrap;flex-shrink:0;max-width:50%;overflow:hidden;text-overflow:ellipsis}@media (max-width: 768px){.tab-item{font-size:0.875rem;padding:8px 8px}}.tab-item.icon__right{flex-direction:row-reverse;justify-content:flex-end}.tab-item:hover{color:#0A8276}.tab-item:active,.tab-item.active{color:#0A8276}.tab-item:focus,.tab-item.focus{outline:2px solid #0A8276;outline-offset:-2px;border-radius:2px}.tab-item:focus+.active-border,.tab-item.focus+.active-border{display:none}.tab-item.disabled{color:#BFBBBB;pointer-events:none}.tabs.vertical .tab-item{border-right:2px solid transparent;min-width:7em}.tabs.vertical .active-border{left:0;top:0;width:2px;background-color:#0A8276}.tab-content{padding-top:24px;padding-left:0px;flex-grow:1}.tabs.small .tab-item{font-size:0.875rem}`;const d=t(class t extends i{constructor(t){super();if(t!==false){this.__registerHost()}this.__attachShadow();this.ifxChange=e(this,"ifxChange",7)}get el(){return this}orientation="horizontal";activeTabIndex=0;fullWidth=false;internalOrientation;internalActiveTabIndex=0;tabObjects=[];canScrollLeft=false;canScrollRight=false;internalFocusedTabIndex=0;tabRefs=[];tabHeaderRefs=[];tabsListElement;tabFocusHandlers=new Map;ifxChange;updateBorderOnWindowResize(){this.updateBorderAndFocus();this.updateScrollButtons()}setActiveAndFocusedTab(t){if(t>=this.tabObjects.length){t=this.tabObjects.length-1}if(t<0){t=0}if(!this.tabObjects[t]?.disabled){this.internalActiveTabIndex=t;this.internalFocusedTabIndex=t;setTimeout((()=>this.scrollTabIntoView(t)),0)}}handleTabHeaderChange(t){const i=t.target.getAttribute("slot").replace("tab-","");this.tabObjects[i].header=t.detail;this.tabObjects=[...this.tabObjects]}activeTabIndexChanged(t,i){if(t!==i){this.setActiveAndFocusedTab(t)}}componentWillLoad(){this.internalOrientation=this.orientation.toLowerCase()==="vertical"?"vertical":"horizontal";this.onSlotChange();this.setActiveAndFocusedTab(this.activeTabIndex);this.updateTabStyles()}updateTabStyles(){this.tabHeaderRefs.forEach(((t,i)=>{t.classList.toggle("active",i===this.internalActiveTabIndex);t.setAttribute("aria-selected",i===this.internalActiveTabIndex?"true":"false")}))}reRenderBorder(){const t=this.el.shadowRoot.querySelector(".active-border");if(t&&this.tabHeaderRefs[this.internalActiveTabIndex]){if(this.orientation==="horizontal"){t.style.left=`${this.tabHeaderRefs[this.internalActiveTabIndex].offsetLeft}px`;t.style.width=`${this.tabHeaderRefs[this.internalActiveTabIndex].offsetWidth}px`;t.style.top="";t.style.height=""}else{t.style.top=`${this.tabHeaderRefs[this.internalActiveTabIndex].offsetTop}px`;t.style.height=`${this.tabHeaderRefs[this.internalActiveTabIndex].offsetHeight}px`;t.style.left="";t.style.width=""}}}onSlotChange(){const t=this.el.querySelectorAll("ifx-tab");this.tabObjects=Array.from(t).map((t=>({header:t?.header,disabled:t?.disabled===true,icon:t?.icon,iconPosition:t?.iconPosition})));this.tabRefs=Array.from(t);this.tabRefs.forEach(((t,i)=>{t.setAttribute("slot",`tab-${i}`)}));setTimeout((()=>{this.setupTabFocusListeners();this.updateScrollButtons()}),0)}async componentDidLoad(){if(!o(this.el)){const t=n();l("ifx-tabs",await t)}this.updateBorderAndFocus();this.updateScrollButtons();this.setupTabFocusListeners()}setupTabFocusListeners(){this.tabFocusHandlers.clear();this.tabHeaderRefs.forEach(((t,i)=>{const e=()=>{this.internalFocusedTabIndex=i};this.tabFocusHandlers.set(t,e);t.addEventListener("focus",e)}))}disconnectedCallback(){this.tabFocusHandlers.forEach(((t,i)=>{i.removeEventListener("focus",t)}));this.tabFocusHandlers.clear()}componentDidUpdate(){this.updateBorderAndFocus();this.updateScrollButtons()}updateBorderAndFocus(){this.reRenderBorder();this.updateTabFocusability()}updateTabFocusability(){this.tabHeaderRefs.forEach(((t,i)=>{t.tabIndex=i===this.internalActiveTabIndex?0:-1}))}focusNextTab(){let t=this.internalFocusedTabIndex+1;while(t<this.tabHeaderRefs.length&&this.tabObjects[t].disabled){t++}if(t>=0&&t<this.tabHeaderRefs.length){this.internalFocusedTabIndex=t;this.tabHeaderRefs[t].focus()}}focusPreviousTab(){let t=this.internalFocusedTabIndex-1;while(t>=0&&this.tabObjects[t].disabled){t--}if(t>=0&&t<this.tabHeaderRefs.length){this.internalFocusedTabIndex=t;this.tabHeaderRefs[t].focus()}}getTabItemClass(t){const i=t===this.internalActiveTabIndex&&!this.tabObjects[t].disabled;const e=this.tabObjects[t].disabled;const s=this.tabObjects[t].iconPosition;return`tab-item ${this.fullWidth?"full-width":""} ${i?"active":""} ${e?"disabled":""} ${"icon__"+s}`}handleClick(t,i){if(!t.disabled){const t=this.internalActiveTabIndex;this.internalActiveTabIndex=i;this.ifxChange.emit({previousTab:t,currentTab:i});setTimeout((()=>this.scrollTabIntoView(i)),0)}}handleKeyDown(t){if(t.key==="Tab"){if(t.shiftKey){if(this.internalFocusedTabIndex===0){return}else{t.preventDefault();this.focusPreviousTab()}}else{if(this.internalFocusedTabIndex===this.tabHeaderRefs.length-1){return}else{t.preventDefault();this.focusNextTab()}}}else if(t.key==="Enter"){const i=t.composedPath();const e=i.some((t=>this.tabHeaderRefs.includes(t)));if(!e){return}if(this.internalFocusedTabIndex!==-1&&!this.tabObjects[this.internalFocusedTabIndex].disabled){const t=this.internalActiveTabIndex;this.internalActiveTabIndex=this.internalFocusedTabIndex;this.ifxChange.emit({previousTab:t,currentTab:this.internalFocusedTabIndex});setTimeout((()=>this.scrollTabIntoView(this.internalFocusedTabIndex)),0)}}}updateScrollButtons(){if(this.shouldDisableScrolling()){this.canScrollLeft=false;this.canScrollRight=false;return}const{scrollLeft:t,scrollWidth:i,clientWidth:e}=this.tabsListElement;this.canScrollLeft=t>0;this.canScrollRight=t<i-e}shouldDisableScrolling(){return!this.tabsListElement||this.internalOrientation==="vertical"||this.fullWidth}scrollLeft(){if(!this.canScrollLeft||!this.tabsListElement)return;const t=Math.min(200,this.tabsListElement.scrollLeft);this.tabsListElement.scrollBy({left:-t,behavior:"smooth"})}scrollRight(){if(!this.canScrollRight||!this.tabsListElement)return;const t=this.tabsListElement.scrollWidth-this.tabsListElement.clientWidth;const i=this.tabsListElement.scrollLeft;const e=Math.min(200,t-i);this.tabsListElement.scrollBy({left:e,behavior:"smooth"})}onTabsListScroll(){this.updateScrollButtons()}scrollTabIntoView(t){if(this.shouldDisableScrolling()||!this.tabHeaderRefs[t]){return}const i=this.tabHeaderRefs[t];const e=this.tabsListElement;const s=this.getTabCenterInfo(i);const a=this.getContainerCenterInfo(e);if(Math.abs(s.center-a.center)>50){const t=this.calculateCenteredScrollPosition(s,a);e.scrollTo({left:t,behavior:"smooth"})}}getTabCenterInfo(t){const i=t.offsetLeft;const e=t.offsetWidth;return{left:i,width:e,center:i+e/2}}getContainerCenterInfo(t){const i=t.scrollLeft;const e=t.clientWidth;return{scrollLeft:i,width:e,center:i+e/2}}calculateCenteredScrollPosition(t,i){const e=t.center-i.width/2;const s=this.tabsListElement.scrollWidth-i.width;return Math.max(0,Math.min(e,s))}render(){return s("div",{key:"c83e230d8b775b619cc3bb5ff5c64946d023ede4","aria-label":"navigation tabs",class:`tabs ${this.internalOrientation} ${this.fullWidth?"full-width-enabled":""}`},this.internalOrientation==="horizontal"?s("div",{class:"tabs-container"},s("ifx-icon-button",{shape:"round",variant:"tertiary",icon:"chevronLeft16",size:"s",disabled:false,"aria-label":"Scroll tabs left",onClick:()=>this.scrollLeft(),class:`scroll-button scroll-left ${!this.canScrollLeft?"hidden":""}`}),s("ul",{role:"tablist",class:"tabs-list scrollable",ref:t=>this.tabsListElement=t,onScroll:()=>this.onTabsListScroll()},this.tabObjects?.map(((t,i)=>s("li",{class:this.getTabItemClass(i),ref:t=>this.tabHeaderRefs[i]=t,onMouseDown:t=>t.preventDefault(),onClick:()=>this.handleClick(t,i),"aria-selected":i===this.internalActiveTabIndex?"true":"false","aria-disabled":t.disabled?"true":"false",role:"tab"},t?.icon?s("ifx-icon",{icon:t.icon}):"",t?.header))),s("div",{class:"active-border"})),s("ifx-icon-button",{shape:"round",variant:"tertiary",icon:"chevronRight16",size:"s",disabled:false,"aria-label":"Scroll tabs right",onClick:()=>this.scrollRight(),class:`scroll-button scroll-right ${!this.canScrollRight?"hidden":""}`})):s("ul",{role:"tablist",class:"tabs-list"},this.tabObjects?.map(((t,i)=>s("li",{class:this.getTabItemClass(i),ref:t=>this.tabHeaderRefs[i]=t,onMouseDown:t=>t.preventDefault(),onClick:()=>this.handleClick(t,i),"aria-selected":i===this.internalActiveTabIndex?"true":"false","aria-disabled":t.disabled?"true":"false",role:"tab"},t?.icon?s("ifx-icon",{icon:t.icon}):"",t?.header))),s("div",{class:"active-border"})),s("div",{key:"fee72b044a7dcb5e7a3bfb1b7fdbfb1c0500b780",class:"tab-content"},Array.from(this.tabObjects).map(((t,i)=>s("div",{style:{display:i===this.internalActiveTabIndex?"block":"none"}},s("slot",{name:`tab-${i}`}))))))}static get watchers(){return{activeTabIndex:[{activeTabIndexChanged:0}]}}static get style(){return c()}},[769,"ifx-tabs",{orientation:[1],activeTabIndex:[1026,"active-tab-index"],fullWidth:[4,"full-width"],internalOrientation:[32],internalActiveTabIndex:[32],tabObjects:[32],canScrollLeft:[32],canScrollRight:[32]},[[9,"resize","updateBorderOnWindowResize"],[0,"tabHeaderChange","handleTabHeaderChange"],[0,"slotchange","onSlotChange"],[0,"keydown","handleKeyDown"]],{activeTabIndex:[{activeTabIndexChanged:0}]}]);function b(){if(typeof customElements==="undefined"){return}const t=["ifx-tabs","ifx-icon","ifx-icon-button"];t.forEach((t=>{switch(t){case"ifx-tabs":if(!customElements.get(a(t))){customElements.define(a(t),d)}break;case"ifx-icon":if(!customElements.get(a(t))){r()}break;case"ifx-icon-button":if(!customElements.get(a(t))){h()}break}}))}const f=d;const u=b;export{f as IfxTabs,u as defineCustomElement};
//# sourceMappingURL=ifx-tabs.js.map