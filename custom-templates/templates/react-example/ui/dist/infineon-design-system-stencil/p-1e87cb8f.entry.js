import{r as i,c as e,a as t,h as s}from"./p-CA_siwAQ.js";import{i as l}from"./p-CtINY9El.js";import{d as a,t as o}from"./p-DNHOWgWh.js";const r=()=>`:host{font-family:var(--ifx-font-family, sans-serif)}.file-upload-wrapper{display:flex;flex-direction:column}.file-upload-wrapper.disabled{pointer-events:none}.file-upload-wrapper.disabled label,.file-upload-wrapper.disabled .file-upload-info{color:#575352}.file-upload-label{font-style:normal;font-weight:400;font-size:1rem;line-height:1.5rem;color:#1D1D1D}.file-upload-label .required{display:inline-block;margin-left:4px}.file-upload-label .required.error{color:#CD002F}.upload-dropzone{border:1px dashed #BFBBBB;padding:40px;text-align:center;cursor:pointer;color:#1D1D1D;transition:border-color 0.3s ease;border-radius:1px;background:#FFFFFF}.upload-dropzone ifx-icon{color:#0A8276}.upload-dropzone:hover{border:1px dashed #8D8786}.upload-dropzone.drag-over{border:1px solid #0A8276;background:#F7F7F7}.upload-dropzone.drag-over.error{border:1px solid #0A8276}.upload-dropzone.error{border-color:#CD002F}.disabled .upload-dropzone{pointer-events:none;border-color:#BFBBBB;color:#BFBBBB}.disabled .upload-dropzone ifx-icon{color:#BFBBBB}.upload-dropzone input{display:none}.file-upload-info{font-style:normal;font-weight:400;font-size:0.75rem;line-height:1rem;letter-spacing:0em;color:#1D1D1D;margin:0;margin-top:4px}.file-upload-status{font-style:normal;font-weight:400;font-size:0.75rem;line-height:1rem;letter-spacing:0.2px;margin-top:8px}.file-upload-status.file-upload-status__error{display:flex;align-items:center;color:#CD002F}.file-upload-status.file-upload-status__error ifx-icon{position:relative;top:-1px;color:#CD002F;margin-right:8px}.upload-heading{font:600 1.125rem/1.625rem "Source Sans 3";margin-bottom:8px}.file-list-wrapper{margin-top:16px}.file-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:16px}.file-item{border:1px solid #BFBBBB;padding-top:12px;padding-right:16px;padding-bottom:8px;padding-left:16px;display:flex;gap:8px}.file-info{width:100%;min-width:0}.file-top-row{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-top:-8px}.file-top-row ifx-icon{flex-shrink:0}.file-name-wrapper{display:flex;min-width:0;max-width:100%;white-space:nowrap;overflow:hidden;font-weight:400;font-size:0.875rem}.file-name-base{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:1;min-width:0}.file-name-ext{flex-shrink:0;margin-left:0}.file-middle-row{display:flex;align-items:center;font-size:0.75rem;line-height:1rem;flex-wrap:wrap;color:#575352}.file-middle-row .file-status{margin-left:12px}.file-middle-row .file-status ifx-icon{margin-right:8px}.file-progress-row{margin-top:4px}.file-progress-row ifx-progress-bar{width:100%}.upload-success{border-color:#0A8276}.upload-success .file-status ifx-icon{position:relative;top:1px;color:#4CA460}.upload-failed{border-color:#CD002F}.upload-failed .file-status{color:#CD002F;margin-left:0}`;const n=class{constructor(t){i(this,t);this.ifxFileUploadAdd=e(this,"ifxFileUploadAdd",7);this.ifxFileUploadRemove=e(this,"ifxFileUploadRemove",7);this.ifxFileUploadChange=e(this,"ifxFileUploadChange",7);this.ifxFileUploadError=e(this,"ifxFileUploadError",7);this.ifxFileUploadInvalid=e(this,"ifxFileUploadInvalid",7);this.ifxFileUploadStart=e(this,"ifxFileUploadStart",7);this.ifxFileUploadComplete=e(this,"ifxFileUploadComplete",7);this.ifxFileUploadAllComplete=e(this,"ifxFileUploadAllComplete",7);this.ifxFileUploadAbort=e(this,"ifxFileUploadAbort",7);this.ifxFileUploadDrop=e(this,"ifxFileUploadDrop",7);this.ifxFileUploadClick=e(this,"ifxFileUploadClick",7);this.ifxFileUploadMaxFilesExceeded=e(this,"ifxFileUploadMaxFilesExceeded",7);this.ifxFileUploadValidation=e(this,"ifxFileUploadValidation",7);this.ifxFileUploadRetry=e(this,"ifxFileUploadRetry",7)}get hostElement(){return t(this)}dragAndDrop=false;required=false;disabled=false;maxFileSizeMB=7;allowedFileTypes=undefined;additionalAllowedFileTypes=[];allowAnyFileType=false;allowedFileExtensions=[];uploadHandler;_maxFiles;get maxFiles(){return this._maxFiles}set maxFiles(i){if(typeof i==="number"&&i<1){console.warn("Invalid `maxFiles` value. Must be >= 1. Value ignored.");this._maxFiles=undefined}else{this._maxFiles=i}}label="Label";labelRequiredError="At least one file must be uploaded";labelBrowseFiles="Browse files";labelDragAndDrop="Drag & Drop or browse files to upload";labelUploadedFilesHeading="Uploaded files";labelFileTooLarge="Upload failed. Max file size: {{size}}MB.";labelUnsupportedFileType="Unsupported file type.";labelUploaded="Successfully uploaded";labelUploadFailed="Upload failed. Please try again.";labelSupportedFormatsTemplate="Supported file formats: {{types}}. Max file size: {{size}}MB.";labelFileSingular="file";labelFilePlural="files";labelMaxFilesInfo="Up to {{count}} {{files}}.";labelMaxFilesExceeded="Upload limit exceeded. Only {{count}} {{files}} allowed.";ariaLabelBrowseFiles="Browse files";ariaLabelDropzone="Upload area. Click to browse or drag and drop files.";ariaLabelFileInput="Upload file";ariaLabelRemoveFile="Remove file";ariaLabelCancelUpload="Cancel upload";ariaLabelRetryUpload="Retry upload";ariaLabelUploadingStatus="Upload in progress";ariaLabelUploadedStatus="Upload completed";ariaLabelUploadFailedStatus="Upload failed";showDemoStates;internalId=`ifx-file-upload-${Math.random().toString(36).substr(2,9)}`;isDragOver=false;files=[];uploadTasks=[];rejectedSizeFiles=[];rejectedTypeFiles=[];requiredError=false;statusMessage=null;ifxFileUploadAdd;ifxFileUploadRemove;ifxFileUploadChange;ifxFileUploadError;ifxFileUploadInvalid;ifxFileUploadStart;ifxFileUploadComplete;ifxFileUploadAllComplete;ifxFileUploadAbort;ifxFileUploadDrop;ifxFileUploadClick;ifxFileUploadMaxFilesExceeded;ifxFileUploadValidation;ifxFileUploadRetry;fileInputEl=null;extensionToMimeMap={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",webp:"image/webp",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",txt:"text/plain",csv:"text/csv",json:"application/json",mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm",zip:"application/zip",rar:"application/vnd.rar",tar:"application/x-tar",gz:"application/gzip",xml:"application/xml",html:"text/html",css:"text/css",js:"application/javascript"};validateRequired(){if(this.required&&this.files.length===0){this.requiredError=true;if(this.statusMessage?.text!==this.labelRequiredError){this.statusMessage={type:"error",text:this.labelRequiredError}}this.ifxFileUploadValidation.emit({valid:false})}else{this.requiredError=false;if(this.statusMessage?.text===this.labelRequiredError){this.statusMessage=null}this.ifxFileUploadValidation.emit({valid:true})}}pluralize(i){if(this.allowAnyFileType){return i===1?"file":"files"}return i===1?this.labelFileSingular:this.labelFilePlural}getNormalizedFileTypes(){if(!this.allowedFileTypes&&this.allowedFileExtensions&&this.getNormalizedFileExtensions().length>0){return[]}if(!this.allowedFileTypes){return["jpg","jpeg","png","pdf","mov","mp3","mp4"]}if(Array.isArray(this.allowedFileTypes)){return this.allowedFileTypes}try{return JSON.parse(this.allowedFileTypes)}catch{return this.allowedFileTypes.split(",").map((i=>i.trim()))}}getNormalizedFileExtensions(){if(!this.allowedFileExtensions)return[];if(Array.isArray(this.allowedFileExtensions)){return this.allowedFileExtensions}try{return JSON.parse(this.allowedFileExtensions)}catch{return this.allowedFileExtensions.split(",").map((i=>i.trim()))}}isFileTypeAllowed(i){if(this.allowAnyFileType){return true}const e=this.getFileExtension(i.name);const t=this.getNormalizedFileTypes();const s=t.map((i=>this.extensionToMimeMap[i.toLowerCase()])).filter(Boolean);if(s.includes(i.type)){return true}const l=this.getAdditionalMimeTypes();if(l.includes(i.type)){return true}const a=this.getNormalizedFileExtensions();if(a.length>0&&e){for(const i of a){const t=i.startsWith(".")?i.substring(1).toLowerCase():i.toLowerCase();if(e===t){return true}}}return false}getFileExtension(i){const e=i.lastIndexOf(".");if(e===-1||e===i.length-1){return null}return i.substring(e+1).toLowerCase()}getLabelFromMimeType(i){for(const[e,t]of Object.entries(this.extensionToMimeMap)){if(t===i){return e.toUpperCase()}}return i}handleFileChange(i){const e=i.target;if(!e.files)return;this.processFiles(e.files)}handleDrop(i){if(this.disabled)return;i.preventDefault();i.stopPropagation();this.isDragOver=false;if(i.dataTransfer?.files){const e=Array.from(i.dataTransfer.files);const t=[];const s=[];e.forEach((i=>{const e=this.isFileTypeAllowed(i);const l=i.size<=this.maxFileSizeMB*1024*1024;if(e&&l)t.push(i);else s.push(i)}));this.ifxFileUploadDrop.emit({droppedFiles:e,acceptedFiles:t,rejectedFiles:s});this.processFiles(i.dataTransfer.files)}}handleDragOver(i){if(this.disabled)return;i.preventDefault();this.isDragOver=true}handleDragLeave(i){if(this.disabled)return;i.preventDefault();this.isDragOver=false}processFiles(i){const e=Array.from(i);const t=[];const s=[];const l=[];e.forEach((i=>{const e=this.isFileTypeAllowed(i);const a=i.size<=this.maxFileSizeMB*1024*1024;const o=this.files.some((e=>e.name===i.name&&e.size===i.size));if(o){this.ifxFileUploadInvalid.emit({file:i,reason:"duplicate"});this.ifxFileUploadError.emit({file:i,errorType:"duplicate",message:`File "${i.name}" is already added`,reason:"duplicate"});return}if(e&&a){t.push(i)}else{if(!e){l.push(i.name);this.ifxFileUploadInvalid.emit({file:i,reason:"invalid-type"})}if(!a){s.push(i.name);this.ifxFileUploadInvalid.emit({file:i,reason:"invalid-size"})}this.ifxFileUploadError.emit({file:i,errorType:!e?"invalid-type":"file-too-large",message:"Invalid file rejected",reason:!e?"unsupported-type":"file-too-large"})}}));this.rejectedSizeFiles=[...this.rejectedSizeFiles,...s];this.rejectedTypeFiles=[...this.rejectedTypeFiles,...l];if(this.maxFiles&&this.files.length+t.length>this.maxFiles){const i=this.maxFiles-this.files.length;const e=t.slice(0,Math.max(i,0));const s=t.slice(i);this.files=[...this.files,...e];e.forEach((i=>this.startUpload(i)));if(e.length>0){this.ifxFileUploadAdd.emit({addedFiles:e,files:this.files});this.ifxFileUploadChange.emit({files:this.files})}s.forEach((i=>{this.ifxFileUploadInvalid.emit({file:i,reason:"too-many-files"});this.ifxFileUploadError.emit({file:i,errorType:"too-many-files",message:`Upload limit exceeded. Max ${this.maxFiles} files allowed.`,reason:"too-many-files"})}));if(s.length>0){this.statusMessage={type:"error",text:this.labelMaxFilesExceeded.replace("{{count}}",this.maxFiles.toString()).replace("{{files}}",this.pluralize(this.maxFiles))};this.ifxFileUploadMaxFilesExceeded.emit({maxFiles:this.maxFiles,attempted:this.files.length+t.length})}return}t.forEach((i=>this.startUpload(i)));this.files=[...this.files,...t];if(t.length>0){this.ifxFileUploadAdd.emit({addedFiles:t,files:this.files});this.ifxFileUploadChange.emit({files:this.files})}this.validateRequired()}retryUpload(i){const e=this.uploadTasks.findIndex((e=>e.file.name===i.name));if(e!==-1){this.uploadTasks.splice(e,1);this.uploadTasks=[...this.uploadTasks]}this.ifxFileUploadRetry.emit({file:i});this.startUpload(i)}checkAndEmitAllComplete(){if(this.uploadTasks.every((i=>i.completed||i.error))){const i=this.uploadTasks.some((i=>i.completed&&!i.error));if(i){const i=this.uploadTasks.filter((i=>i.completed&&!i.error)).map((i=>i.file));this.ifxFileUploadAllComplete.emit({files:i})}}}resetFileInput(){if(this.fileInputEl){this.fileInputEl.value=""}}updateTaskProgress(i,e){const t=this.uploadTasks.find((e=>e.file===i));if(t){const i=Math.max(t.progress,Math.min(100,e));if(i!==t.progress){t.progress=i;this.uploadTasks=[...this.uploadTasks]}}}startUpload(i){this.ifxFileUploadStart.emit({file:i});const e={file:i,progress:3,intervalId:null,completed:false};this.uploadTasks=[...this.uploadTasks,e];if(this.uploadHandler){this.uploadHandler(i,(e=>{this.updateTaskProgress(i,e)})).then((()=>{e.progress=100;e.completed=true;this.uploadTasks=[...this.uploadTasks];this.ifxFileUploadComplete.emit({file:i});this.ifxFileUploadChange.emit({files:this.files});this.checkAndEmitAllComplete()})).catch((()=>{e.error=true;this.uploadTasks=[...this.uploadTasks];this.ifxFileUploadError.emit({file:i,errorType:"upload-failed",message:"Upload handler rejected file",reason:"custom"});this.checkAndEmitAllComplete()}))}else{const t=i.size;const s=1e5;let l=0;e.intervalId=window.setInterval((()=>{l+=s/5;const a=Math.min(100,Math.round(l/t*100));this.updateTaskProgress(i,a);if(a>=100){clearInterval(e.intervalId);e.completed=true;e.intervalId=null;this.uploadTasks=[...this.uploadTasks];this.ifxFileUploadComplete.emit({file:i});this.ifxFileUploadChange.emit({files:this.files});this.checkAndEmitAllComplete()}}),200)}}cancelUpload(i){const e=this.uploadTasks.findIndex((e=>e.file.name===i.name));if(e!==-1){const i=this.uploadTasks[e];if(i?.intervalId!==null){clearInterval(i.intervalId)}this.uploadTasks=this.uploadTasks.filter(((i,t)=>t!==e))}this.files=this.files.filter((e=>e.name!==i.name));this.ifxFileUploadAbort.emit({file:i});this.ifxFileUploadChange.emit({files:this.files});this.resetFileInput();this.validateRequired()}removeFile(i){this.uploadTasks=this.uploadTasks.filter((e=>e.file.name!==i.name));this.files=this.files.filter((e=>e.name!==i.name));this.ifxFileUploadRemove.emit({removedFile:i,files:this.files});this.ifxFileUploadChange.emit({files:this.files});this.validateRequired();this.resetFileInput();if(this.maxFiles&&this.files.length<this.maxFiles&&this.statusMessage?.text!==this.labelRequiredError){this.statusMessage=null}}clearRejectedFile(i,e){if(e==="size"){this.rejectedSizeFiles=this.rejectedSizeFiles.filter((e=>e!==i))}else{this.rejectedTypeFiles=this.rejectedTypeFiles.filter((e=>e!==i))}this.resetFileInput();if(this.maxFiles&&this.files.length<this.maxFiles){this.statusMessage=null}this.validateRequired()}splitFileNameParts(i){const e=i.name;const t=e.lastIndexOf(".");if(t===-1)return{base:e,ext:""};return{base:e.substring(0,t),ext:e.substring(t)}}getFileIcon(i){const e=i.name.split(".").pop()?.toLowerCase();switch(e){case"pdf":return"file-pdf-16";case"jpg":case"jpeg":return"file-jpg-16";case"png":return"file-png-16";case"mov":return"file-mov-16";case"mp3":return"file-mp3-16";case"mp4":return"file-mp4-16";default:return"file-16"}}formatSize(i){if(i>=1024*1024*1024){return`${(i/(1024*1024*1024)).toFixed(1)} GB`}else if(i>=1024*1024){return`${(i/(1024*1024)).toFixed(1)} MB`}else if(i>=1024){return`${(i/1024).toFixed(0)} KB`}else{return`${i} B`}}getAcceptAttribute(){if(this.allowAnyFileType){return""}const i=[];const e=this.getNormalizedFileTypes().map((i=>"."+i.toLowerCase()));i.push(...e);const t=this.getAdditionalMimeTypes();i.push(...t);const s=this.getNormalizedFileExtensions();s.forEach((e=>{const t=e.startsWith(".")?e:"."+e;i.push(t)}));return i.join(",")}getFormattedProgressText(i){const e=Math.round(i.progress/100*i.file.size);const t=this.formatSize(e);const s=this.formatSize(i.file.size);return`${t} / ${s} uploaded`}getAdditionalMimeTypes(){if(!this.additionalAllowedFileTypes)return[];if(Array.isArray(this.additionalAllowedFileTypes))return this.additionalAllowedFileTypes;return this.additionalAllowedFileTypes.split(",").map((i=>i.trim()))}getSupportedFileText(){if(this.allowAnyFileType){let i=`All file types allowed. Max file size: ${this.maxFileSizeMB}MB.`;if(this.labelMaxFilesInfo&&this.maxFiles){const e=this.pluralize(this.maxFiles);const t=this.labelMaxFilesInfo.replace("{{count}}",this.maxFiles.toString()).replace("{{files}}",e);i+=` ${t}`}return i}const i=[];const e=this.getNormalizedFileTypes().map((i=>i.toUpperCase()));i.push(...e);const t=this.getAdditionalMimeTypes().map((i=>this.getLabelFromMimeType(i)));i.push(...t);const s=this.getNormalizedFileExtensions().map((i=>{const e=i.startsWith(".")?i.substring(1):i;return e.toUpperCase()}));i.push(...s);const l=i.join(", ");let a=this.labelSupportedFormatsTemplate.replace("{{types}}",l).replace("{{size}}",this.maxFileSizeMB.toString());if(this.labelMaxFilesInfo&&this.maxFiles){const i=this.pluralize(this.maxFiles);const e=this.labelMaxFilesInfo.replace("{{count}}",this.maxFiles.toString()).replace("{{files}}",i);a+=` ${e}`}return a}getFormattedFileTooLargeText(){return this.labelFileTooLarge.replace("{{size}}",this.maxFileSizeMB.toString())}renderStatusMessage(){if(!this.statusMessage)return null;return s("div",{class:`file-upload-status file-upload-status__${this.statusMessage.type}`},this.statusMessage.type==="error"&&s("ifx-icon",{icon:"c-warning-16"}),this.statusMessage.text)}isInputDisabled(){return this.disabled||this.maxFiles!==undefined&&this.files.length>=this.maxFiles}async componentDidLoad(){if(!l(this.hostElement)){const i=a();o("ifx-file-upload",await i)}if(this.hostElement.hasAttribute("show-demo-states")){this.showDemoStates=true}if(this.showDemoStates){this.injectDemoState()}}async injectDemoState(){const i=new Array(5e4).fill("a").join("");const e=i+i;const t=new File([i],"Image.jpg",{type:"image/jpeg"});const s=new File([e],"File.pdf",{type:"application/pdf"});const l=new File([i],"Text.docx",{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});const a=new File([e+e+e],"Video.mp4",{type:"video/mp4"});const o=new File(["demo"],"Script.exe",{type:"application/x-msdownload"});this.files=[s,t,l];this.uploadTasks=[{file:s,progress:100,intervalId:null,completed:true},{file:t,progress:40,intervalId:null,completed:false},{file:l,progress:80,intervalId:null,completed:false,error:true}];this.rejectedSizeFiles=[a.name];this.rejectedTypeFiles=[o.name]}async triggerDemoValidation(){this.validateRequired()}render(){return s("div",{key:"9c23e69f2ec0002f2d9d429df59fc743b6aa2dc1",class:{"file-upload-wrapper":true,disabled:this.disabled}},this.label&&s("label",{key:"dd4f38d516addce647f8ce86d5f16a86290088f5",class:"file-upload-label",htmlFor:this.internalId},this.label,this.required&&s("span",{key:"1da1cb725dd48192df18ca48fb3fcb8b9746ffaf",class:`required ${this.requiredError?"error":""}`},"*")),this.dragAndDrop?this.renderDragAndDropArea():this.renderUploadArea(),(this.files.length>0||this.rejectedSizeFiles.length>0||this.rejectedTypeFiles.length>0)&&s("div",{key:"331a1d4c12b79325a6010b17dd0bd68373b4c41a",class:"file-list-wrapper"},s("div",{key:"4042470b114d6ea0a9cf772c15296e534d1f97aa",class:"upload-heading"},this.labelUploadedFilesHeading),s("ul",{key:"29dc9aa28e56520199cbf6abfb0d041042654bf9",class:"file-list"},this.rejectedSizeFiles.map((i=>s("li",{class:"file-item upload-failed",key:`rejected-size-${i}`},s("div",{class:"file-icon"},s("ifx-icon",{icon:"file-16"})),s("div",{class:"file-info"},s("div",{class:"file-top-row"},s("span",{class:"file-name-wrapper"},s("span",{class:"file-name-base"},this.splitFileNameParts({name:i}).base),s("span",{class:"file-name-ext"},this.splitFileNameParts({name:i}).ext)),s("div",{class:"file-actions"},s("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"delete-forever-16",size:"s","aria-label":this.ariaLabelRemoveFile,onClick:()=>this.clearRejectedFile(i,"size")}))),s("div",{class:"file-middle-row"},s("span",{class:"file-status","aria-label":this.labelFileTooLarge.replace("{{size}}",this.maxFileSizeMB.toString())},this.getFormattedFileTooLargeText())))))),this.rejectedTypeFiles.map((i=>s("li",{class:"file-item upload-failed",key:`rejected-type-${i}`},s("div",{class:"file-icon"},s("ifx-icon",{icon:"file-16"})),s("div",{class:"file-info"},s("div",{class:"file-top-row"},s("span",{class:"file-name-wrapper"},s("span",{class:"file-name-base"},this.splitFileNameParts({name:i}).base),s("span",{class:"file-name-ext"},this.splitFileNameParts({name:i}).ext)),s("div",{class:"file-actions"},s("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"delete-forever-16",size:"s","aria-label":this.ariaLabelRemoveFile,onClick:()=>this.clearRejectedFile(i,"type")}))),s("div",{class:"file-middle-row"},s("span",{class:"file-status","aria-label":this.labelUnsupportedFileType},this.labelUnsupportedFileType)))))),this.files.map((i=>{const e=this.uploadTasks.find((e=>e.file.name===i.name));const t=e?.progress??100;const l=e&&!e.completed;const a=e?.error===true;const o=a?"file-item upload-failed":l?"file-item uploading":"file-item upload-success";const r=`${i.name}-${i.size}`;const{base:n,ext:d}=this.splitFileNameParts(i);return s("li",{class:o,key:r},s("div",{class:"file-icon"},s("ifx-icon",{icon:this.getFileIcon(i)})),s("div",{class:"file-info"},s("div",{class:"file-top-row"},s("span",{class:"file-name-wrapper"},s("span",{class:"file-name-base"},n),s("span",{class:"file-name-ext"},d)),s("div",{class:"file-actions"},s("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"refresh-16",size:"s","aria-label":this.ariaLabelRetryUpload,onClick:()=>this.retryUpload(i),style:{display:a?"inline-flex":"none"}}),s("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"cross-16",size:"s","aria-label":this.ariaLabelCancelUpload,onClick:()=>this.cancelUpload(i),style:{display:l?"inline-flex":"none"}}),s("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"delete-forever-16",size:"s","aria-label":this.ariaLabelRemoveFile,onClick:()=>this.removeFile(i),style:{display:!l?"inline-flex":"none"}}))),s("div",{class:"file-middle-row"},l&&e&&!e.error&&s("span",{class:"file-uploading","aria-label":this.ariaLabelUploadingStatus},this.getFormattedProgressText(e)),!l&&!a&&s("span",null,s("span",{class:"file-size"},this.formatSize(i.size)),s("span",{class:"file-status","aria-label":this.ariaLabelUploadedStatus},s("ifx-icon",{icon:"check-16"}),this.labelUploaded)),a&&s("span",{class:"file-status","aria-label":this.ariaLabelUploadFailedStatus},this.labelUploadFailed)),l&&e&&!e.error&&s("div",{class:"file-progress-row"},s("ifx-progress-bar",{size:"s",value:t,"show-label":"true"}))))})))))}renderUploadArea(){const i=i=>{this.fileInputEl=i};return s("div",{class:{"upload-button":true}},s("ifx-button",{variant:"secondary",onClick:()=>this.fileInputEl?.click(),disabled:this.isInputDisabled(),"aria-label":this.ariaLabelBrowseFiles},s("ifx-icon",{icon:"upload-16"}),this.labelBrowseFiles),s("input",{id:this.internalId,ref:i,type:"file",accept:this.getAcceptAttribute(),multiple:true,onChange:i=>this.handleFileChange(i),style:{display:"none"},disabled:this.isInputDisabled(),"aria-label":this.ariaLabelFileInput}),s("p",{class:"file-upload-info"},this.getSupportedFileText()),this.renderStatusMessage())}renderDragAndDropArea(){const i=i=>{this.fileInputEl=i};const e=()=>{if(this.fileInputEl){this.fileInputEl.click()}};return s("div",{class:{disabled:this.isInputDisabled()}},s("div",{class:{"upload-dropzone":true,"drag-over":this.isDragOver,error:this.requiredError},onClick:e,onDragOver:i=>this.handleDragOver(i),onDragLeave:i=>this.handleDragLeave(i),onDrop:i=>this.handleDrop(i),role:"button",tabIndex:0,"aria-label":this.ariaLabelDropzone},s("ifx-icon",{icon:"upload-16",class:"custom-icon"}),s("p",null,this.labelDragAndDrop),s("p",{class:"file-upload-info"},this.getSupportedFileText()),s("div",{style:{height:"0px",overflow:"hidden"}},s("input",{id:this.internalId,ref:i,type:"file",accept:this.getAcceptAttribute(),multiple:true,onChange:i=>this.handleFileChange(i),disabled:this.isInputDisabled(),"aria-label":this.ariaLabelFileInput}))),this.renderStatusMessage())}};n.style=r();export{n as ifx_file_upload};
//# sourceMappingURL=p-1e87cb8f.entry.js.map