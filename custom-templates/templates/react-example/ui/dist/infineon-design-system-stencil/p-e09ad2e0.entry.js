import{r as e,c as t,a as i,h as s,d as r}from"./p-CA_siwAQ.js";const n=()=>`:host{display:flex}.filter-type-group{width:260px;align-items:flex-start;gap:8px}.filter-type-group>::slotted(*){margin-bottom:8px}`;const a=class{constructor(i){e(this,i);this.ifxSidebarFilterChange=t(this,"ifxSidebarFilterChange",7)}get el(){return i(this)}selectedOptions=[];ifxSidebarFilterChange;connectedCallback(){this.el.addEventListener("ifxFilterAccordionChange",this.handleAccordionChange);this.el.addEventListener("ifxFilterSearchChange",this.handleSearchChange);window.addEventListener("ifxResetFiltersEvent",this.handleResetEvent);window.addEventListener("ifxUpdateSidebarFilter",this.handleUpdateSidebarFilter)}componentWillUnload(){this.el.removeEventListener("ifxFilterAccordionChange",this.handleAccordionChange);this.el.removeEventListener("ifxFilterSearchChange",this.handleSearchChange);window.removeEventListener("ifxResetFiltersEvent",this.handleResetEvent)}handleResetEvent=()=>{const e=this.el.shadowRoot.querySelector('slot[name="filter-accordion"]');const t=e.assignedElements({flatten:true});t.forEach((e=>{const t=e.querySelectorAll("ifx-list");t.forEach((e=>{e.resetTrigger=!e.resetTrigger}))}));const i=this.el.shadowRoot.querySelector('slot[name="filter-search"]');const s=i.assignedElements({flatten:true});s.forEach((e=>{const t=e.querySelector("ifx-filter-search");const i=t.shadowRoot.querySelectorAll("ifx-search-field");if(i.length>0){i.forEach((e=>{e.value=""}))}}));this.selectedOptions=[];this.ifxSidebarFilterChange.emit(this.selectedOptions)};handleUpdateSidebarFilter=e=>{const{filterName:t}=e.detail;const i=this.el.shadowRoot.querySelector('slot[name="filter-accordion"]');const s=i?i.assignedElements({flatten:true}):[];s.forEach((e=>{const i=e.querySelectorAll("ifx-list");i.forEach((e=>{if(e.getAttribute("name")===t){e.resetTrigger=!e.resetTrigger}}))}));const r=this.el.shadowRoot.querySelector('slot[name="filter-search"]');const n=r?r.assignedNodes({flatten:true}):[];n.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){const t=e;const i=t.firstElementChild;if(i){i.setAttribute("value","");i.dispatchEvent(new CustomEvent("ifxInput",{bubbles:true,composed:true,detail:""}))}}}));const a=this.selectedOptions.map((e=>{if(e.filterGroupName===t){return{...e,selectedItems:[],value:""}}return e}));this.selectedOptions=a;this.ifxSidebarFilterChange.emit(this.selectedOptions)};handleAccordionChange=e=>{this.handleFilterChange(e)};handleSearchChange=e=>{this.handleFilterChange(e)};handleFilterChange=e=>{const t=[...this.selectedOptions];if(e.type==="ifxFilterSearchChange"){const{filterName:i,filterValue:s}=e.detail;const r=t.findIndex((e=>typeof e!=="string"&&e.filterGroupName===i));if(r!==-1){t[r].value=s}else{t.push({filterGroupName:i,value:s})}}else if(e.type==="ifxFilterAccordionChange"){const{filterGroupName:i,selectedItems:s}=e.detail;const r=t.findIndex((e=>e.filterGroupName===i));if(r!==-1){t[r]={filterGroupName:i,selectedItems:s}}else{t.push({filterGroupName:i,selectedItems:s})}}this.selectedOptions=t;this.ifxSidebarFilterChange.emit(this.selectedOptions)};render(){return s(r,{key:"fa23a5623122875d0fb73f00e3137eb8d5b3b2d8"},s("div",{key:"26ccb7ed20d68e0a5ed26edb224700bf93502470",class:"filter-type-group"},s("slot",{key:"9e0ccf0628230109ff143c1037bca05b01e962d1",name:"filter-search"}),s("slot",{key:"e124f556423c8c255df6fbacce64a922767142dc",name:"filter-accordion"})))}};a.style=n();export{a as ifx_filter_type_group};
//# sourceMappingURL=p-e09ad2e0.entry.js.map