{"version":3,"names":["accordionCss","Accordion","autoCollapse","componentDidLoad","isNestedInIfxComponent","this","el","framework","detectFramework","trackComponent","onItemOpen","event","items","Array","from","querySelectorAll","item","itemElement","target","open","render","h","key","class","accordionItemCss","AccordionItem","caption","AriaLevel","internalOpen","ifxOpen","ifxClose","contentEl","titleEl","resizeObserver","componentWillLoad","checkSlotContent","openAccordionItem","shadowRoot","querySelector","attachResizeObserver","componentDidUpdate","openChanged","newValue","toggleOpen","emit","isOpen","isClosed","style","height","scrollHeight","overflow","getInnerContentWrapper","innerContentEl","ResizeObserver","observe","handleKeydown","ev","path","composedPath","includes","preventDefault","slot","hasContent","assignedNodes","length","innerContent","classList","add","contains","remove","role","onClick","tabindex","ref","String","icon","id"],"sources":["src/components/accordion/accordion.scss?tag=ifx-accordion&encapsulation=shadow","src/components/accordion/accordion.tsx","src/components/accordion/accordionItem.scss?tag=ifx-accordion-item&encapsulation=shadow","src/components/accordion/accordionItem.tsx"],"sourcesContent":["// ifxAccordion.scss\n@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n:host {\n  display: block;\n}\n\n.accordion-wrapper {\n  display: flex;\n  flex-direction: column;\n  gap: tokens.$ifxSpace100;\n  font-family:  var(--ifx-font-family) // tokens.$ifxFontFamilyBody;\n}","import { Component, Element, h, Listen, Prop } from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n\ttag: \"ifx-accordion\",\n\tstyleUrl: \"accordion.scss\",\n\tshadow: { delegatesFocus: true },\n})\nexport class Accordion {\n\t@Element() el: HTMLElement;\n\t@Prop() autoCollapse: boolean = false;\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-accordion\", await framework);\n\t\t}\n\t}\n\n\t@Listen(\"ifxOpen\")\n\tasync onItemOpen(event: CustomEvent) {\n\t\tif (this.autoCollapse) {\n\t\t\tconst items = Array.from(this.el.querySelectorAll(\"ifx-accordion-item\"));\n\t\t\tfor (const item of items) {\n\t\t\t\tconst itemElement = item as HTMLIfxAccordionItemElement;\n\t\t\t\tif (itemElement !== event.target && (await itemElement.open)) {\n\t\t\t\t\titemElement.open = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"accordion-wrapper\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n\n.accordion-item {\n  border-radius: 3px;\n  transition: all 0.3s;\n  font-family: var(--ifx-font-family) // tokens.$ifxFontFamilyBody;\n\n}\n\n.accordion-title:focus {\n  outline: none;\n}\n\n// workaround to add corner radius to outline\n.accordion-title:focus::after {\n  content: '';\n  display: block;\n  position: absolute;\n  top: -4px;\n  bottom: -4px;\n  left: -4px;\n  right: -4px;\n  border-radius: 5px;\n  border: 2px solid tokens.$ifxColorOcean500;\n  box-sizing: border-box;\n}\n\n.accordion-title:hover {\n  border: 1px solid tokens.$ifxColorEngineering200;\n  color: tokens.$ifxColorOcean600;\n}\n\n.accordion-title {\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: tokens.$ifxSpace150 tokens.$ifxSpace200;\n  gap: tokens.$ifxSpace150;\n  color: tokens.$ifxColorOcean500;\n  background-color: tokens.$ifxColorBaseWhite;\n  border: 1px solid tokens.$ifxColorEngineering200;\n  cursor: pointer;\n  margin: 4px;\n}\n\n.accordion-caption {\n  font-weight: tokens.$ifxFontWeightSemibold;\n  font-size: tokens.$ifxFontSizeL;\n}\n\n.accordion-content {\n  gap: tokens.$ifxSpace100;\n  overflow: hidden;\n  height: 0;\n  transition: height 0.3s ease;\n  line-height: 24px;\n  font-size: tokens.$ifxFontSizeM;\n  font-weight: 400;\n}\n\n.inner-content {\n  background-color: tokens.$ifxColorBaseWhite;\n  padding: tokens.$ifxSpace200;\n  word-wrap: break-word;\n  overflow-wrap: anywhere;\n  align-self: stretch;\n  margin: 0 4px 4px;\n  border: 1px solid transparent;\n  border-top: 1px solid transparent;\n}\n\n.accordion-icon {\n  font-weight: bold;\n  display: flex;\n  transition: transform 0.3s;\n\n  &:hover {\n    color: tokens.$ifxColorOcean600;\n\n  }\n}\n\n\n.accordion-item.open .accordion-content {\n  max-height: auto;\n}\n\n.accordion-item.open .accordion-icon {\n  transform: rotate(-180deg);\n}\n\n.accordion-item.open .inner-content {\n  border-color: tokens.$ifxColorEngineering200;\n  border-top-color: transparent;\n  transition: border-color 0s; \n}\n\n.accordion-item:not(.open) .inner-content {\n  transition: border-color 0s 0.3s; \n}\n\n.inner-content {\n  &.no-content { \n    border: none;\n    padding: 0;\n    margin: 0;\n  }\n}","//ifxAccordionItem\nimport {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\n\n@Component({\n\ttag: \"ifx-accordion-item\",\n\tstyleUrl: \"accordionItem.scss\",\n\tshadow: true,\n})\nexport class AccordionItem {\n\t@Element() el;\n\t@Prop() caption: string;\n\t@Prop({\n\t\tmutable: true,\n\t})\n\topen: boolean = false;\n\t@Prop() AriaLevel = 3;\n\t@State() internalOpen: boolean = false;\n\t@Event() ifxOpen: EventEmitter;\n\t@Event() ifxClose: EventEmitter;\n\tprivate contentEl!: HTMLElement;\n\tprivate titleEl!: HTMLElement;\n\tprivate resizeObserver!: ResizeObserver;\n\n\tcomponentWillLoad() {\n\t\tthis.internalOpen = this.open;\n\t}\n\n\tcomponentDidLoad() {\n\t\tthis.checkSlotContent();\n\t\tthis.openAccordionItem();\n\t\tthis.contentEl = this.el.shadowRoot.querySelector(\"#accordion-content\");\n\t\tif (this.contentEl) {\n\t\t\tthis.attachResizeObserver();\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.checkSlotContent();\n\t\tthis.openAccordionItem();\n\t}\n\n\t@Watch(\"open\")\n\topenChanged(newValue: boolean) {\n\t\tthis.internalOpen = newValue;\n\t}\n\n\ttoggleOpen() {\n\t\tthis.internalOpen = !this.internalOpen;\n\t\tthis.open = this.internalOpen;\n\n\t\tif (this.internalOpen) {\n\t\t\tthis.ifxOpen.emit({ isOpen: this.internalOpen });\n\t\t} else {\n\t\t\tthis.ifxClose.emit({ isClosed: !this.internalOpen });\n\t\t}\n\t}\n\n\topenAccordionItem() {\n\t\tif (this.internalOpen) {\n\t\t\tthis.contentEl.style.height = `${this.contentEl.scrollHeight}px`;\n\t\t\tthis.contentEl.style.overflow = \"hidden\";\n\t\t} else {\n\t\t\tthis.contentEl.style.height = \"0\";\n\t\t\tthis.contentEl.style.overflow = \"hidden\";\n\t\t}\n\t}\n\n\tgetInnerContentWrapper() {\n\t\tconst innerContentEl = this.el.shadowRoot.querySelector(\".inner-content\");\n\t\treturn innerContentEl;\n\t}\n\n\tattachResizeObserver() {\n\t\tconst innerContentEl = this.getInnerContentWrapper();\n\n\t\tif (innerContentEl) {\n\t\t\tthis.resizeObserver = new ResizeObserver(() => {\n\t\t\t\tif (this.internalOpen) {\n\t\t\t\t\tthis.openAccordionItem();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.resizeObserver.observe(innerContentEl);\n\t\t}\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeydown(ev: KeyboardEvent) {\n\t\tconst path = ev.composedPath();\n\n\t\tif (!path.includes(this.titleEl)) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (ev.key) {\n\t\t\tcase \"Enter\": // fallthrough\n\t\t\tcase \" \": // space\n\t\t\t\tev.preventDefault();\n\t\t\t\tthis.toggleOpen();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcheckSlotContent() {\n\t\tconst slot = this.el.shadowRoot.querySelector(\"slot\") as HTMLSlotElement;\n\t\tconst hasContent = slot.assignedNodes().length > 0;\n\t\tconst innerContent = this.getInnerContentWrapper();\n\t\tif (!hasContent) {\n\t\t\tinnerContent.classList.add(\"no-content\");\n\t\t} else if (innerContent.classList.contains(\"no-content\")) {\n\t\t\tinnerContent.classList.remove(\"no-content\");\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div class={`accordion-item ${this.internalOpen ? \"open\" : \"\"}`}>\n\t\t\t\t<div\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\taria-expanded={this.internalOpen}\n\t\t\t\t\taria-controls=\"accordion-content\"\n\t\t\t\t\tclass=\"accordion-title\"\n\t\t\t\t\tonClick={() => this.toggleOpen()}\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\tref={(el) => (this.titleEl = el as HTMLElement)}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\trole=\"heading\"\n\t\t\t\t\t\taria-level={String(this.AriaLevel) as string}\n\t\t\t\t\t\tclass=\"accordion-icon\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ifx-icon icon=\"chevron-down-16\" />\n\t\t\t\t\t</span>\n\t\t\t\t\t<span id=\"accordion-caption\" class=\"accordion-caption\">\n\t\t\t\t\t\t{this.caption}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tid=\"accordion-content\"\n\t\t\t\t\tclass=\"accordion-content\"\n\t\t\t\t\tref={(el) => (this.contentEl = el as HTMLElement)}\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\taria-labelledby=\"accordion-caption\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"inner-content\">\n\t\t\t\t\t\t<slot />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}