{"version":3,"names":["contentSwitcherCss","ContentSwitcher","items","activeIndex","hoverIndex","focusIndex","dividers","ifxChange","eventHandlers","Map","componentWillLoad","this","Array","from","el","children","initializeDividers","addEventListeners","ensureSingleSelectedItem","componentDidLoad","isNestedInIfxComponent","framework","detectFramework","trackComponent","disconnectedCallback","removeEventListeners","forEach","item","index","length","divider","document","createElement","classList","add","after","push","handlers","click","selectItem","mouseenter","handleHover","mouseleave","focus","handleFocus","blur","Object","keys","event","addEventListener","set","removeEventListener","clear","isSelected","getAttribute","selected","removeAttribute","isActive","updateDividersOfItem","itemIndex","updateDividerVisibility","dividerIndex","hiddenDividers","Set","setDividerVisibility","has","hidden","toggle","oldIndex","setAttribute","emit","oldValue","getValueOfItem","newValue","toLocaleString","render","h","Host","key","class","role"],"sources":["src/components/content-switcher/content-switcher.scss?tag=ifx-content-switcher&encapsulation=shadow","src/components/content-switcher/content-switcher.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n.ifx-content-switcher {\n    background-color: tokens.$ifxColorBaseWhite;\n    border: 1px solid tokens.$ifxColorEngineering300;\n    border-radius: tokens.$ifxBorderRadiusRound;\n    height: tokens.$ifxSize450;\n    width: fit-content;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    & ::slotted(ifx-content-switcher-item) {\n        position: relative;\n        // top: -1px;\n    }\n\n    & ::slotted(ifx-content-switcher-item:first-child) {\n        left: -1px;\n        margin-right: -1px;\n    }\n\n    & ::slotted(ifx-content-switcher-item:last-child) {\n        right: -1px;\n        margin-left: -1px;\n    }\n\n    // Dividers\n    & ::slotted(.ifx-content-switcher-divider) {\n        width: tokens.$ifxSize12;\n        height: tokens.$ifxSize250;\n        background-color: tokens.$ifxColorEngineering400;\n        margin: 0px 1px;\n        visibility: visible;\n    }\n\n    & ::slotted(.ifx-content-switcher-divider.hidden) {\n        visibility: hidden;\n    }\n}","import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\tHost,\n\th,\n\tState,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\nexport type ChangeEvent = { oldValue: string; newValue: string };\n\ntype ContentSwitcherItem = Element & {\n\tselected: boolean;\n};\n\n@Component({\n\ttag: \"ifx-content-switcher\",\n\tstyleUrl: \"./content-switcher.scss\",\n\tshadow: true,\n})\nexport class ContentSwitcher {\n\t@Element() el: HTMLElement;\n\n\t@State() items: Element[];\n\t@State() activeIndex = -1;\n\t@State() hoverIndex: number = -1;\n\t@State() focusIndex: number = -1;\n\n\t@State() dividers: Element[] = [];\n\n\t@Event() ifxChange: EventEmitter<ChangeEvent>;\n\n\tprivate eventHandlers: Map<Element, { [key: string]: EventListener }> =\n\t\tnew Map();\n\n\tcomponentWillLoad() {\n\t\tthis.items = Array.from(this.el.children);\n\t\tthis.initializeDividers();\n\t\tthis.addEventListeners();\n\t\tthis.ensureSingleSelectedItem();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-content-switcher\", await framework);\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.removeEventListeners();\n\t}\n\n\t/**\n\t * Initialize the dividers between items.\n\t */\n\tinitializeDividers() {\n\t\tthis.items.forEach((item, index) => {\n\t\t\tif (index < this.items.length - 1) {\n\t\t\t\tconst divider = document.createElement(\"div\");\n\t\t\t\tdivider.classList.add(\"ifx-content-switcher-divider\");\n\t\t\t\titem.after(divider);\n\t\t\t\tthis.dividers.push(divider);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Add event listeners for each item.\n\t */\n\taddEventListeners() {\n\t\tthis.items.forEach((item, index) => {\n\t\t\tconst handlers = {\n\t\t\t\tclick: () => this.selectItem(index),\n\t\t\t\tmouseenter: () => this.handleHover(index, true),\n\t\t\t\tmouseleave: () => this.handleHover(index, false),\n\t\t\t\tfocus: () => this.handleFocus(index, true),\n\t\t\t\tblur: () => this.handleFocus(index, false),\n\t\t\t};\n\n\t\t\tObject.keys(handlers).forEach((event) => {\n\t\t\t\titem.addEventListener(event, handlers[event]);\n\t\t\t});\n\n\t\t\tthis.eventHandlers.set(item, handlers);\n\t\t});\n\t}\n\n\t/**\n\t * Remove all event listeners.\n\t */\n\tremoveEventListeners() {\n\t\tthis.eventHandlers.forEach((handlers, item) => {\n\t\t\tObject.keys(handlers).forEach((event) => {\n\t\t\t\titem.removeEventListener(event, handlers[event]);\n\t\t\t});\n\t\t});\n\t\tthis.eventHandlers.clear();\n\t}\n\n\tensureSingleSelectedItem() {\n\t\tthis.items.forEach((item, index) => {\n\t\t\tconst isSelected =\n\t\t\t\titem.getAttribute(\"selected\") === \"true\" ||\n\t\t\t\t(item as ContentSwitcherItem).selected;\n\t\t\tif (isSelected) {\n\t\t\t\tif (this.activeIndex < 0) {\n\t\t\t\t\tthis.selectItem(index);\n\t\t\t\t} else {\n\t\t\t\t\titem.removeAttribute(\"selected\");\n\t\t\t\t\t(item as ContentSwitcherItem).selected = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handle hover events on an item.\n\t * @param index - Index of the item.\n\t * @param isActive - Whether the item is hovered.\n\t */\n\thandleHover(index: number, isActive: boolean) {\n\t\tthis.hoverIndex = isActive ? index : -1;\n\t\tthis.updateDividersOfItem(index);\n\t}\n\n\t/**\n\t * Handle hover events on an item.\n\t * @param index - Index of the item.\n\t * @param isActive - Whether the item is focused.\n\t */\n\thandleFocus(index: number, isActive: boolean) {\n\t\tthis.focusIndex = isActive ? index : -1;\n\t\tthis.updateDividersOfItem(index);\n\t}\n\n\t/**\n\t * Update visibility of dividers adjacent to a specific item.\n\t * @param itemIndex - Index of the item.\n\t */\n\tupdateDividersOfItem(itemIndex: number) {\n\t\tif (itemIndex < this.items.length - 1) {\n\t\t\tthis.updateDividerVisibility(itemIndex);\n\t\t}\n\t\tif (itemIndex > 0) {\n\t\t\tthis.updateDividerVisibility(itemIndex - 1);\n\t\t}\n\t}\n\n\t/**\n\t * Update visibility of a specific divider.\n\t * @param dividerIndex - Index of the divider.\n\t */\n\tupdateDividerVisibility(dividerIndex: number) {\n\t\tconst hiddenDividers = new Set([\n\t\t\tthis.activeIndex,\n\t\t\tthis.activeIndex - 1,\n\t\t\tthis.hoverIndex,\n\t\t\tthis.hoverIndex - 1,\n\t\t\tthis.focusIndex,\n\t\t\tthis.focusIndex - 1,\n\t\t]);\n\t\tthis.setDividerVisibility(dividerIndex, hiddenDividers.has(dividerIndex));\n\t}\n\n\t/**\n\t * Set the visibility of a specific divider.\n\t * @param dividerIndex - Index of the divider.\n\t * @param hidden - Whether the divider should be hidden.\n\t */\n\tsetDividerVisibility(dividerIndex: number, hidden: boolean) {\n\t\tif (this.dividers[dividerIndex]) {\n\t\t\tthis.dividers[dividerIndex].classList.toggle(\"hidden\", hidden);\n\t\t}\n\t}\n\n\t/**\n\t * Select a specific item.\n\t * @param itemIndex - Index of the item to be selected.\n\t */\n\tselectItem(itemIndex: number) {\n\t\tif (itemIndex === this.activeIndex) return;\n\t\tconst oldIndex = this.activeIndex;\n\t\tif (oldIndex >= 0) {\n\t\t\tthis.items[oldIndex].removeAttribute(\"selected\");\n\t\t}\n\n\t\tthis.activeIndex = itemIndex;\n\t\tthis.items[itemIndex].setAttribute(\"selected\", \"true\");\n\n\t\tthis.ifxChange.emit({\n\t\t\toldValue: this.getValueOfItem(oldIndex),\n\t\t\tnewValue: this.getValueOfItem(itemIndex),\n\t\t});\n\t\tthis.updateDividersOfItem(oldIndex);\n\t\tthis.updateDividersOfItem(itemIndex);\n\t}\n\n\t/**\n\t * Get the value property of the item at a specific index.\n\t * Falls back to the index if no value is set.\n\t *\n\t * @param index - Index of the item.\n\t * @returns The value of the item.\n\t */\n\tgetValueOfItem(index: number): string {\n\t\tif (this.items[index] == null) return index.toLocaleString();\n\t\treturn this.items[index].getAttribute(\"value\") || index.toLocaleString();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div class=\"ifx-content-switcher\" role=\"group\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}