{"version":3,"names":["infineonIconStencilCss","InfineonIconStencil","icon","ifxIcon","internalIcon","consoleError","updateIcon","newIcon","this","setIcon","convertStringToHtml","htmlString","div","document","createElement","innerHTML","firstChild","F","convertHtmlToObject","htmlElement","pathToObject","Array","from","attributes","name","value","reduce","acc","current","convertPathsToVnode","htmlPath","svgPaths","parentPath","parentPathToVnode","h","push","paths","querySelectorAll","pathLength","length","i","objToVnode","getSVG","svgPath","width","getAttribute","height","fill","viewBox","class","xmlns","constructIcon","SVG","emit","toCamelCase","str","replace","_","chr","toUpperCase","m","toLowerCase","iconName","getIcon","isInsideAgGrid","el","className","startsWith","parentElement","isInsideChoices","componentWillLoad","componentDidLoad","isNestedInIfxComponent","framework","detectFramework","trackComponent","render","Host","key"],"sources":["src/components/icon/infineonIconStencil.scss?tag=ifx-icon","src/components/icon/infineonIconStencil.tsx"],"sourcesContent":["ifx-icon {\n  display: inline-flex;\n  justify-content: center;\n\n  &:empty {\n    display: none;\n  }\n}","import { getIcon } from \"@infineon/infineon-icons\";\nimport {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\tHost,\n\th,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n@Component({\n\ttag: \"ifx-icon\",\n\tstyleUrl: \"./infineonIconStencil.scss\",\n})\nexport class InfineonIconStencil {\n\t@Element() el: HTMLElement;\n\t@Prop({ mutable: true }) icon: string = \"\";\n\t@Prop({ mutable: true }) ifxIcon: any;\n\t@State() internalIcon: string;\n\t@Event() consoleError: EventEmitter<boolean>;\n\n\t@Watch(\"icon\")\n\tupdateIcon(newIcon: string) {\n\t\tthis.internalIcon = newIcon;\n\t\tthis.setIcon();\n\t}\n\n\tconvertStringToHtml(htmlString) {\n\t\tconst div = document.createElement(\"div\");\n\t\tdiv.innerHTML = htmlString;\n\t\treturn div.firstChild;\n\t}\n\tF;\n\n\tconvertHtmlToObject(htmlElement) {\n\t\tconst pathToObject = Array.from(\n\t\t\thtmlElement.attributes,\n\t\t\t({ name, value }) => ({ name, value }),\n\t\t).reduce((acc, current) => {\n\t\t\tacc[current.name] = current.value;\n\t\t\treturn acc;\n\t\t}, {});\n\n\t\treturn pathToObject;\n\t}\n\n\tconvertPathsToVnode(htmlPath) {\n\t\tconst svgPaths = [];\n\t\tconst parentPath = this.convertHtmlToObject(htmlPath);\n\t\tconst parentPathToVnode = h(\"path\", parentPath);\n\t\tsvgPaths.push(parentPathToVnode);\n\t\tif (htmlPath.firstChild) {\n\t\t\tconst paths = htmlPath.querySelectorAll(\"path\");\n\t\t\tconst pathLength = htmlPath.querySelectorAll(\"path\").length;\n\t\t\tfor (let i = 0; i < pathLength; i++) {\n\t\t\t\tconst pathToObject = this.convertHtmlToObject(paths[i]);\n\t\t\t\tconst objToVnode = h(\"path\", pathToObject);\n\t\t\t\tsvgPaths.push(objToVnode);\n\t\t\t}\n\t\t}\n\t\treturn svgPaths;\n\t}\n\n\tgetSVG(svgPath) {\n\t\tconst htmlPath = this.convertStringToHtml(this.ifxIcon) as SVGElement;\n\t\tconst width = htmlPath.getAttribute(\"width\");\n\t\tconst height = htmlPath.getAttribute(\"height\");\n\t\tconst fill = htmlPath.getAttribute(\"fill\");\n\t\tconst viewBox = htmlPath.getAttribute(\"viewBox\");\n\n\t\treturn (\n\t\t\t<svg\n\t\t\t\tclass=\"inline-svg\"\n\t\t\t\twidth={width}\n\t\t\t\theight={height}\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tfill={fill}\n\t\t\t\tviewBox={viewBox}\n\t\t\t>\n\t\t\t\t{...svgPath}\n\t\t\t</svg>\n\t\t);\n\t}\n\n\tconstructIcon() {\n\t\tif (this.ifxIcon) {\n\t\t\tconst htmlPath = this.convertStringToHtml(this.ifxIcon);\n\t\t\tconst svgPath = this.convertPathsToVnode(htmlPath);\n\t\t\tconst SVG = this.getSVG(svgPath);\n\t\t\treturn SVG;\n\t\t} else if (this.icon !== \"\") {\n\t\t\tthis.consoleError.emit(true);\n\t\t\treturn;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tsetIcon() {\n\t\tconst toCamelCase = (str) =>\n\t\t\tstr\n\t\t\t\t.replace(/[-_]+(.)/g, (_, chr) => chr.toUpperCase()) // handle - and _ to uppercase\n\t\t\t\t.replace(/^(.)/, (m) => m.toLowerCase()); // ensure first letter is lowercase\n\n\t\tconst iconName = toCamelCase(this.internalIcon);\n\t\tthis.ifxIcon = getIcon(iconName);\n\t}\n\n\tisInsideAgGrid(el: HTMLElement): boolean {\n\t\tlet current = el;\n\t\twhile (current) {\n\t\t\tif (current.className?.toLowerCase().startsWith(\"ag-\")) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcurrent = current.parentElement;\n\t\t}\n\t\treturn false;\n\t}\n\n\tisInsideChoices(el: HTMLElement): boolean {\n\t\tlet current = el;\n\t\twhile (current) {\n\t\t\tif (current.className?.toLowerCase().startsWith(\"choices__\")) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcurrent = current.parentElement;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentWillLoad() {\n\t\tthis.internalIcon = this.icon;\n\t\tthis.setIcon();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tif (!this.isInsideAgGrid(this.el) && !this.isInsideChoices(this.el)) {\n\t\t\t\tconst framework = detectFramework();\n\t\t\t\ttrackComponent(\"ifx-icon\", await framework);\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\treturn <Host>{this.constructIcon()}</Host>;\n\t}\n}\n"],"mappings":"mLAAA,MAAMA,EAAyB,IAAM,mF,MCoBxBC,EAAmB,M,4FAENC,KAAe,GACfC,QAChBC,aACAC,aAGT,UAAAC,CAAWC,GACVC,KAAKJ,aAAeG,EACpBC,KAAKC,S,CAGN,mBAAAC,CAAoBC,GACnB,MAAMC,EAAMC,SAASC,cAAc,OACnCF,EAAIG,UAAYJ,EAChB,OAAOC,EAAII,U,CAEZC,EAEA,mBAAAC,CAAoBC,GACnB,MAAMC,EAAeC,MAAMC,KAC1BH,EAAYI,YACZ,EAAGC,OAAMC,YAAO,CAAQD,OAAMC,YAC7BC,QAAO,CAACC,EAAKC,KACdD,EAAIC,EAAQJ,MAAQI,EAAQH,MAC5B,OAAOE,CAAG,GACR,IAEH,OAAOP,C,CAGR,mBAAAS,CAAoBC,GACnB,MAAMC,EAAW,GACjB,MAAMC,EAAaxB,KAAKU,oBAAoBY,GAC5C,MAAMG,EAAoBC,EAAE,OAAQF,GACpCD,EAASI,KAAKF,GACd,GAAIH,EAASd,WAAY,CACxB,MAAMoB,EAAQN,EAASO,iBAAiB,QACxC,MAAMC,EAAaR,EAASO,iBAAiB,QAAQE,OACrD,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAYE,IAAK,CACpC,MAAMpB,EAAeZ,KAAKU,oBAAoBkB,EAAMI,IACpD,MAAMC,EAAaP,EAAE,OAAQd,GAC7BW,EAASI,KAAKM,E,EAGhB,OAAOV,C,CAGR,MAAAW,CAAOC,GACN,MAAMb,EAAWtB,KAAKE,oBAAoBF,KAAKL,SAC/C,MAAMyC,EAAQd,EAASe,aAAa,SACpC,MAAMC,EAAShB,EAASe,aAAa,UACrC,MAAME,EAAOjB,EAASe,aAAa,QACnC,MAAMG,EAAUlB,EAASe,aAAa,WAEtC,OACCX,EAAA,OACCe,MAAM,aACNL,MAAOA,EACPE,OAAQA,EACRI,MAAM,6BACNH,KAAMA,EACNC,QAASA,MAELL,E,CAKP,aAAAQ,GACC,GAAI3C,KAAKL,QAAS,CACjB,MAAM2B,EAAWtB,KAAKE,oBAAoBF,KAAKL,SAC/C,MAAMwC,EAAUnC,KAAKqB,oBAAoBC,GACzC,MAAMsB,EAAM5C,KAAKkC,OAAOC,GACxB,OAAOS,C,MACD,GAAI5C,KAAKN,OAAS,GAAI,CAC5BM,KAAKH,aAAagD,KAAK,MACvB,M,KACM,CACN,M,EAIF,OAAA5C,GACC,MAAM6C,EAAeC,GACpBA,EACEC,QAAQ,aAAa,CAACC,EAAGC,IAAQA,EAAIC,gBACrCH,QAAQ,QAASI,GAAMA,EAAEC,gBAE5B,MAAMC,EAAWR,EAAY9C,KAAKJ,cAClCI,KAAKL,QAAU4D,EAAQD,E,CAGxB,cAAAE,CAAeC,GACd,IAAIrC,EAAUqC,EACd,MAAOrC,EAAS,CACf,GAAIA,EAAQsC,WAAWL,cAAcM,WAAW,OAAQ,CACvD,OAAO,I,CAERvC,EAAUA,EAAQwC,a,CAEnB,OAAO,K,CAGR,eAAAC,CAAgBJ,GACf,IAAIrC,EAAUqC,EACd,MAAOrC,EAAS,CACf,GAAIA,EAAQsC,WAAWL,cAAcM,WAAW,aAAc,CAC7D,OAAO,I,CAERvC,EAAUA,EAAQwC,a,CAEnB,OAAO,K,CAGR,iBAAAE,GACC9D,KAAKJ,aAAeI,KAAKN,KACzBM,KAAKC,S,CAGN,sBAAM8D,GACL,IAAKC,EAAuBhE,KAAKyD,IAAK,CACrC,IAAKzD,KAAKwD,eAAexD,KAAKyD,MAAQzD,KAAK6D,gBAAgB7D,KAAKyD,IAAK,CACpE,MAAMQ,EAAYC,IAClBC,EAAe,iBAAkBF,E,GAKpC,MAAAG,GACC,OAAO1C,EAAC2C,EAAM,CAAAC,IAAA,4CAAAtE,KAAK2C,gB","ignoreList":[]}