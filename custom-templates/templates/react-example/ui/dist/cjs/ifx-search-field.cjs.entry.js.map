{"file":"ifx-search-field.cjs.entry.js","mappings":"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","names":["index","h","isNestedInIfxComponent","detectFramework","trackComponent","classNames"],"sources":["src/components/search-field/search-field.scss?tag=ifx-search-field&encapsulation=shadow","src/components/search-field/search-field.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n:host {\n  display: flex;\n}\n\n.search-field {\n  box-sizing: border-box;\n  background-color: tokens.$ifxColorBaseWhite;\n  width: 100%;\n  font-family: var(--ifx-font-family);\n  position: relative; // Wichtig für absolute positioning des Dropdowns\n\n  .search-field__wrapper {\n    box-sizing: border-box;\n    height: tokens.$ifxSize500;\n    display: flex;\n    align-items: center;\n    border: 1px solid #8d8786;\n    border-radius: tokens.$ifxBorderRadius12;\n    padding: tokens.$ifxSpace100 tokens.$ifxSpace200;\n    gap: tokens.$ifxSpace150;\n    flex: none;\n    order: 0;\n    align-self: stretch;\n    flex-grow: 0;\n    position: relative;\n    width: 100%;\n    outline: none;\n\n    &:focus-visible:not(.disabled) {\n      outline: 2px solid tokens.$ifxColorOcean500;\n      outline-offset: 2px;\n    }\n\n    &.search-field__wrapper-s {\n      height: 36px;\n    }\n\n    &:hover:not(.focused, :focus) {\n      border: 1px solid #3c3a39;\n    }\n\n    & .delete-icon {\n      outline: 1px solid transparent;\n      right: 12px;\n      cursor: pointer;\n      &:focus-visible {\n        outline: 2px solid tokens.$ifxColorOcean500;\n        outline-offset: 1px;\n      }\n    }\n\n    input[type='text'] {\n      font-style: normal;\n      font-weight: 400;\n      font-size: 16px;\n      //line-height: 24px;\n      color: #8d8786;\n      border: none;\n      width: 100%;\n      outline: none;\n      //height: 100%;\n      height: 16px;\n\n      &:focus {\n        outline: none;\n        color: #1d1d1d;\n      }\n\n      &:disabled {\n        background: tokens.$ifxColorEngineering300;\n        color: tokens.$ifxColorBaseWhite;\n\n        &::placeholder {\n          color: tokens.$ifxColorBaseWhite;\n        }\n      }\n    }\n\n    &.disabled {\n      background: tokens.$ifxColorEngineering300;\n      border: none;\n      color: tokens.$ifxColorBaseWhite;\n\n      &:hover {\n        border: none;\n        outline: none;\n      }\n\n      & .delete-icon { \n        cursor: default;\n        &:focus-visible { \n          outline: 1px solid transparent;\n        }\n      }\n    }\n  }\n\n  // Suggestions Dropdown Styles\n  .suggestions-dropdown {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    background: tokens.$ifxColorBaseWhite;\n    margin-top: tokens.$ifxSpace50;\n    border: 1px solid tokens.$ifxColorEngineering200;\n    box-shadow: 0px 6px 9px 0px rgba(29, 29, 29, 0.1);\n    z-index: 1000;\n    max-height: 300px;\n    overflow-y: auto;\n    container-type: inline-size; // Enable container queries\n\n    .suggestions-header {\n      // font: tokens.$ifxEyebrowEyebrow02; TODO\n      font-family: Source Sans 3;\n      font-size: 0.8125rem;\n      font-weight: 600;\n      line-height: 1.25rem;\n\n      letter-spacing: 0.25em;\n      text-transform: uppercase;\n      color: tokens.$ifxColorEngineering500;\n      border-bottom: 1px solid tokens.$ifxColorEngineering200;\n      padding: tokens.$ifxSpace150 tokens.$ifxSpace200;\n    }\n\n    .suggestion-item {\n      padding: tokens.$ifxSpace150 tokens.$ifxSpace200;\n      cursor: pointer;\n      transition: background-color 0.2s ease;\n\n      &:last-child {\n        border-bottom: none;\n      }\n\n      &:hover,\n      &--selected {\n        background-color: tokens.$ifxColorEngineering200;\n      }\n\n      .suggestion-content {\n        display: flex;\n        align-items: center;\n        gap: tokens.$ifxSpace150;\n\n        .suggestion-icon {\n          color: tokens.$ifxColorEngineering500;\n          flex-shrink: 0;\n\n          &--history {\n            color: tokens.$ifxColorEngineering500;\n          }\n        }\n\n        .suggestion-text {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          min-width: 0; // Important for flexbox truncation\n\n          .suggestion-main-text {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            flex-shrink: 1;\n            min-width: 0;\n          }\n\n          .suggestion-scope {\n            color: tokens.$ifxColorEngineering400;\n            flex-shrink: 0; // Never truncate the scope\n            white-space: nowrap;\n            margin-left: tokens.$ifxSpace25; // Add space before the scope\n            font-weight: tokens.$ifxFontWeightSemibold;\n            font-size: tokens.$ifxFontSizeXs;\n          }\n\n          // When container is narrow, stack scope below main text\n          @container (max-width: 320px) {\n            flex-direction: column;\n            align-items: flex-start;\n\n            .suggestion-main-text {\n              width: 100%;\n              max-width: 100%;\n            }\n\n            .suggestion-scope {\n              margin-left: 0;\n              margin-top: 0;\n              width: 100%;\n              max-width: 100%;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              flex-shrink: 1; // Allow truncation when narrow\n            }\n          }\n        }\n\n        .suggestion-count {\n          color: tokens.$ifxColorEngineering400;\n          margin-left: auto;\n          flex-shrink: 0;\n        }\n\n        .suggestion-delete-icon {\n          opacity: 0;\n          visibility: hidden;\n          transition: opacity 0.2s ease, visibility 0.2s ease;\n          cursor: pointer;\n          margin-left: auto;\n          flex-shrink: 0;\n          color: tokens.$ifxColorEngineering500;\n\n          &:hover {\n            color: tokens.$ifxColorEngineering600;\n          }\n        }\n      }\n\n      &:hover {\n        .suggestion-delete-icon {\n          opacity: 1;\n          visibility: visible;\n        }\n      }\n    }\n  }\n\n  // Wrapper modifications when dropdown is open\n  .search-field__wrapper.dropdown-open {\n    border-radius: tokens.$ifxBorderRadius12 tokens.$ifxBorderRadius12 0 0;\n    border-color: tokens.$ifxColorOcean500;\n  }\n}\n","import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport classNames from \"classnames\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\nexport interface SuggestionItem {\n\tid: string;\n\ttext: string;\n\ttype?: \"suggestion\" | \"history\";\n\tscope?: string;\n\tresultCount?: number;\n\tmetadata?: any;\n}\n\n@Component({\n\ttag: \"ifx-search-field\",\n\tstyleUrl: \"search-field.scss\",\n\tshadow: true,\n})\nexport class SearchField {\n\t@Element() el;\n\tprivate inputElement: HTMLInputElement;\n\tprivate dropdownElement: HTMLDivElement;\n\n\t@Prop({ mutable: true }) value: string = \"\";\n\t@Prop() suggestions: SuggestionItem[] = [];\n\t@Prop() showSuggestions: boolean = false;\n\t@Prop() maxSuggestions: number = 10;\n\t@Prop() maxHistoryItems: number = 5;\n\t@Prop() enableHistory: boolean = true;\n\t@Prop() historyKey: string = \"ifx-search-history\";\n\t@Prop() historyHeaderText: string = \"Recent Searches\";\n\n\t// ARIA Labels and Accessibility Props\n\t@Prop() ariaLabel: string | null = \"Search Field\";\n\t@Prop() ariaLabelledBy?: string | null;\n\t@Prop() ariaDescribedBy?: string | null;\n\t@Prop() deleteIconAriaLabel: string = \"Clear search\";\n\t@Prop() historyDeleteAriaLabel: string = \"Remove from history\";\n\t@Prop() dropdownAriaLabel: string = \"Search suggestions and history\";\n\t@Prop() suggestionAriaLabel: string = \"Search suggestion\";\n\t@Prop() historyItemAriaLabel: string = \"Search history item\";\n\n\t@Event() ifxInput: EventEmitter<string>;\n\t@Event() ifxSuggestionRequested: EventEmitter<string>;\n\t@Event() ifxSuggestionSelected: EventEmitter<SuggestionItem>;\n\t@Event() ifxFocus: EventEmitter<void>;\n\t@Event() ifxBlur: EventEmitter<void>;\n\n\t@State() showDropdown: boolean = false;\n\t@State() filteredSuggestions: SuggestionItem[] = [];\n\t@State() selectedSuggestionIndex: number = -1;\n\t@State() searchHistory: string[] = [];\n\n\t@Prop() showDeleteIcon: boolean = false;\n\t@State() showDeleteIconInternalState: boolean = false;\n\t@Prop() disabled: boolean = false;\n\t@Prop() size: string = \"l\";\n\t@State() isFocused: boolean = false;\n\t@Prop() placeholder: string = \"Search...\";\n\t@Prop() autocomplete: string = \"off\";\n\t@Prop() maxlength?: number = null;\n\n\tprivate focusEmitted: boolean = false;\n\n\t@Listen(\"mousedown\", { target: \"document\" })\n\thandleOutsideClick(event: MouseEvent) {\n\t\tconst path = event.composedPath();\n\t\tif (\n\t\t\t!path.includes(this.inputElement) &&\n\t\t\t!path.includes(this.dropdownElement)\n\t\t) {\n\t\t\tthis.hideDropdown();\n\t\t}\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(event: KeyboardEvent) {\n\t\tif (!this.showDropdown) return;\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.navigateSuggestions(1);\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.navigateSuggestions(-1);\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this.selectedSuggestionIndex >= 0) {\n\t\t\t\t\tthis.selectSuggestion(\n\t\t\t\t\t\tthis.filteredSuggestions[this.selectedSuggestionIndex],\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.handleSearch();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\tthis.hideDropdown();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t@Watch(\"value\")\n\tvalueWatcher(newValue: string) {\n\t\tif (this.inputElement && newValue !== this.inputElement.value) {\n\t\t\tthis.inputElement.value = newValue;\n\t\t}\n\t\tthis.updateSuggestions();\n\t}\n\n\t@Watch(\"suggestions\")\n\tsuggestionsWatcher() {\n\t\tthis.updateSuggestions();\n\t}\n\n\thandleInput = () => {\n\t\tconst query = this.inputElement.value;\n\t\tthis.value = query;\n\t\tthis.ifxInput.emit(this.value);\n\n\t\tif (this.showSuggestions) {\n\t\t\tthis.showDropdown = true;\n\t\t\tthis.selectedSuggestionIndex = -1;\n\t\t\tthis.requestSuggestions(query);\n\t\t}\n\t};\n\n\thandleDelete = () => {\n\t\tif (!this.disabled) {\n\t\t\tthis.inputElement.value = \"\";\n\t\t\tthis.value = \"\";\n\t\t\tthis.ifxInput.emit(this.value);\n\t\t\tthis.hideDropdown();\n\t\t}\n\t};\n\n\thandleSearch = () => {\n\t\tif (this.value.trim() && this.enableHistory) {\n\t\t\t// Only add to history if there are actual results\n\t\t\tif (this.filteredSuggestions.length > 0) {\n\t\t\t\tthis.addToHistory(this.value);\n\t\t\t}\n\t\t}\n\t\tthis.hideDropdown();\n\t};\n\n\tfocusInput() {\n\t\t// Only emit focus event if it hasn't been emitted already\n\t\tif (!this.focusEmitted) {\n\t\t\tthis.focusEmitted = true;\n\t\t\tthis.isFocused = true;\n\t\t\tthis.ifxFocus.emit();\n\t\t}\n\n\t\tif (this.showSuggestions) {\n\t\t\t// On focus without input: Show only history\n\t\t\tif (this.value.length === 0) {\n\t\t\t\tthis.showHistoryDropdown();\n\t\t\t\t// Only show dropdown if history is actually present\n\t\t\t\tthis.showDropdown = this.enableHistory && this.searchHistory.length > 0;\n\t\t\t} else {\n\t\t\t\t// With existing input: Normal suggestion logic\n\t\t\t\tthis.updateSuggestions();\n\t\t\t\tthis.showDropdown = this.filteredSuggestions.length > 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tblurInput() {\n\t\tsetTimeout(() => {\n\t\t\tthis.isFocused = false;\n\t\t\tthis.focusEmitted = false; // Reset focus flag when blur occurs\n\t\t\tthis.ifxBlur.emit();\n\t\t}, 150);\n\t}\n\n\t// Public method to update history from external sources\n\tpublic loadSearchHistory() {\n\t\tif (this.enableHistory && typeof localStorage !== \"undefined\") {\n\t\t\tconst stored = localStorage.getItem(this.historyKey);\n\t\t\tthis.searchHistory = stored ? JSON.parse(stored) : [];\n\n\t\t\t// Update suggestions when history is loaded\n\t\t\tthis.updateSuggestions();\n\n\t\t\t// If no input and no history left, close dropdown\n\t\t\tif (this.value.length === 0 && this.searchHistory.length === 0) {\n\t\t\t\tthis.showDropdown = false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Public method to completely clear history\n\tpublic clearSearchHistory() {\n\t\tif (this.enableHistory && typeof localStorage !== \"undefined\") {\n\t\t\t// Clear from localStorage\n\t\t\tlocalStorage.removeItem(this.historyKey);\n\n\t\t\t// Clear internal history\n\t\t\tthis.searchHistory = [];\n\n\t\t\t// Reset all dropdown-relevant states\n\t\t\tthis.filteredSuggestions = [];\n\t\t\tthis.selectedSuggestionIndex = -1;\n\t\t\tthis.showDropdown = false;\n\n\t\t\t// Update suggestions after reset\n\t\t\tthis.updateSuggestions();\n\t\t}\n\t}\n\n\t// Suggestion Management Methods\n\tprivate addToHistory(term: string) {\n\t\tif (!this.enableHistory || !term.trim()) return;\n\n\t\tconst history = [...this.searchHistory];\n\t\tconst existingIndex = history.indexOf(term);\n\n\t\tif (existingIndex > -1) {\n\t\t\thistory.splice(existingIndex, 1);\n\t\t}\n\n\t\thistory.unshift(term);\n\t\t// Limit history to maxHistoryItems (default 5)\n\t\tthis.searchHistory = history.slice(0, this.maxHistoryItems);\n\n\t\tif (typeof localStorage !== \"undefined\") {\n\t\t\tlocalStorage.setItem(this.historyKey, JSON.stringify(this.searchHistory));\n\t\t}\n\t}\n\n\t// Remove individual history entry\n\tprivate removeFromHistory(term: string) {\n\t\tif (!this.enableHistory) return;\n\n\t\tconst history = [...this.searchHistory];\n\t\tconst index = history.indexOf(term);\n\n\t\tif (index > -1) {\n\t\t\thistory.splice(index, 1);\n\t\t\tthis.searchHistory = history;\n\n\t\t\t// Update localStorage\n\t\t\tif (typeof localStorage !== \"undefined\") {\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\tthis.historyKey,\n\t\t\t\t\tJSON.stringify(this.searchHistory),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Update suggestions after removal\n\t\t\tthis.updateSuggestions();\n\n\t\t\t// Close dropdown if no history remains\n\t\t\tif (this.searchHistory.length === 0 && this.value.length === 0) {\n\t\t\t\tthis.showDropdown = false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Handle click on history delete button\n\tprivate handleHistoryDelete = (event: Event, term: string) => {\n\t\tevent.stopPropagation(); // Prevent selection of the entry\n\t\tthis.removeFromHistory(term);\n\t};\n\n\tprivate requestSuggestions(query: string) {\n\t\tthis.ifxSuggestionRequested.emit(query);\n\t\tthis.updateSuggestions();\n\t}\n\n\tprivate updateSuggestions() {\n\t\tconst query = this.value.toLowerCase();\n\t\tlet suggestions: SuggestionItem[] = [];\n\n\t\tif (query.length > 0) {\n\t\t\t// For text input: Mix external suggestions and relevant history\n\n\t\t\t// 1. Filter external suggestions\n\t\t\tif (this.suggestions && this.suggestions.length > 0) {\n\t\t\t\tconst filteredExternal = this.suggestions.filter((s) =>\n\t\t\t\t\ts.text.toLowerCase().includes(query),\n\t\t\t\t);\n\t\t\t\tsuggestions = [...suggestions, ...filteredExternal];\n\t\t\t}\n\n\t\t\t// 2. Filter relevant history entries\n\t\t\tif (this.enableHistory && this.searchHistory.length > 0) {\n\t\t\t\tconst filteredHistory = this.searchHistory\n\t\t\t\t\t.filter((term) => term.toLowerCase().includes(query))\n\t\t\t\t\t.map((term, index) => ({\n\t\t\t\t\t\tid: `history-${index}`,\n\t\t\t\t\t\ttext: term,\n\t\t\t\t\t\ttype: \"history\" as const,\n\t\t\t\t\t}));\n\t\t\t\tsuggestions = [...suggestions, ...filteredHistory];\n\t\t\t}\n\n\t\t\t// 3. Sort by relevance (exact matches first, then prefix matches)\n\t\t\tsuggestions.sort((a, b) => {\n\t\t\t\tconst aText = a.text.toLowerCase();\n\t\t\t\tconst bText = b.text.toLowerCase();\n\n\t\t\t\t// Exact match has highest priority\n\t\t\t\tif (aText === query && bText !== query) return -1;\n\t\t\t\tif (bText === query && aText !== query) return 1;\n\n\t\t\t\t// Prefix match has second highest priority\n\t\t\t\tconst aStartsWith = aText.startsWith(query);\n\t\t\t\tconst bStartsWith = bText.startsWith(query);\n\n\t\t\t\tif (aStartsWith && !bStartsWith) return -1;\n\t\t\t\tif (bStartsWith && !aStartsWith) return 1;\n\n\t\t\t\t// With equal relevance: external suggestions before history\n\t\t\t\tif (a.type === \"suggestion\" && b.type === \"history\") return -1;\n\t\t\t\tif (a.type === \"history\" && b.type === \"suggestion\") return 1;\n\n\t\t\t\t// Alphabetical sorting as last criterion\n\t\t\t\treturn aText.localeCompare(bText);\n\t\t\t});\n\t\t} else {\n\t\t\t// For empty query: Show only history (no external suggestions)\n\t\t\tif (this.enableHistory && this.searchHistory.length > 0) {\n\t\t\t\tconst historySuggestions = this.searchHistory.map((term, index) => ({\n\t\t\t\t\tid: `history-${index}`,\n\t\t\t\t\ttext: term,\n\t\t\t\t\ttype: \"history\" as const,\n\t\t\t\t}));\n\n\t\t\t\tsuggestions = historySuggestions;\n\t\t\t}\n\t\t\t// For empty query DO NOT show external suggestions\n\t\t}\n\n\t\t// Remove duplicates based on text and scope combination (history takes precedence over external)\n\t\tconst uniqueSuggestions = suggestions.reduce(\n\t\t\t(unique: SuggestionItem[], current) => {\n\t\t\t\tconst existingIndex = unique.findIndex(\n\t\t\t\t\t(item) =>\n\t\t\t\t\t\titem.text.toLowerCase() === current.text.toLowerCase() &&\n\t\t\t\t\t\titem.scope === current.scope,\n\t\t\t\t);\n\t\t\t\tif (existingIndex === -1) {\n\t\t\t\t\tunique.push(current);\n\t\t\t\t} else {\n\t\t\t\t\t// If already exists, prefer history over external suggestions\n\t\t\t\t\tif (\n\t\t\t\t\t\tcurrent.type === \"history\" &&\n\t\t\t\t\t\tunique[existingIndex].type !== \"history\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tunique[existingIndex] = current;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn unique;\n\t\t\t},\n\t\t\t[],\n\t\t);\n\n\t\tthis.filteredSuggestions = uniqueSuggestions.slice(0, this.maxSuggestions);\n\t\tthis.selectedSuggestionIndex = -1;\n\t}\n\n\tprivate navigateSuggestions(direction: number) {\n\t\tconst maxIndex = this.filteredSuggestions.length - 1;\n\n\t\tif (direction > 0) {\n\t\t\tthis.selectedSuggestionIndex =\n\t\t\t\tthis.selectedSuggestionIndex < maxIndex\n\t\t\t\t\t? this.selectedSuggestionIndex + 1\n\t\t\t\t\t: 0;\n\t\t} else {\n\t\t\tthis.selectedSuggestionIndex =\n\t\t\t\tthis.selectedSuggestionIndex > 0\n\t\t\t\t\t? this.selectedSuggestionIndex - 1\n\t\t\t\t\t: maxIndex;\n\t\t}\n\t}\n\n\tprivate selectSuggestion(suggestion: SuggestionItem) {\n\t\tthis.value = suggestion.text;\n\t\tthis.inputElement.value = suggestion.text;\n\t\tthis.ifxSuggestionSelected.emit(suggestion);\n\t\tthis.ifxInput.emit(this.value);\n\n\t\tif (this.enableHistory) {\n\t\t\t// Always add selected suggestions to history since they are valid results\n\t\t\tthis.addToHistory(suggestion.text);\n\t\t}\n\n\t\tthis.hideDropdown();\n\t}\n\n\tprivate hideDropdown() {\n\t\tthis.showDropdown = false;\n\t\tthis.selectedSuggestionIndex = -1;\n\t\tthis.isFocused = false;\n\t}\n\n\t// Show only history in dropdown (e.g. on focus without input)\n\tprivate showHistoryDropdown() {\n\t\tif (this.enableHistory && this.searchHistory.length > 0) {\n\t\t\t// Show only history entries\n\t\t\tconst historySuggestions = this.searchHistory.map((term, index) => ({\n\t\t\t\tid: `history-${index}`,\n\t\t\t\ttext: term,\n\t\t\t\ttype: \"history\" as const,\n\t\t\t}));\n\n\t\t\tthis.filteredSuggestions = historySuggestions.slice(\n\t\t\t\t0,\n\t\t\t\tthis.maxSuggestions,\n\t\t\t);\n\t\t\tthis.selectedSuggestionIndex = -1;\n\t\t} else {\n\t\t\tthis.filteredSuggestions = [];\n\t\t}\n\t}\n\n\t// Check if only history entries are displayed (without text input)\n\tprivate isShowingOnlyHistory(): boolean {\n\t\treturn (\n\t\t\tthis.value.length === 0 &&\n\t\t\tthis.filteredSuggestions.length > 0 &&\n\t\t\tthis.filteredSuggestions.every((s) => s.type === \"history\")\n\t\t);\n\t}\n\n\t// Render text with highlighted matches\n\tprivate renderHighlightedText(text: string, query: string) {\n\t\tif (!query || query.length === 0) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst lowerText = text.toLowerCase();\n\t\tconst lowerQuery = query.toLowerCase();\n\t\tconst index = lowerText.indexOf(lowerQuery);\n\n\t\tif (index === -1) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst before = text.substring(0, index);\n\t\tconst match = text.substring(index, index + query.length);\n\t\tconst after = text.substring(index + query.length);\n\n\t\treturn [before, <strong>{match}</strong>, after];\n\t}\n\n\tcomponentWillLoad() {\n\t\tthis.loadSearchHistory();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-search-field\", await framework);\n\t\t}\n\t}\n\n\tcomponentWillUpdate() {\n\t\tif (this.value !== \"\") {\n\t\t\tthis.showDeleteIconInternalState = true;\n\t\t} else this.showDeleteIconInternalState = false;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-disabled={this.disabled}\n\t\t\t\taria-value={this.value}\n\t\t\t\tclass=\"search-field\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass={this.getWrapperClassNames()}\n\t\t\t\t\ttabindex={1}\n\t\t\t\t\tonClick={() => this.focusInput()}\n\t\t\t\t>\n\t\t\t\t\t<ifx-icon icon=\"search-16\" class=\"search-icon\"></ifx-icon>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={(el) => (this.inputElement = el)}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautocomplete={this.autocomplete}\n\t\t\t\t\t\tonInput={() => this.handleInput()}\n\t\t\t\t\t\tonFocus={() => this.focusInput()}\n\t\t\t\t\t\tonBlur={() => this.blurInput()}\n\t\t\t\t\t\tplaceholder={this.placeholder}\n\t\t\t\t\t\tdisabled={this.disabled}\n\t\t\t\t\t\tmaxlength={this.maxlength}\n\t\t\t\t\t\tvalue={this.value}\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\taria-controls={\n\t\t\t\t\t\t\tthis.showDropdown ? \"suggestions-dropdown\" : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\taria-expanded={this.showDropdown}\n\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\t\t\taria-label={this.ariaLabel}\n\t\t\t\t\t\taria-labelledby={this.ariaLabelledBy}\n\t\t\t\t\t\taria-describedby={this.ariaDescribedBy}\n\t\t\t\t\t\taria-owns={this.showDropdown ? \"suggestions-dropdown\" : undefined}\n\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\tthis.selectedSuggestionIndex >= 0\n\t\t\t\t\t\t\t\t? `suggestion-${this.selectedSuggestionIndex}`\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.showDeleteIcon && this.showDeleteIconInternalState ? (\n\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\ticon=\"cRemove16\"\n\t\t\t\t\t\t\tclass=\"delete-icon\"\n\t\t\t\t\t\t\tonClick={this.handleDelete}\n\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\taria-label={this.deleteIconAriaLabel}\n\t\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\t\tif (event.key === \"Enter\" || event.key === \" \") {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tthis.handleDelete();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Suggestions Dropdown */}\n\t\t\t\t{this.showDropdown && this.filteredSuggestions.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={(el) => (this.dropdownElement = el)}\n\t\t\t\t\t\tid=\"suggestions-dropdown\"\n\t\t\t\t\t\tclass=\"suggestions-dropdown\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\taria-label={this.dropdownAriaLabel}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* History Header - only show when exclusively showing history entries */}\n\t\t\t\t\t\t{this.isShowingOnlyHistory() && (\n\t\t\t\t\t\t\t<div class=\"suggestions-header\">{this.historyHeaderText}</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{this.filteredSuggestions.map((suggestion, index) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={suggestion.id}\n\t\t\t\t\t\t\t\tid={`suggestion-${index}`}\n\t\t\t\t\t\t\t\tclass={this.getSuggestionClassNames(index)}\n\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t\taria-selected={index === this.selectedSuggestionIndex}\n\t\t\t\t\t\t\t\taria-label={`${suggestion.type === \"history\" ? this.historyItemAriaLabel : this.suggestionAriaLabel}: ${suggestion.text}${suggestion.scope ? `, ${suggestion.scope}` : \"\"}${suggestion.resultCount ? `, ${suggestion.resultCount} results` : \"\"}`}\n\t\t\t\t\t\t\t\tonClick={() => this.selectSuggestion(suggestion)}\n\t\t\t\t\t\t\t\tonMouseEnter={() => (this.selectedSuggestionIndex = index)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"suggestion-content\">\n\t\t\t\t\t\t\t\t\t{suggestion.type === \"history\" && (\n\t\t\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\t\t\ticon=\"history-16\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"suggestion-icon suggestion-icon--history\"\n\t\t\t\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{suggestion.type === \"suggestion\" && (\n\t\t\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\t\t\ticon=\"search-16\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"suggestion-icon suggestion-icon--suggestion\"\n\t\t\t\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span class=\"suggestion-text\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"suggestion-main-text\">\n\t\t\t\t\t\t\t\t\t\t\t{this.renderHighlightedText(suggestion.text, this.value)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{suggestion.scope && (\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"suggestion-scope\">– {suggestion.scope}</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t{suggestion.resultCount !== undefined && suggestion.scope && (\n\t\t\t\t\t\t\t\t\t\t<span class=\"suggestion-count\">\n\t\t\t\t\t\t\t\t\t\t\t{suggestion.resultCount}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{/* Delete Button only for history entries */}\n\t\t\t\t\t\t\t\t\t{suggestion.type === \"history\" && (\n\t\t\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\t\t\ticon=\"cross16\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"suggestion-delete-icon\"\n\t\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\t\t\taria-label={`${this.historyDeleteAriaLabel}: ${suggestion.text}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.handleHistoryDelete(event, suggestion.text)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (event.key === \"Enter\" || event.key === \" \") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleHistoryDelete(event, suggestion.text);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t></ifx-icon>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetSizeClass() {\n\t\treturn `${this.size}` === \"s\" ? \"search-field__wrapper-s\" : \"\";\n\t}\n\n\tgetWrapperClassNames() {\n\t\treturn classNames(\n\t\t\t`search-field__wrapper`,\n\t\t\t`search-field__wrapper ${this.getSizeClass()}`,\n\t\t\t`${this.isFocused ? \"focused\" : \"\"}`,\n\t\t\t`${this.showDropdown ? \"dropdown-open\" : \"\"}`,\n\t\t\t`${this.disabled ? \"disabled\" : \"\"}`,\n\t\t);\n\t}\n\n\tgetSuggestionClassNames(index: number) {\n\t\treturn classNames(\"suggestion-item\", {\n\t\t\t\"suggestion-item--selected\": index === this.selectedSuggestionIndex,\n\t\t\t\"suggestion-item--history\":\n\t\t\t\tthis.filteredSuggestions[index]?.type === \"history\",\n\t\t});\n\t}\n}\n"],"version":3}