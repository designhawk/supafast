{"file":"ifx-multiselect_2.cjs.entry.js","mappings":"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","names":["isNestedInIfxComponent","detectFramework","trackComponent","h","Host"],"sources":["src/components/select/multi-select/multiselect.scss?tag=ifx-multiselect&encapsulation=shadow","src/components/select/multi-select/multiselect.tsx","src/components/select/multi-select/multiselect-option.scss?tag=ifx-multiselect-option&encapsulation=shadow","src/components/select/multi-select/multiselect-option.tsx"],"sourcesContent":["// @import '~choices.js/public/assets/styles/choices.css';\n@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n.ifx-multiselect-container {\n  position: relative;\n  box-sizing: border-box;\n  font-family: var(--ifx-font-family);\n  \n\n  &.disabled {\n    & .ifx-label-wrapper {\n      color: tokens.$ifxColorEngineering300;\n    }\n\n    & .ifx-multiselect-wrapper {\n      background: tokens.$ifxColorEngineering300;\n      color: tokens.$ifxColorBaseWhite;\n      border-color: tokens.$ifxColorEngineering300;\n      cursor: default;\n      -webkit-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n    }\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  .ifx-label-wrapper {\n    font-size: tokens.$ifxFontSizeM;\n    line-height: tokens.$ifxLineHeightM;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    overflow-wrap: anywhere;\n    max-width: 100%;\n\n    & .required {\n      margin-left: 4px;\n\n      &.error {\n        color: tokens.$ifxColorRed500;\n      }\n    }\n  }\n\n  .multi__select-caption {\n    font-style: normal;\n    font-weight: tokens.$ifxFontWeightRegular;\n    font-size: tokens.$ifxFontSizeXs;\n    line-height: tokens.$ifxLineHeightXs;\n    color: tokens.$ifxColorBaseBlack;\n    flex: none;\n    order: 1;\n    align-self: stretch;\n    flex-grow: 0;\n\n    &.error {\n      color: tokens.$ifxColorRed500;\n    }\n\n    &.disabled {\n      color: tokens.$ifxColorEngineering300;\n    }\n  }\n\n  .ifx-multiselect-wrapper {\n    background-color: tokens.$ifxColorBaseWhite;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    border: 1px solid tokens.$ifxColorEngineering400;\n    border-radius: tokens.$ifxBorderRadius12;\n    width: 100%;\n    font-weight: 400;\n    font-style: normal;\n    height: 40px;\n    line-height: 24px;\n    padding: 8px 16px;\n    font-size: tokens.$ifxFontSizeM;\n    line-height: tokens.$ifxLineHeightM;\n\n    &:focus-visible {\n      outline: none;\n    }\n\n    &:focus-visible:not(.active):not(:active) {\n      outline: none;\n\n      &::before {\n        content: '';\n        position: absolute;\n        width: calc(100% + 4px);\n        height: calc(100% + 4px);\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        border: 2px solid tokens.$ifxColorOcean500;\n        border-radius: 2px;\n      }\n    }\n\n    &.error {\n      border-color: tokens.$ifxColorRed500;\n    }\n\n    &.active {\n      border-color: tokens.$ifxColorOcean500 !important; // Active border color\n\n      & .icon-wrapper-up {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding-left: tokens.$ifxSpace100;\n      }\n\n      & .icon-wrapper-down {\n        display: none;\n      }\n    }\n\n    & .icon-wrapper-up {\n      display: none;\n    }\n\n    & .icon-wrapper-down {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding-left: tokens.$ifxSpace100;\n    }\n\n    &.is-flipped {\n      .ifx-multiselect-dropdown-menu {\n        top: auto;\n        bottom: 100%;\n      }\n    }\n  }\n\n  .ifx-multiselect-input {\n    flex-grow: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n\n    &.placeholder {\n      opacity: 0.5;\n    }\n  }\n\n  .ifx-multiselect-icon-container {\n    margin-left: auto;\n    display: flex;\n    align-items: center;\n    gap: tokens.$ifxSpace100;\n\n    .ifx-multiselect-icon-container {\n      display: flex;\n    }\n\n    .icon-wrapper {\n      display: flex;\n      align-items: center;\n      transition: transform 0.2s ease-in-out;\n    }\n\n    .icon-wrapper--open {\n      transform: rotate(180deg);\n    }\n  }\n\n  .ifx-clear-button {\n    display: flex;\n    align-items: center;\n\n    &.hide {\n      display: none;\n    }\n  }\n\n  .ifx-multiselect-dropdown-menu {\n    box-sizing: border-box;\n    position: absolute;\n    top: 100%;\n    left: 0;\n    width: 100%;\n    margin-top: tokens.$ifxSpace50;\n    padding-bottom: tokens.$ifxSpace100;\n    border: 1px solid tokens.$ifxColorEngineering200;\n    background-color: tokens.$ifxColorBaseWhite;\n    box-shadow: 0px 6px 9px 0px rgba(29, 29, 29, 0.1);\n    max-height: 300px;\n    z-index: 1000;\n    display: flex;\n    flex-direction: column;\n  }\n\n   &:not(.disabled) .ifx-multiselect-wrapper:hover:not(.focus, :focus) {\n    border-color: tokens.$ifxColorEngineering500;\n  }\n}\n\n.ifx-multiselect-dropdown-functions {\n  padding: tokens.$ifxSpace150 tokens.$ifxSpace200;\n  border-bottom: 1px solid tokens.$ifxColorEngineering200;\n  flex-shrink: 0;\n}\n\n.ifx-multiselect-dropdown-search {\n  margin-bottom: tokens.$ifxSpace150;\n}\n\n.ifx-multiselect-dropdown-controls {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  gap: tokens.$ifxSpace100;\n\n  .select-all-wrapper {\n    display: flex;\n  }\n\n  .expand-collapse-controls {\n    display: flex;\n    gap: tokens.$ifxSpace150;\n  }\n\n  .control-item {\n    font-size: 16px;\n    line-height: 24px;\n\n    &:hover {\n      color: tokens.$ifxColorOcean500;\n    }\n\n    &:active {\n      color: tokens.$ifxColorOcean600;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &:focus-visible {\n      outline: 2px solid tokens.$ifxColorOcean500;\n      outline-offset: 2px;\n      border-radius: tokens.$ifxBorderRadius12;\n    }\n  }\n}\n\n.ifx-multiselect-options {\n  flex: 1;\n  overflow-y: auto;\n  padding-top: tokens.$ifxSpace100;\n\n  &.show-no-results {\n    .ifx-multiselect-no-results {\n      display: block;\n    }\n  }\n}\n\n.ifx-multiselect-no-results {\n  padding-left: tokens.$ifxSpace200;\n  padding-right: tokens.$ifxSpace200;\n  display: none;\n}\n","import {\n\tAttachInternals,\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tMethod,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../../shared/utils/tracking\";\nimport type { Option } from \"./interfaces\";\n\nfunction debounce(func, wait) {\n\tlet timeout;\n\treturn function executedFunction(...args) {\n\t\tconst later = () => {\n\t\t\tclearTimeout(timeout);\n\t\t\tfunc(...args);\n\t\t};\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t};\n}\n\n@Component({\n\ttag: \"ifx-multiselect\",\n\tstyleUrl: \"multiselect.scss\",\n\tshadow: true,\n\t// formAssociated: true\n})\nexport class Multiselect {\n\t@Prop() name: string;\n\t@Prop() disabled: boolean = false;\n\t@Prop() required: boolean = false;\n\t@Prop() error: boolean = false;\n\t@Prop() caption: string = \"\";\n\t@Prop() label: string = \"\";\n\t@Prop() placeholder: string = \"\";\n\t@Prop() showSearch: boolean = true;\n\t@Prop() showSelectAll: boolean = true;\n\t@Prop() showClearButton: boolean = true;\n\t@Prop() showExpandCollapse: boolean = true;\n\t@Prop() noResultsMessage: string = \"No results found.\";\n\t@Prop() showNoResultsMessage: boolean = true;\n\t@Prop() searchPlaceholder: string = \"Search\";\n\t@Prop() selectAllLabel: string = \"Select all\";\n\t@Prop() expandLabel: string = \"Expand\";\n\t@Prop() collapseLabel: string = \"Collapse\";\n\t@Prop() ariaMultiSelectLabel: string = \"Multi-select dropdown\";\n\t@Prop() ariaMultiSelectLabelledBy: string = \"\";\n\t@Prop() ariaMultiSelectDescribedBy: string = \"\";\n\t@Prop() ariaSearchLabel: string = \"Search options\";\n\t@Prop() ariaClearLabel: string = \"Clear all selections\";\n\t@Prop() ariaToggleLabel: string = \"Toggle dropdown\";\n\t@Prop() ariaSelectAllLabel: string = \"Select all options\";\n\t@Prop() ariaExpandAllLabel: string = \"Expand all categories\";\n\t@Prop() ariaCollapseAllLabel: string = \"Collapse all categories\";\n\n\t@State() internalError: boolean = false;\n\t@State() persistentSelectedOptions: Option[] = [];\n\t@State() dropdownOpen = false;\n\t@State() dropdownFlipped: boolean;\n\t@State() searchTerm: string = \"\";\n\n\t@Event() ifxSelect: EventEmitter;\n\t@Event() ifxOpen: EventEmitter;\n\n\t@Element() el: HTMLElement;\n\tdropdownElement!: HTMLElement;\n\n\t@AttachInternals() internals: ElementInternals;\n\tprivate parseChildOptions(): Option[] {\n\t\tconst options: Option[] = [];\n\t\tconst childElements = Array.from(this.el.children);\n\n\t\tchildElements.forEach((child, index) => {\n\t\t\tif (child.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\t\tconst option = this.parseOptionElement(child as HTMLElement, index);\n\t\t\t\tif (option) {\n\t\t\t\t\toptions.push(option);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn options;\n\t}\n\n\tprivate parseOptionElement(\n\t\telement: HTMLElement,\n\t\tindex: number,\n\t): Option | null {\n\t\tconst value = element.getAttribute(\"value\") || `option-${index}`;\n\t\tconst selected = element.hasAttribute(\"selected\");\n\t\tconst disabled = element.hasAttribute(\"disabled\");\n\t\tconst indeterminate = element.hasAttribute(\"indeterminate\");\n\n\t\tconst option: Option = {\n\t\t\tvalue,\n\t\t\tselected,\n\t\t\tdisabled,\n\t\t\tindeterminate,\n\t\t};\n\n\t\tconst nestedOptions = Array.from(element.children)\n\t\t\t.filter((child) => child.tagName === \"IFX-MULTISELECT-OPTION\")\n\t\t\t.map((child, childIndex) =>\n\t\t\t\tthis.parseOptionElement(child as HTMLElement, childIndex),\n\t\t\t)\n\t\t\t.filter((opt) => opt !== null) as Option[];\n\n\t\tif (nestedOptions.length > 0) {\n\t\t\toption.children = nestedOptions;\n\t\t}\n\n\t\treturn option;\n\t}\n\n\tloadInitialOptions() {\n\t\tthis.internalError = this.error;\n\t\tconst allOptions = this.parseChildOptions();\n\t\tconst initiallySelected = this.collectSelectedOptions(allOptions);\n\t\tconst initiallySelectedNotInState = initiallySelected.filter(\n\t\t\t(init) =>\n\t\t\t\t!this.persistentSelectedOptions.some((opt) => opt.value == init.value),\n\t\t);\n\t\tthis.persistentSelectedOptions = [\n\t\t\t...this.persistentSelectedOptions,\n\t\t\t...initiallySelectedNotInState,\n\t\t];\n\t}\n\n\tprivate collectSelectedOptions(options: Option[]): Option[] {\n\t\tlet selectedOptions: Option[] = [];\n\n\t\tfor (const option of options) {\n\t\t\tif (option.selected) {\n\t\t\t\tif (option.children && option.children.length > 0) {\n\t\t\t\t\tselectedOptions = selectedOptions.concat(\n\t\t\t\t\t\tthis.collectLeafOptions(option.children),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!selectedOptions.some(\n\t\t\t\t\t\t\t(existingOption) => existingOption.value === option.value,\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tselectedOptions.push(option);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (option.children && option.children.length > 0) {\n\t\t\t\t\tselectedOptions = selectedOptions.concat(\n\t\t\t\t\t\tthis.collectSelectedOptions(option.children),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn selectedOptions;\n\t}\n\n\tprivate collectLeafOptions(children: Option[]): Option[] {\n\t\tlet leafOptions = [];\n\n\t\tfor (const child of children) {\n\t\t\tif (child.children && child.children.length > 0) {\n\t\t\t\tleafOptions = leafOptions.concat(\n\t\t\t\t\tthis.collectLeafOptions(child.children),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tleafOptions.push(child);\n\t\t\t}\n\t\t}\n\t\treturn leafOptions;\n\t}\n\n\thandleSearch = debounce((targetElement: HTMLInputElement) => {\n\t\tconst searchTerm = targetElement.value.toLowerCase();\n\t\tconst isSearchActive = searchTerm !== \"\";\n\n\t\tthis.searchTerm = searchTerm;\n\n\t\tconst wrapper = this.el.shadowRoot.querySelector(\n\t\t\t\".ifx-multiselect-wrapper\",\n\t\t);\n\t\tif (wrapper) {\n\t\t\tif (isSearchActive) {\n\t\t\t\twrapper.classList.remove(\"active\");\n\t\t\t} else {\n\t\t\t\tconst searchField =\n\t\t\t\t\tthis.el.shadowRoot.querySelector(\"ifx-search-field\");\n\t\t\t\tconst searchFieldHasFocus =\n\t\t\t\t\tsearchField && searchField.matches(\":focus-within\");\n\t\t\t\tif (!searchFieldHasFocus) {\n\t\t\t\t\twrapper.classList.add(\"active\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst optionsContainer = this.el.shadowRoot.querySelector(\n\t\t\t\".ifx-multiselect-options\",\n\t\t);\n\t\tif (optionsContainer) {\n\t\t\tif (isSearchActive) {\n\t\t\t\toptionsContainer.classList.add(\"has-search-filter\");\n\t\t\t} else {\n\t\t\t\toptionsContainer.classList.remove(\"has-search-filter\");\n\t\t\t}\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tconst allOptions = this.el.querySelectorAll(\"ifx-multiselect-option\");\n\t\t\tallOptions.forEach((option) => {\n\t\t\t\tconst searchEvent = new CustomEvent(\"ifx-search-filter\", {\n\t\t\t\t\tdetail: { searchTerm, isActive: isSearchActive },\n\t\t\t\t});\n\t\t\t\toption.dispatchEvent(searchEvent);\n\t\t\t});\n\n\t\t\tif (isSearchActive) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconst allOptions = this.el.querySelectorAll(\"ifx-multiselect-option\");\n\t\t\t\t\tlet visibleCount = 0;\n\n\t\t\t\t\tallOptions.forEach((option) => {\n\t\t\t\t\t\tconst style = window.getComputedStyle(option);\n\t\t\t\t\t\tconst rect = option.getBoundingClientRect();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tstyle.display !== \"none\" &&\n\t\t\t\t\t\t\tstyle.visibility !== \"hidden\" &&\n\t\t\t\t\t\t\tstyle.opacity !== \"0\" &&\n\t\t\t\t\t\t\trect.height > 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tvisibleCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tconst optionsContainer = this.el.shadowRoot.querySelector(\n\t\t\t\t\t\t\".ifx-multiselect-options\",\n\t\t\t\t\t);\n\t\t\t\t\tif (optionsContainer) {\n\t\t\t\t\t\tif (visibleCount === 0) {\n\t\t\t\t\t\t\toptionsContainer.classList.add(\"show-no-results\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toptionsContainer.classList.remove(\"show-no-results\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 200);\n\t\t\t} else {\n\t\t\t\tconst optionsContainer = this.el.shadowRoot.querySelector(\n\t\t\t\t\t\".ifx-multiselect-options\",\n\t\t\t\t);\n\t\t\t\tif (optionsContainer) {\n\t\t\t\t\toptionsContainer.classList.remove(\"show-no-results\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}, 150);\n\n\tprivate handleSearchFocus(hasFocus: boolean) {\n\t\tconst wrapper = this.el.shadowRoot.querySelector(\n\t\t\t\".ifx-multiselect-wrapper\",\n\t\t);\n\t\tif (wrapper) {\n\t\t\tif (hasFocus || this.searchTerm !== \"\") {\n\t\t\t\twrapper.classList.remove(\"active\");\n\t\t\t} else {\n\t\t\t\twrapper.classList.add(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\n\tpositionDropdown() {\n\t\tconst wrapperRect = this.el.shadowRoot\n\t\t\t.querySelector(\".ifx-multiselect-wrapper\")\n\t\t\t?.getBoundingClientRect();\n\t\tconst spaceBelow = window.innerHeight - wrapperRect.bottom;\n\t\tconst spaceAbove = wrapperRect.top;\n\n\t\tif (\n\t\t\t(spaceAbove > spaceBelow && wrapperRect.height > spaceBelow) ||\n\t\t\twrapperRect.bottom > window.innerHeight\n\t\t) {\n\t\t\tthis.dropdownFlipped = true;\n\t\t} else {\n\t\t\tthis.dropdownFlipped = false;\n\t\t}\n\t}\n\n\t//private pendingSelectionUpdate = false;\n\tpublic updateSlotBasedSelections(emitEvent: boolean = false) {\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tconst selectedLeafOptions: Option[] = [];\n\n\t\tallOptionElements.forEach((optionEl: any) => {\n\t\t\tconst instance = optionEl[\"__stencil_instance\"];\n\t\t\tif (instance && instance.selected && !instance.hasChildren) {\n\t\t\t\tselectedLeafOptions.push({\n\t\t\t\t\tvalue: instance.value,\n\t\t\t\t\tselected: true,\n\t\t\t\t\tdisabled: instance.disabled,\n\t\t\t\t\tlabel: instance.getTextContent() || instance.value,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.persistentSelectedOptions = selectedLeafOptions;\n\n\t\tif (emitEvent) {\n\t\t\tthis.ifxSelect.emit(this.persistentSelectedOptions);\n\t\t}\n\t}\n\n\tprivate updateInitialParentStates() {\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tconst optionsByDepth = Array.from(allOptionElements)\n\t\t\t.map((el) => ({\n\t\t\t\telement: el,\n\t\t\t\tinstance: (el as any)[\"__stencil_instance\"],\n\t\t\t\tdepth: parseInt(el.getAttribute(\"data-level\") || \"0\"),\n\t\t\t}))\n\t\t\t.filter((item) => item.instance)\n\t\t\t.sort((a, b) => b.depth - a.depth);\n\n\t\toptionsByDepth.forEach(({ instance }) => {\n\t\t\tif (instance.hasChildren) {\n\t\t\t\tthis.updateParentState(instance);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate updateParentState(parentInstance: any) {\n\t\tconst directChildren = Array.from(\n\t\t\tparentInstance.el.children as HTMLCollection,\n\t\t)\n\t\t\t.filter((child: Element) => child.tagName === \"IFX-MULTISELECT-OPTION\")\n\t\t\t.map((child) => (child as any)[\"__stencil_instance\"])\n\t\t\t.filter((instance) => instance !== null);\n\n\t\tconst selectedCount = directChildren.filter(\n\t\t\t(child) => child.selected,\n\t\t).length;\n\t\tconst indeterminateCount = directChildren.filter(\n\t\t\t(child) => child.indeterminate,\n\t\t).length;\n\t\tconst totalCount = directChildren.length;\n\n\t\tif (selectedCount === totalCount && indeterminateCount === 0) {\n\t\t\tparentInstance.selected = true;\n\t\t\tparentInstance.indeterminate = false;\n\t\t} else if (selectedCount === 0 && indeterminateCount === 0) {\n\t\t\tparentInstance.selected = false;\n\t\t\tparentInstance.indeterminate = false;\n\t\t} else {\n\t\t\tparentInstance.selected = false;\n\t\t\tparentInstance.indeterminate = true;\n\t\t}\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-multiselect\", await framework);\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.positionDropdown();\n\t\t}, 500);\n\n\t\tthis.el.addEventListener(\"ifx-option-changed\", (event: CustomEvent) => {\n\t\t\tconst optionInstance = (event.target as any)?.__stencil_instance;\n\t\t\tif (optionInstance && !optionInstance.hasChildren) {\n\t\t\t\tthis.updateSlotBasedSelections(true);\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tthis.updateSlotBasedSelections(false);\n\t\t\tthis.updateInitialParentStates();\n\t\t}, 100);\n\t}\n\n\tcomponentWillLoad() {\n\t\tthis.loadInitialOptions();\n\t}\n\n\t@Watch(\"error\")\n\tupdateInternalError() {\n\t\tthis.internalError = this.error;\n\t}\n\n\t@Watch(\"persistentSelectedOptions\")\n\tonSelectionChange(newValue: Option[], _: Option[]) {\n\t\tconst formData = new FormData();\n\t\tnewValue.forEach((option) => formData.append(this.name, option.value));\n\t\t//this.internals.setFormValue(formData);\n\t}\n\tcollapseAll() {\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tallOptionElements.forEach((optionEl: any) => {\n\t\t\tconst instance = optionEl[\"__stencil_instance\"];\n\t\t\tif (instance && instance.hasChildren) {\n\t\t\t\tinstance.isExpanded = false;\n\t\t\t}\n\t\t});\n\t}\n\n\texpandAll() {\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tallOptionElements.forEach((optionEl: any) => {\n\t\t\tconst instance = optionEl[\"__stencil_instance\"];\n\t\t\tif (instance && instance.hasChildren) {\n\t\t\t\tinstance.isExpanded = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tselectAll() {\n\t\tthis.resetSearch();\n\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\n\t\tallOptionElements.forEach((optionEl: any) => {\n\t\t\tconst instance = optionEl[\"__stencil_instance\"];\n\t\t\tif (instance) {\n\t\t\t\tif (instance.hasChildren) {\n\t\t\t\t\tinstance.isExpanded = true;\n\t\t\t\t} else {\n\t\t\t\t\tinstance.selected = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tthis.updateInitialParentStates();\n\t\t\tthis.updateSlotBasedSelections(false);\n\t\t\tthis.ifxSelect.emit(this.persistentSelectedOptions);\n\t\t}, 0);\n\t}\n\n\t@Method()\n\tasync clearSelection() {\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tallOptionElements.forEach((optionEl: any) => {\n\t\t\tconst instance = optionEl[\"__stencil_instance\"];\n\t\t\tif (instance) {\n\t\t\t\tinstance.selected = false;\n\t\t\t\tinstance.indeterminate = false;\n\t\t\t\tif (instance.hasChildren) {\n\t\t\t\t\tinstance.isExpanded = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.persistentSelectedOptions = [];\n\n\t\tsetTimeout(() => {\n\t\t\tthis.updateSlotBasedSelections(false);\n\t\t\tthis.ifxSelect.emit(this.persistentSelectedOptions);\n\t\t}, 0);\n\t}\n\n\thandleDocumentClick = (event: Event) => {\n\t\tconst path = event.composedPath();\n\t\tif (!path.includes(this.dropdownElement)) {\n\t\t\tthis.dropdownOpen = false;\n\t\t\tdocument.removeEventListener(\"click\", this.handleDocumentClick);\n\t\t\tthis.resetSearch();\n\t\t\tthis.ifxOpen.emit(this.dropdownOpen);\n\t\t}\n\t};\n\n\ttoggleDropdown() {\n\t\tthis.dropdownOpen = !this.dropdownOpen;\n\t\tsetTimeout(() => {\n\t\t\tif (this.dropdownOpen) {\n\t\t\t\tdocument.addEventListener(\"click\", this.handleDocumentClick);\n\t\t\t} else {\n\t\t\t\tthis.resetSearch();\n\t\t\t}\n\t\t\tthis.ifxOpen.emit(this.dropdownOpen);\n\t\t}, 0);\n\t}\n\n\tprivate resetSearch() {\n\t\tthis.searchTerm = \"\";\n\n\t\tconst searchField = this.el.shadowRoot.querySelector(\n\t\t\t\"ifx-search-field\",\n\t\t) as any;\n\t\tif (searchField) {\n\t\t\tsearchField.value = \"\";\n\t\t}\n\n\t\tconst optionsContainer = this.el.shadowRoot.querySelector(\n\t\t\t\".ifx-multiselect-options\",\n\t\t);\n\t\tif (optionsContainer) {\n\t\t\toptionsContainer.classList.remove(\"has-search-filter\");\n\t\t}\n\n\t\tconst allOptions = this.el.querySelectorAll(\"ifx-multiselect-option\");\n\t\tallOptions.forEach((option) => {\n\t\t\tconst searchEvent = new CustomEvent(\"ifx-search-filter\", {\n\t\t\t\tdetail: { searchTerm: \"\", isActive: false },\n\t\t\t});\n\t\t\toption.dispatchEvent(searchEvent);\n\t\t});\n\t}\n\n\thandleWrapperClick(event: MouseEvent) {\n\t\tthis.positionDropdown();\n\n\t\tif (event.currentTarget === event.target) {\n\t\t\tthis.toggleDropdown();\n\t\t}\n\t}\n\n\thandleKeyDown(event: KeyboardEvent) {\n\t\tif (this.disabled) return;\n\n\t\t// If dropdown is closed, only allow opening\n\t\tif (!this.dropdownOpen) {\n\t\t\tswitch (event.code) {\n\t\t\t\tcase \"Enter\":\n\t\t\t\tcase \"Space\":\n\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.toggleDropdown();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Dropdown is open - handle navigation and controls\n\t\tswitch (event.code) {\n\t\t\tcase \"Escape\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.toggleDropdown();\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\tcase \"Space\": {\n\t\t\t\t// Don't close dropdown when pressing space/enter in controls area\n\t\t\t\tconst target = event.target as HTMLElement;\n\t\t\t\tif (!target.closest(\".ifx-multiselect-dropdown-functions\")) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.toggleDropdown();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"ArrowDown\":\n\t\t\tcase \"ArrowUp\":\n\t\t\t\t// Focus first/last option for navigation\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.focusFirstOption();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate focusFirstOption() {\n\t\tconst firstOption = this.el.querySelector(\n\t\t\t\"ifx-multiselect-option:not(.search-hidden)\",\n\t\t);\n\t\tif (firstOption) {\n\t\t\tconst labelElement = firstOption.shadowRoot?.querySelector(\n\t\t\t\t\".option-label\",\n\t\t\t) as HTMLElement;\n\t\t\tlabelElement?.focus();\n\t\t}\n\t}\n\n\tprivate renderSelectAll() {\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tconst leafOptions = Array.from(allOptionElements).filter(\n\t\t\t(el: any) => !el.hasChildren,\n\t\t);\n\t\tconst selectedLeafOptions = Array.from(allOptionElements).filter(\n\t\t\t(el: any) => !el.hasChildren && el.selected,\n\t\t);\n\n\t\tconst allSelected =\n\t\t\tleafOptions.length > 0 &&\n\t\t\tselectedLeafOptions.length === leafOptions.length;\n\n\t\tconst toggleSelectAll = (event?: Event) => {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t\tif (allSelected) {\n\t\t\t\tthis.clearSelection();\n\t\t\t} else {\n\t\t\t\tthis.selectAll();\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<div class=\"select-all-wrapper\">\n\t\t\t\t<ifx-checkbox\n\t\t\t\t\tid=\"selectAll\"\n\t\t\t\t\tchecked={allSelected}\n\t\t\t\t\tsize=\"s\"\n\t\t\t\t\taria-label={this.ariaSelectAllLabel}\n\t\t\t\t\tonClick={toggleSelectAll}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\ttoggleSelectAll(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{this.selectAllLabel}\n\t\t\t\t</ifx-checkbox>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tprivate renderNoResultsMessage() {\n\t\treturn (\n\t\t\t<div class=\"ifx-multiselect-no-results\">\n\t\t\t\t<div class=\"no-results-content\">\n\t\t\t\t\t<span class=\"no-results-text\">{this.noResultsMessage}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst selectedOptionsLabels = this.persistentSelectedOptions\n\t\t\t.map((option) => (option as any).label || option.value)\n\t\t\t.join(\", \");\n\n\t\tconst hasSelections = this.persistentSelectedOptions.length > 0;\n\n\t\tlet isFlatMultiselect = false;\n\t\tconst allOptionElements = this.el.querySelectorAll(\n\t\t\t\"ifx-multiselect-option\",\n\t\t);\n\t\tif (allOptionElements.length > 0) {\n\t\t\tisFlatMultiselect = Array.from(allOptionElements).every(\n\t\t\t\t(option) => option.children.length === 0,\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={`ifx-multiselect-container ${this.disabled && !this.error ? \"disabled\" : \"\"}`}\n\t\t\t\tref={(el) => (this.dropdownElement = el as HTMLElement)}\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\t<div class=\"ifx-label-wrapper\">\n\t\t\t\t\t\t{this.label && (\n\t\t\t\t\t\t\t<span class=\"wrapper-label\">\n\t\t\t\t\t\t\t\t<span>{this.label}</span>\n\t\t\t\t\t\t\t\t{this.required && (\n\t\t\t\t\t\t\t\t\t<span class={`required ${this.error ? \"error\" : \"\"}`}>*</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div\n\t\t\t\t\tclass={`ifx-multiselect-wrapper\n        ${this.dropdownOpen ? \"active\" : \"\"}\n        ${this.dropdownFlipped ? \"is-flipped\" : \"\"}\n        ${this.internalError ? \"error\" : \"\"}\n        ${this.disabled && !this.error ? \"disabled\" : \"\"}`}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\taria-label={this.ariaMultiSelectLabel}\n\t\t\t\t\taria-labelledby={this.ariaMultiSelectLabelledBy || undefined}\n\t\t\t\t\taria-describedby={this.ariaMultiSelectDescribedBy || undefined}\n\t\t\t\t\taria-expanded={this.dropdownOpen}\n\t\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\t\taria-disabled={this.disabled && !this.error}\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\tonClick={\n\t\t\t\t\t\tthis.disabled && !this.error\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: (event) => this.handleWrapperClick(event)\n\t\t\t\t\t}\n\t\t\t\t\tonKeyDown={\n\t\t\t\t\t\tthis.disabled && !this.error\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: (event) => this.handleKeyDown(event)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass={`ifx-multiselect-input\n          ${hasSelections ? \"\" : \"placeholder\"}\n          `}\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tthis.disabled && !this.error\n\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t: () => this.toggleDropdown()\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{hasSelections ? selectedOptionsLabels : this.placeholder}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.dropdownOpen && (\n\t\t\t\t\t\t<div class=\"ifx-multiselect-dropdown-menu\">\n\t\t\t\t\t\t\t{(this.showSearch ||\n\t\t\t\t\t\t\t\tthis.showSelectAll ||\n\t\t\t\t\t\t\t\t(this.showExpandCollapse && !isFlatMultiselect)) && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"ifx-multiselect-dropdown-functions\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.showSearch && (\n\t\t\t\t\t\t\t\t\t\t<div class=\"ifx-multiselect-dropdown-search\">\n\t\t\t\t\t\t\t\t\t\t\t<ifx-search-field\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"search-input\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={this.searchPlaceholder}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"s\"\n\t\t\t\t\t\t\t\t\t\t\t\tshow-delete-icon=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={this.ariaSearchLabel}\n\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonIfxInput={(event) => this.handleSearch(event.target)}\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.handleSearchFocus(true)}\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => this.handleSearchFocus(false)}\n\t\t\t\t\t\t\t\t\t\t\t></ifx-search-field>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<div class=\"ifx-multiselect-dropdown-controls\">\n\t\t\t\t\t\t\t\t\t\t{this.showSelectAll && this.renderSelectAll()}\n\t\t\t\t\t\t\t\t\t\t{this.showExpandCollapse && !isFlatMultiselect && (\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"expand-collapse-controls\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"control-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label={this.ariaExpandAllLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.expandAll();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.expandAll();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.expandLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"control-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label={this.ariaCollapseAllLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.collapseAll();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.collapseAll();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.collapseLabel}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"ifx-multiselect-options\"\n\t\t\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\t\t\taria-multiselectable=\"true\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<slot />\n\t\t\t\t\t\t\t\t{this.searchTerm &&\n\t\t\t\t\t\t\t\t\tthis.showNoResultsMessage &&\n\t\t\t\t\t\t\t\t\tthis.renderNoResultsMessage()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div class=\"ifx-multiselect-icon-container\">\n\t\t\t\t\t\t{/* Clear Button - will show only if there's a selection */}\n\t\t\t\t\t\t{this.persistentSelectedOptions.length > 0 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass={`ifx-clear-button ${!this.showClearButton ? \"hide\" : \"\"}`}\n\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\tthis.disabled && !this.error\n\t\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t\t: () => this.clearSelection()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ifx-icon icon=\"cRemove16\"></ifx-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"icon-wrapper-up\"\n\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\tthis.disabled && !this.error\n\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t: () => this.toggleDropdown()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ifx-icon key=\"icon-up\" icon=\"chevron-up-16\"></ifx-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"icon-wrapper-down\"\n\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\tthis.disabled && !this.error\n\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t: () => this.toggleDropdown()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ifx-icon key=\"icon-down\" icon=\"chevron-down-16\"></ifx-icon>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.caption && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass={`multi__select-caption ${this.error ? \"error\" : \"\"} ${this.disabled && !this.error ? \"disabled\" : \"\"}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.caption}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n:host {\n  display: block;\n  width: 100%;\n}\n\n.option {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  cursor: pointer;\n  list-style: none;\n\n  &.option--expanded {\n    position: relative;\n  }\n\n  &.option--has-children {\n    position: relative;\n\n    .option-item > .chevron-wrapper {\n      display: flex;\n    }\n  }\n\n  &--disabled {\n    cursor: not-allowed;\n    pointer-events: none;\n    color: tokens.$ifxColorEngineering300;\n  }\n\n  &--selected {\n    // Additional styles for selected state if needed\n    // .option-item {\n    //   background: red;\n    // }\n  }\n\n  &.search-hidden {\n    display: none !important;\n  }\n\n  &.search-match {\n    .option-item {\n      .option-label {\n        .search-highlight {\n          font-weight: bold;\n          // color: tokens.$ifxColorOcean400;\n        }\n      }\n    }\n  }\n}\n\n.option-item {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  white-space: nowrap;\n  min-height: tokens.$ifxSize250;\n  padding: tokens.$ifxSize50 tokens.$ifxSpace200;\n  background-color: tokens.$ifxColorBaseWhite;\n  transition: background-color 0.2s ease-in-out;\n\n  &:hover {\n    background-color: tokens.$ifxColorEngineering100;\n  }\n\n  .option--disabled & {\n    &:hover {\n      background-color: transparent;\n    }\n  }\n}\n\n.option-children {\n  display: block;\n}\n\n.chevron-wrapper {\n  display: none;\n  align-items: center;\n  justify-content: center;\n  margin-right: tokens.$ifxSpace100;\n  width: tokens.$ifxSize250;\n  height: tokens.$ifxSize250;\n  flex-shrink: 0;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:focus-visible {\n    outline: 2px solid tokens.$ifxColorOcean500;\n    outline-offset: 2px;\n    border-radius: tokens.$ifxBorderRadius12;\n  }\n\n  .option--has-children & {\n    display: flex;\n  }\n\n  .chevron {\n    transition: transform 0.2s ease-in-out;\n    color: tokens.$ifxColorEngineering600;\n\n    &.chevron--expanded {\n      transform: rotate(90deg);\n    }\n\n    &.chevron--collapsed {\n      transform: rotate(0deg);\n    }\n  }\n}\n\n.checkbox-wrapper {\n  display: flex;\n  align-items: center;\n  margin-right: tokens.$ifxSpace100;\n  flex-shrink: 0;\n}\n\n.option-label {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: tokens.$ifxSpace25 0;\n  font-size: tokens.$ifxFontSizeS;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:focus-visible {\n    outline: 2px solid tokens.$ifxColorOcean500;\n    outline-offset: 2px;\n    border-radius: tokens.$ifxBorderRadius12;\n  }\n\n  .option--disabled & {\n    cursor: not-allowed;\n    color: tokens.$ifxColorEngineering300;\n  }\n}\n","import {\n\tComponent,\n\tElement,\n\tHost,\n\th,\n\tListen,\n\tProp,\n\tState,\n} from \"@stencil/core\";\n\n@Component({\n\ttag: \"ifx-multiselect-option\",\n\tstyleUrl: \"multiselect-option.scss\",\n\tshadow: true,\n})\nexport class MultiselectOption {\n\t@Element() el: HTMLElement;\n\n\t@Prop() value: string;\n\t@Prop({ reflect: true, mutable: true }) selected: boolean = false;\n\t@Prop({ reflect: true, mutable: true }) disabled: boolean = false;\n\t@Prop({ reflect: true, mutable: true }) indeterminate: boolean = false;\n\n\t@State() private isExpanded: boolean = false;\n\t@State() private hasChildren: boolean = false;\n\t@State() private depth: number = 0;\n\t@State() private searchTerm: string = \"\";\n\t@State() private isSearchActive: boolean = false;\n\t@State() private isSearchDisabled: boolean = false;\n\n\tcomponentWillLoad() {\n\t\tthis.hasChildren = this.el.children.length > 0;\n\t\tthis.depth = this.calculateDepth();\n\n\t\tthis.el.setAttribute(\"data-level\", this.depth.toString());\n\n\t\tif (this.hasChildren) {\n\t\t\tconst hasSelectedChildren = this.hasAnySelectedChildren();\n\t\t\tif (hasSelectedChildren) {\n\t\t\t\tthis.isExpanded = true;\n\t\t\t}\n\t\t}\n\t}\n\n  componentDidLoad() {\n    (this.el as any)['__stencil_instance'] = this;\n    this.notifyMultiselect();\n    this.el.addEventListener('ifx-search-filter', this.handleSearchFilter);\n  }\n\n\tdisconnectedCallback() {\n\t\tthis.el.removeEventListener(\"ifx-search-filter\", this.handleSearchFilter);\n\t}\n\n\tprivate handleSearchFilter = (event: CustomEvent) => {\n\t\tconst { searchTerm, isActive } = event.detail;\n\t\tthis.searchTerm = searchTerm.toLowerCase();\n\t\tthis.isSearchActive = isActive;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.updateSearchClasses();\n\t\t});\n\t};\n\n\tprivate updateSearchClasses() {\n\t\tconst optionDiv = this.el.shadowRoot?.querySelector(\".option\");\n\t\tif (!optionDiv) return;\n\n\t\tif (!this.isSearchActive) {\n\t\t\toptionDiv.classList.remove(\n\t\t\t\t\"search-hidden\",\n\t\t\t\t\"search-parent\",\n\t\t\t\t\"search-match\",\n\t\t\t);\n\t\t\tthis.removeHighlighting();\n\t\t\tthis.isSearchDisabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst textContent = this.getTextContent().toLowerCase();\n\t\tconst matchesSearch = textContent.includes(this.searchTerm);\n\t\tconst hasMatchingParent = this.hasMatchingParent();\n\n\t\trequestAnimationFrame(() => {\n\t\t\tconst hasMatchingChildren = this.hasMatchingChildren();\n\n\t\t\toptionDiv.classList.remove(\n\t\t\t\t\"search-hidden\",\n\t\t\t\t\"search-parent\",\n\t\t\t\t\"search-match\",\n\t\t\t);\n\t\t\tthis.isSearchDisabled = false;\n\n\t\t\tif (matchesSearch && !this.hasChildren) {\n\t\t\t\toptionDiv.classList.add(\"search-match\");\n\t\t\t\tthis.highlightSearchTerm();\n\t\t\t} else if (matchesSearch && this.hasChildren) {\n\t\t\t\toptionDiv.classList.add(\"search-match\");\n\t\t\t\tthis.highlightSearchTerm();\n\t\t\t\tthis.isExpanded = true;\n\t\t\t} else if (!matchesSearch && this.hasChildren && hasMatchingChildren) {\n\t\t\t\toptionDiv.classList.add(\"search-parent\");\n\t\t\t\tthis.removeHighlighting();\n\t\t\t\tthis.isExpanded = true;\n\t\t\t\tthis.isSearchDisabled = true;\n\t\t\t} else if (hasMatchingParent) {\n\t\t\t\toptionDiv.classList.add(\"search-match\");\n\t\t\t\tthis.removeHighlighting();\n\t\t\t} else {\n\t\t\t\toptionDiv.classList.add(\"search-hidden\");\n\t\t\t\tthis.removeHighlighting();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate highlightSearchTerm() {\n\t\tif (!this.searchTerm) return;\n\n\t\tconst labelElement = this.el.shadowRoot?.querySelector(\".option-label\");\n\t\tif (!labelElement) return;\n\n\t\tconst slotElement = labelElement.querySelector(\"slot\");\n\t\tif (!slotElement) return;\n\n\t\tthis.removeHighlighting();\n\n\t\tconst originalText = this.getTextContent();\n\t\tconst searchTermLower = this.searchTerm.toLowerCase();\n\t\tconst originalTextLower = originalText.toLowerCase();\n\n\t\tif (!originalTextLower.includes(searchTermLower)) return;\n\n\t\tconst searchIndex = originalTextLower.indexOf(searchTermLower);\n\n\t\tif (searchIndex === -1) return;\n\n\t\tconst beforeMatch = originalText.substring(0, searchIndex);\n\t\tconst matchText = originalText.substring(\n\t\t\tsearchIndex,\n\t\t\tsearchIndex + searchTermLower.length,\n\t\t);\n\t\tconst afterMatch = originalText.substring(\n\t\t\tsearchIndex + searchTermLower.length,\n\t\t);\n\n\t\tconst highlightedContent = document.createElement(\"span\");\n\t\thighlightedContent.className = \"highlighted-text\";\n\n\t\tif (beforeMatch) {\n\t\t\thighlightedContent.appendChild(document.createTextNode(beforeMatch));\n\t\t}\n\n\t\tconst boldElement = document.createElement(\"strong\");\n\t\tboldElement.className = \"search-highlight\";\n\t\tboldElement.textContent = matchText;\n\t\thighlightedContent.appendChild(boldElement);\n\n\t\tif (afterMatch) {\n\t\t\thighlightedContent.appendChild(document.createTextNode(afterMatch));\n\t\t}\n\n\t\tlabelElement.setAttribute(\"data-original-content\", \"true\");\n\t\tslotElement.style.display = \"none\";\n\t\tlabelElement.appendChild(highlightedContent);\n\t}\n\n\tprivate removeHighlighting() {\n\t\tconst labelElement = this.el.shadowRoot?.querySelector(\".option-label\");\n\t\tif (!labelElement) return;\n\n\t\tconst slotElement = labelElement.querySelector(\"slot\");\n\t\tconst highlightedElement = labelElement.querySelector(\".highlighted-text\");\n\n\t\tif (highlightedElement) {\n\t\t\tlabelElement.removeChild(highlightedElement);\n\t\t}\n\n\t\tif (slotElement) {\n\t\t\tslotElement.style.display = \"\";\n\t\t}\n\n\t\tlabelElement.removeAttribute(\"data-original-content\");\n\t}\n\n\tprivate getTextContent(): string {\n\t\tlet text = \"\";\n\t\tArray.from(this.el.childNodes).forEach((node) => {\n\t\t\tif (node.nodeType === Node.TEXT_NODE) {\n\t\t\t\ttext += node.textContent?.trim() || \"\";\n\t\t\t}\n\t\t});\n\t\treturn text || this.value || \"\";\n\t}\n\n\tprivate hasMatchingChildren(): boolean {\n\t\tif (!this.hasChildren) return false;\n\n\t\tconst childOptions = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as HTMLElement[];\n\n\t\treturn childOptions.some((child) => {\n\t\t\tconst childInstance = (child as any)[\"__stencil_instance\"];\n\t\t\tif (!childInstance) return false;\n\n\t\t\tconst childText = childInstance.getTextContent().toLowerCase();\n\t\t\tconst childMatches = childText.includes(this.searchTerm);\n\t\t\tconst grandChildrenMatch = childInstance.hasMatchingChildren();\n\n\t\t\treturn childMatches || grandChildrenMatch;\n\t\t});\n\t}\n\n\tprivate hasMatchingParent(): boolean {\n\t\tlet parent = this.el.parentElement;\n\t\twhile (parent && parent.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\tconst parentInstance = (parent as any)[\"__stencil_instance\"];\n\t\t\tif (parentInstance) {\n\t\t\t\tconst parentText = parentInstance.getTextContent().toLowerCase();\n\t\t\t\tif (parentText.includes(this.searchTerm)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate calculateDepth(): number {\n\t\tlet depth = 0;\n\t\tlet parent = this.el.parentElement;\n\t\twhile (parent && parent.tagName !== \"IFX-MULTISELECT\") {\n\t\t\tif (parent.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\t\tdepth++;\n\t\t\t}\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t\treturn depth;\n\t}\n\n\t@Listen(\"click\")\n\thandleClick(event: Event) {\n\t\tif (this.disabled || (this.isSearchActive && this.isSearchDisabled)) return;\n\n\t\tevent.stopPropagation();\n\n\t\tif (\n\t\t\tevent.type === \"click\" &&\n\t\t\t(event.target as HTMLElement).closest(\".chevron-wrapper\")\n\t\t) {\n\t\t\tthis.toggleExpansion();\n\t\t\treturn;\n\t\t}\n\n\t\tlet newSelectedState: boolean;\n\n\t\tif (this.indeterminate) {\n\t\t\tnewSelectedState = true;\n\t\t} else {\n\t\t\tnewSelectedState = !this.selected;\n\t\t}\n\n\t\tthis.selected = newSelectedState;\n\t\tthis.indeterminate = false;\n\n\t\tif (this.hasChildren) {\n\t\t\tthis.isExpanded = newSelectedState;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.selectAllChildren(newSelectedState);\n\t\t\t\tthis.expandAllChildren(newSelectedState);\n\t\t\t});\n\t\t}\n\n\t\tthis.updateParentStates();\n\t\tthis.notifyMultiselect();\n\t}\n\n\t@Listen(\"keydown\")\n\thandleKeyDown(event: KeyboardEvent) {\n\t\tif (this.disabled || (this.isSearchActive && this.isSearchDisabled)) return;\n\n\t\tconst target = event.target as HTMLElement;\n\n\t\tif (\n\t\t\ttarget.closest(\".chevron-wrapper\") ||\n\t\t\ttarget.closest(\".checkbox-wrapper\")\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.key !== \"ArrowUp\" && event.key !== \"ArrowDown\") {\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tif (event.key === \"ArrowRight\" && this.hasChildren) {\n\t\t\tthis.isExpanded = true;\n\t\t}\n\n\t\tif (event.key === \"ArrowLeft\" && this.hasChildren) {\n\t\t\tthis.isExpanded = false;\n\t\t}\n\t}\n\n\tprivate notifyMultiselect() {\n\t\tconst updateEvent = new CustomEvent(\"ifx-option-changed\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: {\n\t\t\t\tvalue: this.value,\n\t\t\t\tselected: this.selected,\n\t\t\t\tindeterminate: this.indeterminate,\n\t\t\t},\n\t\t});\n\t\tthis.el.dispatchEvent(updateEvent);\n\t}\n\n\tprivate selectAllChildren(selected: boolean) {\n\t\tconst directChildren = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as any[];\n\n\t\tdirectChildren.forEach((child: any) => {\n\t\t\tconst childInstance = child[\"__stencil_instance\"];\n\t\t\tif (childInstance) {\n\t\t\t\tchildInstance.selected = selected;\n\t\t\t\tchildInstance.indeterminate = false;\n\n\t\t\t\tif (childInstance.hasChildren) {\n\t\t\t\t\tchildInstance.isExpanded = selected;\n\t\t\t\t\tchildInstance.selectAllChildren(selected);\n\t\t\t\t}\n\t\t\t\tchildInstance.notifyMultiselect?.();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate expandAllChildren(expanded: boolean) {\n\t\tconst directChildren = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as any[];\n\n\t\tdirectChildren.forEach((child: any) => {\n\t\t\tconst childInstance = child[\"__stencil_instance\"];\n\t\t\tif (childInstance && childInstance.hasChildren) {\n\t\t\t\tchildInstance.isExpanded = expanded;\n\t\t\t\tchildInstance.expandAllChildren(expanded);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate updateParentStates() {\n\t\tlet parent = this.el.parentElement;\n\t\twhile (parent && parent.tagName === \"IFX-MULTISELECT-OPTION\") {\n\t\t\tconst parentInstance = (parent as any)[\"__stencil_instance\"];\n\t\t\tif (!parentInstance) {\n\t\t\t\tparent = parent.parentElement;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst siblings = Array.from(parent.children)\n\t\t\t\t.filter((child) => child.tagName === \"IFX-MULTISELECT-OPTION\")\n\t\t\t\t.map((child) => (child as any)[\"__stencil_instance\"])\n\t\t\t\t.filter((instance) => instance !== null);\n\n\t\t\tconst selectedCount = siblings.filter(\n\t\t\t\t(sibling) => sibling.selected,\n\t\t\t).length;\n\t\t\tconst indeterminateCount = siblings.filter(\n\t\t\t\t(sibling) => sibling.indeterminate,\n\t\t\t).length;\n\t\t\tconst totalCount = siblings.length;\n\n\t\t\tif (selectedCount === totalCount && indeterminateCount === 0) {\n\t\t\t\tparentInstance.selected = true;\n\t\t\t\tparentInstance.indeterminate = false;\n\t\t\t} else if (selectedCount === 0 && indeterminateCount === 0) {\n\t\t\t\tparentInstance.selected = false;\n\t\t\t\tparentInstance.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tparentInstance.selected = false;\n\t\t\t\tparentInstance.indeterminate = true;\n\t\t\t}\n\n\t\t\tparentInstance.notifyMultiselect?.();\n\t\t\tparent = parent.parentElement;\n\t\t}\n\t}\n\n\tprivate toggleExpansion() {\n\t\tthis.isExpanded = !this.isExpanded;\n\t}\n\n\tprivate handleCheckboxClick = (event: Event) => {\n\t\tif (this.disabled || (this.isSearchActive && this.isSearchDisabled)) return;\n\n\t\tevent.stopPropagation();\n\n\t\tlet newSelectedState: boolean;\n\n\t\tif (this.indeterminate) {\n\t\t\tnewSelectedState = true;\n\t\t} else {\n\t\t\tnewSelectedState = !this.selected;\n\t\t}\n\n\t\tthis.selected = newSelectedState;\n\t\tthis.indeterminate = false;\n\n\t\tif (this.hasChildren) {\n\t\t\tthis.isExpanded = newSelectedState;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.selectAllChildren(newSelectedState);\n\t\t\t\tthis.expandAllChildren(newSelectedState);\n\t\t\t});\n\t\t}\n\n\t\tthis.updateParentStates();\n\t\tthis.notifyMultiselect();\n\t};\n\n\tprivate handleHeaderClick = (event: Event) => {\n\t\tevent.stopPropagation();\n\t\tif (!this.disabled && !(this.isSearchActive && this.isSearchDisabled)) {\n\t\t\tthis.handleClick(event);\n\t\t}\n\t};\n\n\tprivate hasAnySelectedChildren(): boolean {\n\t\tconst childOptions = Array.from(this.el.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as HTMLElement[];\n\n\t\treturn childOptions.some((child) => {\n\t\t\tconst hasSelected = child.hasAttribute(\"selected\");\n\t\t\tconst hasSelectedDescendants = this.checkForSelectedDescendants(child);\n\n\t\t\treturn hasSelected || hasSelectedDescendants;\n\t\t});\n\t}\n\n\tprivate checkForSelectedDescendants(element: HTMLElement): boolean {\n\t\tconst nestedOptions = Array.from(element.children).filter(\n\t\t\t(child) => child.tagName === \"IFX-MULTISELECT-OPTION\",\n\t\t) as HTMLElement[];\n\n\t\treturn nestedOptions.some((nestedChild) => {\n\t\t\tconst isSelected = nestedChild.hasAttribute(\"selected\");\n\t\t\tconst hasSelectedNested = this.checkForSelectedDescendants(nestedChild);\n\n\t\t\treturn isSelected || hasSelectedNested;\n\t\t});\n\t}\n\n\trender() {\n\t\tlet isFlatMultiselect = false;\n\t\tconst parentMultiselect = this.el.closest(\"ifx-multiselect\");\n\t\tif (parentMultiselect) {\n\t\t\tconst allOptions = Array.from(\n\t\t\t\tparentMultiselect.querySelectorAll(\"ifx-multiselect-option\"),\n\t\t\t);\n\t\t\tisFlatMultiselect = allOptions.every(\n\t\t\t\t(option) => option.children.length === 0,\n\t\t\t);\n\t\t}\n\n\t\tconst basePadding = this.depth * 28 + 16;\n\t\tconst additionalPadding = this.hasChildren ? 0 : 28;\n\t\tconst totalPadding = basePadding + additionalPadding;\n\n\t\tconst optionItemStyle = isFlatMultiselect\n\t\t\t? undefined\n\t\t\t: { paddingLeft: `${totalPadding}px` };\n\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div\n\t\t\t\t\tclass={{\n\t\t\t\t\t\toption: true,\n\t\t\t\t\t\t\"option--has-children\": this.hasChildren,\n\t\t\t\t\t\t\"option--expanded\": this.isExpanded,\n\t\t\t\t\t\t\"option--disabled\": this.disabled,\n\t\t\t\t\t\t\"option--selected\": this.selected,\n\t\t\t\t\t}}\n\t\t\t\t\trole=\"option\"\n\t\t\t\t\taria-expanded={\n\t\t\t\t\t\tthis.hasChildren ? (this.isExpanded ? \"true\" : \"false\") : undefined\n\t\t\t\t\t}\n\t\t\t\t\taria-selected={this.selected ? \"true\" : \"false\"}\n\t\t\t\t\taria-disabled={this.disabled ? \"true\" : \"false\"}\n\t\t\t\t\tdata-level={this.depth}\n\t\t\t\t\tdata-value={this.value}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"option-item\" style={optionItemStyle}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"chevron-wrapper\"\n\t\t\t\t\t\t\ttabIndex={this.hasChildren ? 0 : -1}\n\t\t\t\t\t\t\trole={this.hasChildren ? \"button\" : undefined}\n\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\tthis.hasChildren\n\t\t\t\t\t\t\t\t\t? this.isExpanded\n\t\t\t\t\t\t\t\t\t\t? \"Collapse\"\n\t\t\t\t\t\t\t\t\t\t: \"Expand\"\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\tthis.toggleExpansion();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\tthis.toggleExpansion();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.hasChildren && (\n\t\t\t\t\t\t\t\t<ifx-icon\n\t\t\t\t\t\t\t\t\tclass={`chevron ${this.isExpanded ? \"chevron--expanded\" : \"chevron--collapsed\"}`}\n\t\t\t\t\t\t\t\t\ticon=\"chevron-right-16\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"checkbox-wrapper\" onClick={(e) => e.stopPropagation()}>\n\t\t\t\t\t\t\t<ifx-checkbox\n\t\t\t\t\t\t\t\tsize=\"s\"\n\t\t\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t\t\tthis.isSearchActive && this.isSearchDisabled\n\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t: this.indeterminate\n\t\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t\t: this.selected\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tindeterminate={\n\t\t\t\t\t\t\t\t\tthis.isSearchActive && this.isSearchDisabled\n\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t: this.indeterminate\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={this.handleCheckboxClick}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tthis.disabled ||\n\t\t\t\t\t\t\t\t\t(this.isSearchActive && this.isSearchDisabled)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t\t\tif (e.key === \"Enter\" || e.key === \" \") {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tthis.handleCheckboxClick(e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"option-label\"\n\t\t\t\t\t\t\tonClick={this.handleHeaderClick}\n\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{this.isExpanded && (\n\t\t\t\t\t\t<div class=\"option-children\">\n\t\t\t\t\t\t\t<slot name=\"children\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"],"version":3}