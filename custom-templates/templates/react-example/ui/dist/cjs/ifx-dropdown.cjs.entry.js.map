{"file":"ifx-dropdown.cjs.entry.js","mappings":"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","names":["isNestedInIfxComponent","detectFramework","trackComponent","createPopper","h"],"sources":["src/components/dropdown/dropdown.scss?tag=ifx-dropdown&encapsulation=shadow","src/components/dropdown/dropdown.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n:host {\n    display: inline-block;\n}","import { createPopper } from \"@popperjs/core\";\nimport {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tMethod,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../../shared/utils/dom-utils\";\nimport { detectFramework } from \"../../shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\nimport type { IOpenable } from \"./IOpenable\";\n\nexport type Placement =\n\t| \"auto\"\n\t| \"auto-start\"\n\t| \"auto-end\"\n\t| \"top\"\n\t| \"top-start\"\n\t| \"top-end\"\n\t| \"bottom\"\n\t| \"bottom-start\"\n\t| \"bottom-end\"\n\t| \"right\"\n\t| \"right-start\"\n\t| \"right-end\"\n\t| \"left\"\n\t| \"left-start\"\n\t| \"left-end\";\n\n@Component({\n\ttag: \"ifx-dropdown\",\n\tstyleUrl: \"dropdown.scss\",\n\tshadow: true,\n})\nexport class Dropdown {\n\t@Prop() placement: Placement = \"bottom-start\";\n\t@Prop() defaultOpen: boolean = false;\n\t@State() internalIsOpen: boolean = false;\n\t@Prop() noAppendToBody: boolean = false;\n\t@Event() ifxOpen: EventEmitter;\n\t@Event() ifxClose: EventEmitter;\n\t@Event() ifxDropdown: EventEmitter;\n\t@Prop() disabled: boolean;\n\t@Prop() noCloseOnOutsideClick: boolean = false;\n\t@Prop() noCloseOnMenuClick: boolean = false;\n\t@Element() el;\n\t@State() trigger: HTMLElement;\n\t@State() menu: HTMLElement;\n\t// Popper instance for positioning\n\tpopperInstance: any;\n\n\t@Listen(\"mousedown\", { target: \"document\" })\n\thandleOutsideClick(event: MouseEvent) {\n\t\tconst target = event.target as HTMLElement;\n\n\t\tif (\n\t\t\t!this.noCloseOnOutsideClick &&\n\t\t\t!this.el.contains(target) &&\n\t\t\t!this.menu.contains(target)\n\t\t) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\t@Listen(\"focusin\", { target: \"document\" })\n\thandleFocusOutside(event: FocusEvent) {\n\t\tconst target = event.target as HTMLElement;\n\t\tif (\n\t\t\tthis.internalIsOpen &&\n\t\t\t!this.el.contains(target) &&\n\t\t\t!this.menu.contains(target)\n\t\t) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\tprivate handleTriggerClick = () => {\n\t\tif (!this.internalIsOpen) this.openDropdown();\n\t\telse this.closeDropdown();\n\t};\n\n\tprivate handleTriggerKeyDown = (e: KeyboardEvent) => {\n\t\tconst key = e.key;\n\t\tif (key === \"Tab\" && this.internalIsOpen && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tthis.focusFirstItem();\n\t\t}\n\t};\n\n\tprivate handleMenuClick = () => {\n\t\tif (!this.noCloseOnMenuClick) this.closeDropdown();\n\t};\n\n\tprivate getItemFocusables(): HTMLElement[] {\n\t\tif (!this.menu) return [];\n\t\tconst hosts = Array.from(\n\t\t\tthis.menu.querySelectorAll<HTMLElement>(\"ifx-dropdown-item\"),\n\t\t);\n\t\treturn hosts\n\t\t\t.filter(\n\t\t\t\t(h) =>\n\t\t\t\t\t!(h.getAttribute(\"hide\") === \"true\" || h.classList.contains(\"hide\")),\n\t\t\t)\n\t\t\t.map((h) => h.shadowRoot?.querySelector(\"a\") as HTMLElement | null)\n\t\t\t.filter((el): el is HTMLElement => !!el);\n\t}\n\n\tprivate handleMenuKeyDown = (e: KeyboardEvent) => {\n\t\tconst items = this.getItemFocusables();\n\t\tif (!items.length) return;\n\n\t\tconst i = items.indexOf(document.activeElement as HTMLElement);\n\n\t\tswitch (e.key) {\n\t\t\tcase \"ArrowDown\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[(i + 1) % items.length].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[(i - 1 + items.length) % items.length].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"Home\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[0].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"End\":\n\t\t\t\te.preventDefault();\n\t\t\t\titems[items.length - 1].focus();\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\tcase \" \":\n\t\t\tcase \"Spacebar\":\n\t\t\t\te.preventDefault();\n\t\t\t\t(document.activeElement as HTMLElement)?.click();\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.closeDropdown();\n\t\t\t\t(this.trigger as HTMLElement)?.focus();\n\t\t\t\tbreak;\n\t\t\tcase \"Tab\":\n\t\t\t\tif (e.shiftKey && i === 0) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.closeDropdown();\n\t\t\t\t\t(this.trigger as HTMLElement)?.focus();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tcomponentWillLoad() {\n\t\t//maybe not needed\n\t\tthis.updateSlotContent();\n\t\tthis.watchHandlerIsOpen(this.defaultOpen, this.internalIsOpen);\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-dropdown\", await framework);\n\t\t}\n\t}\n\n\t@Watch(\"defaultOpen\")\n\twatchHandlerIsOpen(newValue: boolean, oldValue: boolean) {\n\t\tif (newValue !== oldValue && newValue !== this.internalIsOpen) {\n\t\t\tif (newValue) {\n\t\t\t\tthis.openDropdown();\n\t\t\t} else {\n\t\t\t\tthis.closeDropdown();\n\t\t\t}\n\t\t}\n\t}\n\n\t@Watch(\"disabled\")\n\twatchHandlerDisabled(newValue: boolean) {\n\t\tif (this.trigger) {\n\t\t\t(\n\t\t\t\tthis.trigger as undefined as HTMLIfxDropdownTriggerButtonElement\n\t\t\t).disabled = newValue;\n\t\t}\n\t}\n\n\t@Listen(\"slotchange\")\n\twatchHandlerSlot() {\n\t\tthis.updateSlotContent();\n\t}\n\n\tprivate focusFirstItem() {\n\t\tconst [first] = this.getItemFocusables();\n\t\tfirst?.focus();\n\t}\n\n\tupdateSlotContent() {\n\t\tconst newTrigger = this.el.querySelector(\n\t\t\t\"ifx-dropdown-trigger-button, ifx-dropdown-trigger\",\n\t\t) as HTMLElement | null;\n\n\t\tif (newTrigger !== this.trigger) {\n\t\t\tif (this.trigger) {\n\t\t\t\tthis.trigger.removeEventListener(\"click\", this.handleTriggerClick);\n\t\t\t\tthis.trigger.removeEventListener(\"keydown\", this.handleTriggerKeyDown);\n\t\t\t}\n\t\t\tthis.trigger = newTrigger!;\n\t\t\tif (this.trigger) {\n\t\t\t\t(this.trigger as any).disabled = this.disabled;\n\t\t\t\tthis.trigger.addEventListener(\"click\", this.handleTriggerClick);\n\t\t\t\tthis.trigger.addEventListener(\"keydown\", this.handleTriggerKeyDown);\n\t\t\t}\n\t\t}\n\n\t\tconst newMenu = this.el.querySelector(\n\t\t\t\"ifx-dropdown-menu\",\n\t\t) as HTMLElement | null;\n\n\t\tif (!this.noAppendToBody) {\n\t\t\tif (this.menu && this.menu !== newMenu) {\n\t\t\t\tthis.menu.removeEventListener(\"click\", this.handleMenuClick);\n\t\t\t\tthis.menu.removeEventListener(\"keydown\", this.handleMenuKeyDown);\n\t\t\t\tthis.menu.remove();\n\t\t\t}\n\t\t\tthis.menu = newMenu!;\n\t\t\tif (this.menu && !document.body.contains(this.menu)) {\n\t\t\t\tdocument.body.append(this.menu);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.menu = newMenu!;\n\t\t}\n\n\t\tif (this.menu) {\n\t\t\tthis.menu.removeEventListener(\"click\", this.handleMenuClick);\n\t\t\tthis.menu.removeEventListener(\"keydown\", this.handleMenuKeyDown);\n\t\t\tthis.menu.addEventListener(\"click\", this.handleMenuClick);\n\t\t\tthis.menu.addEventListener(\"keydown\", this.handleMenuKeyDown);\n\t\t}\n\t}\n\n\tmenuClickHandler() {\n\t\tif (!this.noCloseOnMenuClick) {\n\t\t\tthis.closeDropdown();\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\tif (this.popperInstance) {\n\t\t\tthis.popperInstance.destroy();\n\t\t\tthis.popperInstance = null;\n\t\t}\n\n\t\tif (this.menu) {\n\t\t\tthis.menu.remove();\n\t\t}\n\t}\n\n\t@Method()\n\tasync isOpen() {\n\t\treturn this.internalIsOpen;\n\t}\n\n\t@Method()\n\tasync closeDropdown() {\n\t\tif (this.internalIsOpen) {\n\t\t\tthis.internalIsOpen = false;\n\n\t\t\t(this.trigger as unknown as IOpenable).isOpen = false;\n\t\t\t(this.menu as unknown as IOpenable).isOpen = false;\n\n\t\t\tthis.ifxClose.emit();\n\t\t}\n\n\t\tif (this.popperInstance) {\n\t\t\tthis.popperInstance.destroy();\n\t\t\tthis.popperInstance = null;\n\t\t}\n\t}\n\n\t@Method()\n\tasync openDropdown() {\n\t\tif (!this.internalIsOpen && !this.disabled) {\n\t\t\tthis.internalIsOpen = true;\n\t\t\t(this.trigger as any).isOpen = true;\n\t\t\t(this.menu as any).isOpen = true;\n\t\t\tthis.popperInstance = createPopper(this.el, this.menu, {\n\t\t\t\tplacement: this.placement,\n\t\t\t});\n\t\t\tthis.ifxOpen.emit();\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div aria-label=\"dropdown menu\" class=\"dropdown\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t);\n\t}\n}\n"],"version":3}