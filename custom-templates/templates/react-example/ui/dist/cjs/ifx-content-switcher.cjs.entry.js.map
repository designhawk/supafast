{"file":"ifx-content-switcher.cjs.entry.js","mappings":";;;;;;AAAA,MAAM,kBAAkB,GAAG,MAAM,CAAC,8rBAA8rB,CAAC;;MCwBptB,eAAe,GAAA,MAAA;;;;;;AAGlB,IAAA,KAAK;IACL,WAAW,GAAG,EAAE;IAChB,UAAU,GAAW,EAAE;IACvB,UAAU,GAAW,EAAE;IAEvB,QAAQ,GAAc,EAAE;AAExB,IAAA,SAAS;AAEV,IAAA,aAAa,GACpB,IAAI,GAAG,EAAE;IAEV,iBAAiB,GAAA;AAChB,QAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC;QACzC,IAAI,CAAC,kBAAkB,EAAE;QACzB,IAAI,CAAC,iBAAiB,EAAE;QACxB,IAAI,CAAC,wBAAwB,EAAE;;AAGhC,IAAA,MAAM,gBAAgB,GAAA;QACrB,IAAI,CAACA,+BAAsB,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;AACrC,YAAA,MAAM,SAAS,GAAGC,wBAAe,EAAE;AACnC,YAAAC,uBAAc,CAAC,sBAAsB,EAAE,MAAM,SAAS,CAAC;;;IAIzD,oBAAoB,GAAA;QACnB,IAAI,CAAC,oBAAoB,EAAE;;AAG5B;;AAEG;IACH,kBAAkB,GAAA;QACjB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;YAClC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAClC,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;AAC7C,gBAAA,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,8BAA8B,CAAC;AACrD,gBAAA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;AACnB,gBAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;;AAE7B,SAAC,CAAC;;AAGH;;AAEG;IACH,iBAAiB,GAAA;QAChB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;AAClC,YAAA,MAAM,QAAQ,GAAG;gBAChB,KAAK,EAAE,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;gBACnC,UAAU,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC;gBAC/C,UAAU,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC;gBAChD,KAAK,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC;gBAC1C,IAAI,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC;aAC1C;YAED,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAI;gBACvC,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC9C,aAAC,CAAC;YAEF,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC;AACvC,SAAC,CAAC;;AAGH;;AAEG;IACH,oBAAoB,GAAA;QACnB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,IAAI,KAAI;YAC7C,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAI;gBACvC,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;AACjD,aAAC,CAAC;AACH,SAAC,CAAC;AACF,QAAA,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE;;IAG3B,wBAAwB,GAAA;QACvB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,KAAK,KAAI;YAClC,MAAM,UAAU,GACf,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,MAAM;gBACvC,IAA4B,CAAC,QAAQ;YACvC,IAAI,UAAU,EAAE;AACf,gBAAA,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;AACzB,oBAAA,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;;qBAChB;AACN,oBAAA,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC;AAC/B,oBAAA,IAA4B,CAAC,QAAQ,GAAG,KAAK;;;AAGjD,SAAC,CAAC;;AAGH;;;;AAIG;IACH,WAAW,CAAC,KAAa,EAAE,QAAiB,EAAA;AAC3C,QAAA,IAAI,CAAC,UAAU,GAAG,QAAQ,GAAG,KAAK,GAAG,EAAE;AACvC,QAAA,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;;AAGjC;;;;AAIG;IACH,WAAW,CAAC,KAAa,EAAE,QAAiB,EAAA;AAC3C,QAAA,IAAI,CAAC,UAAU,GAAG,QAAQ,GAAG,KAAK,GAAG,EAAE;AACvC,QAAA,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;;AAGjC;;;AAGG;AACH,IAAA,oBAAoB,CAAC,SAAiB,EAAA;QACrC,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACtC,YAAA,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC;;AAExC,QAAA,IAAI,SAAS,GAAG,CAAC,EAAE;AAClB,YAAA,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,CAAC,CAAC;;;AAI7C;;;AAGG;AACH,IAAA,uBAAuB,CAAC,YAAoB,EAAA;AAC3C,QAAA,MAAM,cAAc,GAAG,IAAI,GAAG,CAAC;AAC9B,YAAA,IAAI,CAAC,WAAW;YAChB,IAAI,CAAC,WAAW,GAAG,CAAC;AACpB,YAAA,IAAI,CAAC,UAAU;YACf,IAAI,CAAC,UAAU,GAAG,CAAC;AACnB,YAAA,IAAI,CAAC,UAAU;YACf,IAAI,CAAC,UAAU,GAAG,CAAC;AACnB,SAAA,CAAC;AACF,QAAA,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;;AAG1E;;;;AAIG;IACH,oBAAoB,CAAC,YAAoB,EAAE,MAAe,EAAA;AACzD,QAAA,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;AAChC,YAAA,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC;;;AAIhE;;;AAGG;AACH,IAAA,UAAU,CAAC,SAAiB,EAAA;AAC3B,QAAA,IAAI,SAAS,KAAK,IAAI,CAAC,WAAW;YAAE;AACpC,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW;AACjC,QAAA,IAAI,QAAQ,IAAI,CAAC,EAAE;YAClB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,UAAU,CAAC;;AAGjD,QAAA,IAAI,CAAC,WAAW,GAAG,SAAS;AAC5B,QAAA,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC;AAEtD,QAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;AACnB,YAAA,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;AACvC,YAAA,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC;AACxC,SAAA,CAAC;AACF,QAAA,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;AACnC,QAAA,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC;;AAGrC;;;;;;AAMG;AACH,IAAA,cAAc,CAAC,KAAa,EAAA;AAC3B,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI;AAAE,YAAA,OAAO,KAAK,CAAC,cAAc,EAAE;AAC5D,QAAA,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,cAAc,EAAE;;IAGzE,MAAM,GAAA;AACL,QAAA,QACCC,QAACC,UAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACJD,OAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAC,sBAAsB,EAAC,IAAI,EAAC,OAAO,EAAA,EAC7CA,OAAa,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,CACR,CACA;;;;;;;","names":["isNestedInIfxComponent","detectFramework","trackComponent","h","Host"],"sources":["src/components/content-switcher/content-switcher.scss?tag=ifx-content-switcher&encapsulation=shadow","src/components/content-switcher/content-switcher.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n.ifx-content-switcher {\n    background-color: tokens.$ifxColorBaseWhite;\n    border: 1px solid tokens.$ifxColorEngineering300;\n    border-radius: tokens.$ifxBorderRadiusRound;\n    height: tokens.$ifxSize450;\n    width: fit-content;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    & ::slotted(ifx-content-switcher-item) {\n        position: relative;\n        // top: -1px;\n    }\n\n    & ::slotted(ifx-content-switcher-item:first-child) {\n        left: -1px;\n        margin-right: -1px;\n    }\n\n    & ::slotted(ifx-content-switcher-item:last-child) {\n        right: -1px;\n        margin-left: -1px;\n    }\n\n    // Dividers\n    & ::slotted(.ifx-content-switcher-divider) {\n        width: tokens.$ifxSize12;\n        height: tokens.$ifxSize250;\n        background-color: tokens.$ifxColorEngineering400;\n        margin: 0px 1px;\n        visibility: visible;\n    }\n\n    & ::slotted(.ifx-content-switcher-divider.hidden) {\n        visibility: hidden;\n    }\n}","import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\tHost,\n\th,\n\tState,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\nexport type ChangeEvent = { oldValue: string; newValue: string };\n\ntype ContentSwitcherItem = Element & {\n\tselected: boolean;\n};\n\n@Component({\n\ttag: \"ifx-content-switcher\",\n\tstyleUrl: \"./content-switcher.scss\",\n\tshadow: true,\n})\nexport class ContentSwitcher {\n\t@Element() el: HTMLElement;\n\n\t@State() items: Element[];\n\t@State() activeIndex = -1;\n\t@State() hoverIndex: number = -1;\n\t@State() focusIndex: number = -1;\n\n\t@State() dividers: Element[] = [];\n\n\t@Event() ifxChange: EventEmitter<ChangeEvent>;\n\n\tprivate eventHandlers: Map<Element, { [key: string]: EventListener }> =\n\t\tnew Map();\n\n\tcomponentWillLoad() {\n\t\tthis.items = Array.from(this.el.children);\n\t\tthis.initializeDividers();\n\t\tthis.addEventListeners();\n\t\tthis.ensureSingleSelectedItem();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-content-switcher\", await framework);\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.removeEventListeners();\n\t}\n\n\t/**\n\t * Initialize the dividers between items.\n\t */\n\tinitializeDividers() {\n\t\tthis.items.forEach((item, index) => {\n\t\t\tif (index < this.items.length - 1) {\n\t\t\t\tconst divider = document.createElement(\"div\");\n\t\t\t\tdivider.classList.add(\"ifx-content-switcher-divider\");\n\t\t\t\titem.after(divider);\n\t\t\t\tthis.dividers.push(divider);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Add event listeners for each item.\n\t */\n\taddEventListeners() {\n\t\tthis.items.forEach((item, index) => {\n\t\t\tconst handlers = {\n\t\t\t\tclick: () => this.selectItem(index),\n\t\t\t\tmouseenter: () => this.handleHover(index, true),\n\t\t\t\tmouseleave: () => this.handleHover(index, false),\n\t\t\t\tfocus: () => this.handleFocus(index, true),\n\t\t\t\tblur: () => this.handleFocus(index, false),\n\t\t\t};\n\n\t\t\tObject.keys(handlers).forEach((event) => {\n\t\t\t\titem.addEventListener(event, handlers[event]);\n\t\t\t});\n\n\t\t\tthis.eventHandlers.set(item, handlers);\n\t\t});\n\t}\n\n\t/**\n\t * Remove all event listeners.\n\t */\n\tremoveEventListeners() {\n\t\tthis.eventHandlers.forEach((handlers, item) => {\n\t\t\tObject.keys(handlers).forEach((event) => {\n\t\t\t\titem.removeEventListener(event, handlers[event]);\n\t\t\t});\n\t\t});\n\t\tthis.eventHandlers.clear();\n\t}\n\n\tensureSingleSelectedItem() {\n\t\tthis.items.forEach((item, index) => {\n\t\t\tconst isSelected =\n\t\t\t\titem.getAttribute(\"selected\") === \"true\" ||\n\t\t\t\t(item as ContentSwitcherItem).selected;\n\t\t\tif (isSelected) {\n\t\t\t\tif (this.activeIndex < 0) {\n\t\t\t\t\tthis.selectItem(index);\n\t\t\t\t} else {\n\t\t\t\t\titem.removeAttribute(\"selected\");\n\t\t\t\t\t(item as ContentSwitcherItem).selected = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Handle hover events on an item.\n\t * @param index - Index of the item.\n\t * @param isActive - Whether the item is hovered.\n\t */\n\thandleHover(index: number, isActive: boolean) {\n\t\tthis.hoverIndex = isActive ? index : -1;\n\t\tthis.updateDividersOfItem(index);\n\t}\n\n\t/**\n\t * Handle hover events on an item.\n\t * @param index - Index of the item.\n\t * @param isActive - Whether the item is focused.\n\t */\n\thandleFocus(index: number, isActive: boolean) {\n\t\tthis.focusIndex = isActive ? index : -1;\n\t\tthis.updateDividersOfItem(index);\n\t}\n\n\t/**\n\t * Update visibility of dividers adjacent to a specific item.\n\t * @param itemIndex - Index of the item.\n\t */\n\tupdateDividersOfItem(itemIndex: number) {\n\t\tif (itemIndex < this.items.length - 1) {\n\t\t\tthis.updateDividerVisibility(itemIndex);\n\t\t}\n\t\tif (itemIndex > 0) {\n\t\t\tthis.updateDividerVisibility(itemIndex - 1);\n\t\t}\n\t}\n\n\t/**\n\t * Update visibility of a specific divider.\n\t * @param dividerIndex - Index of the divider.\n\t */\n\tupdateDividerVisibility(dividerIndex: number) {\n\t\tconst hiddenDividers = new Set([\n\t\t\tthis.activeIndex,\n\t\t\tthis.activeIndex - 1,\n\t\t\tthis.hoverIndex,\n\t\t\tthis.hoverIndex - 1,\n\t\t\tthis.focusIndex,\n\t\t\tthis.focusIndex - 1,\n\t\t]);\n\t\tthis.setDividerVisibility(dividerIndex, hiddenDividers.has(dividerIndex));\n\t}\n\n\t/**\n\t * Set the visibility of a specific divider.\n\t * @param dividerIndex - Index of the divider.\n\t * @param hidden - Whether the divider should be hidden.\n\t */\n\tsetDividerVisibility(dividerIndex: number, hidden: boolean) {\n\t\tif (this.dividers[dividerIndex]) {\n\t\t\tthis.dividers[dividerIndex].classList.toggle(\"hidden\", hidden);\n\t\t}\n\t}\n\n\t/**\n\t * Select a specific item.\n\t * @param itemIndex - Index of the item to be selected.\n\t */\n\tselectItem(itemIndex: number) {\n\t\tif (itemIndex === this.activeIndex) return;\n\t\tconst oldIndex = this.activeIndex;\n\t\tif (oldIndex >= 0) {\n\t\t\tthis.items[oldIndex].removeAttribute(\"selected\");\n\t\t}\n\n\t\tthis.activeIndex = itemIndex;\n\t\tthis.items[itemIndex].setAttribute(\"selected\", \"true\");\n\n\t\tthis.ifxChange.emit({\n\t\t\toldValue: this.getValueOfItem(oldIndex),\n\t\t\tnewValue: this.getValueOfItem(itemIndex),\n\t\t});\n\t\tthis.updateDividersOfItem(oldIndex);\n\t\tthis.updateDividersOfItem(itemIndex);\n\t}\n\n\t/**\n\t * Get the value property of the item at a specific index.\n\t * Falls back to the index if no value is set.\n\t *\n\t * @param index - Index of the item.\n\t * @returns The value of the item.\n\t */\n\tgetValueOfItem(index: number): string {\n\t\tif (this.items[index] == null) return index.toLocaleString();\n\t\treturn this.items[index].getAttribute(\"value\") || index.toLocaleString();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Host>\n\t\t\t\t<div class=\"ifx-content-switcher\" role=\"group\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t</Host>\n\t\t);\n\t}\n}\n"],"version":3}