{"version":3,"file":"ifx-stepper.entry.js","sources":["src/components/stepper/stepper.scss?tag=ifx-stepper&encapsulation=shadow","src/components/stepper/stepper.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n.stepper {\n    display: flex;\n    align-items: center;\n    \n    &.compact {\n        align-items: center;\n        gap: 8px;\n        \n        &.compact-right {\n            flex-direction: row-reverse;\n            text-align: left;\n        }\n        \n        .stepper-wrapper{\n            width: unset;\n            flex-direction: column;\n        }\n    }\n\n    &.vertical {\n        height: 100%;\n\n        .stepper-wrapper {\n            flex-direction: column;\n            width: unset;\n            height: 100%;\n        }\n    }\n}\n\n.stepper-wrapper {\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n}\n\n.stepper-wrapper ::slotted(*){\n    display: flex;\n    flex: 1;\n    justify-content: flex-start;\n}\n\n.stepper-progress {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font: tokens.$ifxBodyBodySemibold04;\n    min-width: tokens.$ifxSize700;\n    height: tokens.$ifxSize700;\n    border-radius: tokens.$ifxBorderRadiusRound;\n    background: conic-gradient(tokens.$ifxColorOcean500 var(--pb, 0%), tokens.$ifxColorEngineering300 0);\n    \n    .progress-detail {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        width: (tokens.$ifxSize700)-(tokens.$ifxSize100);\n        height: (tokens.$ifxSize700)-(tokens.$ifxSize100);\n        border-radius: tokens.$ifxBorderRadiusRound;\n        background: white;\n    }\n}\n\n","import {\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tListen,\n\tProp,\n\tState,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\nimport type { StepperState } from \"./interfaces\";\n\n@Component({\n\ttag: \"ifx-stepper\",\n\tstyleUrl: \"stepper.scss\",\n\tshadow: true,\n})\nexport class Stepper {\n\t@Element() el: HTMLElement;\n\n\t@Event() ifxChange: EventEmitter;\n\n\t@Prop({ mutable: true }) activeStep: number = 1;\n\t@Prop() indicatorPosition?: \"left\" | \"right\" = \"left\";\n\t@Prop() showStepNumber?: boolean = false;\n\t@Prop() variant?: \"default\" | \"compact\" | \"vertical\" = \"default\";\n\t@Prop() ariaLabel: string | null;\n\t@Prop() ariaCurrent: string | null;\n\n\t@State() stepsCount: number;\n\t@State() shouldEmitEvent: boolean = true;\n\t@State() emittedByClick: boolean = false;\n\n\t@Listen(\"ifxChange\")\n\tonStepChange(event: CustomEvent) {\n\t\tconst steps = this.getSteps();\n\t\tconst previousActiveStep = steps[event.detail.previousActiveStep - 1];\n\t\tif (previousActiveStep && !previousActiveStep.complete) {\n\t\t\tpreviousActiveStep.setAttribute(\"error\", \"true\");\n\t\t}\n\t}\n\n\t@Watch(\"activeStep\")\n\thandleActiveStep(newStep: number, oldStep: number) {\n\t\tconst steps = this.getSteps();\n\t\tif (!this.shouldEmitEvent) {\n\t\t\tthis.shouldEmitEvent = true;\n\t\t\treturn;\n\t\t}\n\t\t// Skipping until the enabled step is found\n\t\tif (steps[newStep - 1]) {\n\t\t\tif (!steps[newStep - 1].disabled) {\n\t\t\t\tthis.emitIfxChange(newStep, oldStep);\n\t\t\t} else {\n\t\t\t\t// If coming from higher step number to the lower step number\n\t\t\t\tif (newStep < oldStep) {\n\t\t\t\t\tlet i = newStep;\n\t\t\t\t\tthis.shouldEmitEvent = false;\n\t\t\t\t\twhile (i >= 1 && steps[i - 1].disabled) i--;\n\t\t\t\t\t// if all the steps are disabled no change.\n\t\t\t\t\tif (i < 1) {\n\t\t\t\t\t\tthis.activeStep = oldStep;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.emitIfxChange(i, oldStep);\n\t\t\t\t\t\tthis.activeStep = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If coming from lower step number to the higher step number\n\t\t\t\telse {\n\t\t\t\t\tlet i = newStep;\n\t\t\t\t\tthis.shouldEmitEvent = false;\n\t\t\t\t\twhile (i <= this.stepsCount && steps[i - 1].disabled) i++;\n\t\t\t\t\tif (i > this.stepsCount) {\n\t\t\t\t\t\tthis.activeStep = oldStep;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.emitIfxChange(i, oldStep);\n\t\t\t\t\t\tthis.activeStep = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\temitIfxChange(activeStep: number, previousActiveStep: number) {\n\t\tthis.ifxChange.emit({\n\t\t\tactiveStep: activeStep,\n\t\t\tpreviousActiveStep: previousActiveStep,\n\t\t\ttotalSteps: this.stepsCount,\n\t\t\temittedByClick: this.emittedByClick,\n\t\t});\n\t\tthis.emittedByClick = false;\n\t}\n\n\tgetSteps() {\n\t\tconst steps: NodeListOf<HTMLIfxStepElement> =\n\t\t\tthis.el.querySelectorAll(\"ifx-step\");\n\t\treturn steps;\n\t}\n\n\taddStepIdsToStepsAndCountSteps() {\n\t\tconst steps = this.getSteps();\n\t\tsteps[steps.length - 1].lastStep = true;\n\t\tfor (let i = 0; i < steps.length; i++) {\n\t\t\tsteps[i].stepId = i + 1;\n\t\t}\n\t\tthis.stepsCount = steps.length;\n\t}\n\n\tsetActiveStep(stepId: number, setByClick: boolean = false) {\n\t\tthis.emittedByClick = setByClick;\n\t\tthis.activeStep = stepId;\n\t}\n\n\tsetStepsBeforeActiveToComplete() {\n\t\tconst steps = this.getSteps();\n\t\tsteps.forEach((step, stepId) => {\n\t\t\tif (stepId + 1 < this.activeStep) step.complete = true;\n\t\t});\n\t}\n\n\tsyncIfxSteps() {\n\t\tconst steps = this.getSteps();\n\t\tfor (let i = 0; i < steps.length; i++) {\n\t\t\tconst stepperState: StepperState = {\n\t\t\t\tactiveStep: this.activeStep,\n\t\t\t\tindicatorPosition:\n\t\t\t\t\tthis.indicatorPosition !== \"right\" ? \"left\" : \"right\",\n\t\t\t\tshowStepNumber: this.showStepNumber,\n\t\t\t\tvariant:\n\t\t\t\t\tthis.variant !== \"compact\" && this.variant !== \"vertical\"\n\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t: this.variant,\n\t\t\t\tsetActiveStep: this.setActiveStep.bind(this),\n\t\t\t};\n\t\t\tsteps[i].stepperState = stepperState;\n\t\t}\n\t}\n\n\tsetInitialActiveStep() {\n\t\tthis.activeStep = Math.max(\n\t\t\t1,\n\t\t\tMath.min(\n\t\t\t\tthis.stepsCount + (this.variant !== \"compact\" ? 1 : 0),\n\t\t\t\tthis.activeStep,\n\t\t\t),\n\t\t);\n\t}\n\n\tcomponentWillLoad() {\n\t\tthis.addStepIdsToStepsAndCountSteps();\n\t\tthis.setInitialActiveStep();\n\t\tthis.setStepsBeforeActiveToComplete();\n\t}\n\n\tasync componentDidLoad() {\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-stepper\", await framework);\n\t\t}\n\t\tthis.syncIfxSteps();\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.syncIfxSteps();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-label={this.ariaLabel}\n\t\t\t\taria-current={this.ariaCurrent}\n\t\t\t\trole=\"navigation\"\n\t\t\t\tclass={`stepper ${this.variant !== \"compact\" && this.variant !== \"vertical\" ? \"default\" : this.variant} ${this.variant === \"compact\" ? \"compact-\" + this.indicatorPosition : \"\"}`}\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\t/* Progress bar for compact variant. */\n\t\t\t\t\tthis.variant === \"compact\" && (\n\t\t\t\t\t\t<div class=\"stepper-progress\">\n\t\t\t\t\t\t\t<div class=\"progress-detail\">\n\t\t\t\t\t\t\t\t{`${Math.min(this.activeStep, this.stepsCount)} of ${this.stepsCount}`}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\t{/* Slot for ifx-steps. */}\n\t\t\t\t<div class={`stepper-wrapper`}>\n\t\t\t\t\t<slot />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcomponentDidRender() {\n\t\t/* Updating progress bar in compact version. */\n\t\tif (this.variant == \"compact\") {\n\t\t\tconst progressBar: HTMLElement =\n\t\t\t\tthis.el.shadowRoot.querySelector(\".stepper-progress\");\n\t\t\tprogressBar.style.setProperty(\n\t\t\t\t\"--pb\",\n\t\t\t\t`${(this.activeStep / this.stepsCount) * 100}%`,\n\t\t\t);\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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"}