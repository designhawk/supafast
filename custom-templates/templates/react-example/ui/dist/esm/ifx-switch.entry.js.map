{"version":3,"file":"ifx-switch.entry.js","sources":["src/components/switch/switch.scss?tag=ifx-switch&encapsulation=shadow","src/components/switch/switch.tsx"],"sourcesContent":["/**\n * Switch Component Styles\n * \n * Styling Approach\n * ----------------\n * - **Design Tokens**: Uses `@infineon/design-system-tokens` for consistent spacing, colors\n * - **SCSS**: Compiled by Stencil's SASS plugin (configured in stencil.config.ts)\n * - **Shadow DOM**: Styles are scoped via Shadow DOM, `:host` targets the component root\n * - **BEM-like naming**: `.switch__element` pattern for component-scoped class names\n */\n\n@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n:host {\n  display: inline-block;\n  user-select: none;\n}\n\n.container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  &.gap {\n    gap: tokens.$ifxSpace200;\n  }\n}\n\n.switch__checkbox-container {\n  padding: tokens.$ifxSpace50;\n  display: flex;\n  align-items: center;\n  position: relative;\n  // Subtracting padding size from both height and width\n  width: (tokens.$ifxSpace500)-8px;\n  height: 16px;\n  background-color: tokens.$ifxColorBaseWhite;\n  border: 1px solid tokens.$ifxColorEngineering500;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  outline: none;\n\n  &:focus {\n    outline: 4px solid tokens.$ifxColorOcean500;\n    outline-offset: 2px;\n  }\n\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  &:focus-visible {\n    outline: 2px solid tokens.$ifxColorOcean500;\n    outline-offset: 2px;\n  }\n\n  &.disabled {\n    cursor: default;\n    border-color: tokens.$ifxColorEngineering300;\n  }\n}\n\n.switch__label-wrapper {\n  & label {\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  &.disabled {\n    color: tokens.$ifxColorEngineering300;\n\n    & label {\n      &:hover {\n        cursor: default;\n      }\n    }\n  }\n}\n\n.switch__checkbox-wrapper {\n  .switch {\n    // position: absolute;\n    width: tokens.$ifxSpace200;\n    height: tokens.$ifxSpace200;\n    background-color: tokens.$ifxColorEngineering500;\n    border-radius: 50%;\n    transition:\n      transform 0.3s ease,\n      background-color 0.3s ease;\n\n    &.disabled {\n      background-color: tokens.$ifxColorEngineering300;\n      border-color: tokens.$ifxColorEngineering300;\n      cursor: default;\n    }\n  }\n\n  .switch.checked {\n    transform: translateX(16px);\n    background-color: tokens.$ifxColorBaseWhite;\n\n    &.disabled {\n      cursor: default;\n    }\n  }\n}\n\n.switch__checkbox-container:hover .toggle-switch {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n}\n\n.switch__checkbox-container.checked {\n  background-color: tokens.$ifxColorOcean500;\n  border-color: tokens.$ifxColorOcean500;\n\n  &.disabled {\n    background-color: tokens.$ifxColorEngineering300;\n    border-color: tokens.$ifxColorEngineering300;\n    cursor: default;\n  }\n}\n","import {\n\tAttachInternals,\n\tComponent,\n\tElement,\n\tEvent,\n\ttype EventEmitter,\n\th,\n\tMethod,\n\tProp,\n\tWatch,\n} from \"@stencil/core\";\nimport { isNestedInIfxComponent } from \"../..//shared/utils/dom-utils\";\nimport { detectFramework } from \"../..//shared/utils/framework-detection\";\nimport { trackComponent } from \"../../shared/utils/tracking\";\n\n/**\n * A toggle switch component for binary on/off states.\n *\n * This component is form-associated, meaning it can participate in HTML forms\n * just like native form controls. It supports form validation, form reset,\n * and browser autofill/restore functionality.\n *\n *\n * Code organization follows the Stencil Style Guide:\n * https://stenciljs.com/docs/style-guide\n *\n * 1. Own Properties (internal, not exposed)\n * 2. @Element (reference to host)\n * 3. @State (internal reactive state)\n * 4. @Prop (public API properties)\n * 5. @Event (emitted events)\n * 6. Lifecycle methods\n * 7. @Listen decorators\n * 8. @Method (public methods)\n * 9. Private methods\n * 10. render()\n *\n * Framework Integration:\n * - Vue: Supports v-model binding on the 'checked' property\n * - Angular: Supports [(ngModel)] and reactive forms (formControl)\n * - React: Standard prop binding and event handling\n *\n * Configuration in stencil.config.ts enables framework-specific bindings.\n */\n@Component({\n\ttag: \"ifx-switch\",\n\tstyleUrl: \"switch.scss\",\n\tshadow: true,\n\tformAssociated: true,\n})\nexport class Switch {\n\t// 1. Own Properties - internal only, not exposed on host element\n\tprivate initialChecked: boolean;\n\n\t// 2. Reference to Host Element - used for shadow DOM queries and nesting checks\n\t@Element() el: HTMLIfxSwitchElement;\n\n\t// 3. State Variables - internal reactive state\n\t// (none - this component uses @Prop instead)\n\n\t// 4. Public Properties - exposed as both properties and attributes\n\n\t/**\n\t * Sets the checked state of the switch.\n\t * @default false\n\t */\n\t@Prop({ mutable: true }) checked: boolean = false;\n\n\t// @Watch goes right after the @Prop it monitors - keeps related code together\n\t@Watch(\"checked\")\n\tonCheckedChange(newValue: boolean, oldValue: boolean) {\n\t\tif (newValue !== oldValue) {\n\t\t\tthis.checked = newValue;\n\t\t\tthis.updateFormValue();\n\t\t}\n\t}\n\n\t/**\n\t * Disables user interaction when true.\n\t * @default false\n\t */\n\t@Prop() readonly disabled: boolean = false;\n\n\t/**\n\t * Form field name.\n\t * @default \"\"\n\t */\n\t@Prop() readonly name: string = \"\";\n\n\t/**\n\t * Form field value when checked.\n\t * If not set, defaults to \"on\" (standard checkbox behavior).\n\t * @default \"on\"\n\t */\n\t@Prop() readonly value: string = \"on\";\n\n\t// ElementInternals for form association - enables participation in HTML forms\n\t@AttachInternals() internals: ElementInternals;\n\n\t// 5. Events - custom events emitted by the component\n\n\t/**\n\t * Emitted when checked state changes.\n\t */\n\t@Event({ eventName: \"ifxChange\" }) ifxChange: EventEmitter<boolean>;\n\n\t// 6. Lifecycle Methods - ordered by execution flow\n\n\tcomponentWillLoad() {\n\t\t// Remember initial state for form reset\n\t\tthis.initialChecked = this.checked;\n\t\t// Set initial form value when component loads\n\t\tthis.updateFormValue();\n\t}\n\n\tasync componentDidLoad() {\n\t\t// Only track top-level components to avoid duplicate analytics\n\t\tif (!isNestedInIfxComponent(this.el)) {\n\t\t\tconst framework = detectFramework();\n\t\t\ttrackComponent(\"ifx-switch\", await framework);\n\t\t}\n\n\t\tthis.toggleLabelGap();\n\t}\n\n\t/**\n\t * Form-Associated Lifecycle Callbacks\n\t * ------------------------------------\n\t * These are called by the browser to integrate with native form behavior.\n\t * See: https://stenciljs.com/docs/form-associated\n\t *\n\t * Note: formAssociatedCallback and formDisabledCallback are not implemented\n\t * as they're not needed for this component. They would only be useful if we\n\t * needed to react to form association changes or support fieldset-level disabling.\n\t */\n\n\t/**\n\t * Called when the form is reset.\n\t * Resets the switch to its initial state and clears form value.\n\t */\n\tformResetCallback() {\n\t\tthis.checked = this.initialChecked;\n\t\tthis.updateFormValue();\n\t}\n\n\t/**\n\t * Called when the browser restores form state (e.g., browser autofill or back button).\n\t * @param state - The saved state to restore\n\t * @param mode - \"restore\" (browser restart/navigation) or \"autocomplete\" (autofill)\n\t */\n\tformStateRestoreCallback(\n\t\tstate: string | null,\n\t\t_mode: \"restore\" | \"autocomplete\",\n\t) {\n\t\tif (state) {\n\t\t\tthis.checked = true;\n\t\t\tthis.updateFormValue();\n\t\t} else {\n\t\t\tthis.checked = false;\n\t\t\tthis.internals.setFormValue(null);\n\t\t}\n\t}\n\n\t// 7. Listeners\n\t// (none - this component handles events inline in render)\n\n\t// 8. Public Methods - MUST be async, exposed on host element\n\n\t/**\n\t * Returns the current checked state.\n\t */\n\t@Method()\n\tasync isChecked(): Promise<boolean> {\n\t\treturn this.checked;\n\t}\n\n\t/**\n\t * Sets the checked state.\n\t * @param checked - New checked state.\n\t */\n\t@Method()\n\tasync setChecked(checked: boolean): Promise<void> {\n\t\tthis.checked = checked;\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * Toggles the checked state.\n\t * @returns Resolves when the toggle is complete.\n\t */\n\t@Method()\n\tasync toggle(): Promise<boolean> {\n\t\treturn Promise.resolve(this.toggleSwitch());\n\t}\n\n\t// 9. Private Methods - internal helpers, not callable externally\n\n\tprivate handleKeyDown(event: KeyboardEvent): void {\n\t\tif (this.disabled) return;\n\n\t\tif (event.key === \"Enter\" || event.key === \" \") {\n\t\t\tthis.toggleSwitch();\n\t\t}\n\t}\n\n\tprivate toggleSwitch(): boolean {\n\t\tif (this.disabled) return;\n\n\t\tthis.checked = !this.checked;\n\t\tthis.updateFormValue();\n\t\tthis.ifxChange.emit(this.checked);\n\n\t\treturn this.checked;\n\t}\n\n\t/**\n\t * Updates the form value based on the current checked state.\n\t * Called whenever checked state changes to keep form data in sync.\n\t */\n\tprivate updateFormValue(): void {\n\t\tif (this.checked) {\n\t\t\tthis.internals.setFormValue(this.value);\n\t\t} else {\n\t\t\tthis.internals.setFormValue(null);\n\t\t}\n\t}\n\n\tprivate toggleLabelGap(): void {\n\t\tconst slot = this.el.shadowRoot.querySelector(\"slot\");\n\t\tconst container = this.el.shadowRoot.querySelector(\".container\");\n\n\t\tif (slot.assignedNodes().length) {\n\t\t\tcontainer.classList.add(\"gap\");\n\t\t} else {\n\t\t\tcontainer.classList.remove(\"gap\");\n\t\t}\n\t}\n\n\t// 10. render() - always last, called when state/props change\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass=\"container\"\n\t\t\t\trole=\"switch\"\n\t\t\t\taria-checked={this.checked ? \"true\" : \"false\"}\n\t\t\t\taria-disabled={this.disabled ? \"true\" : \"false\"}\n\t\t\t\taria-labelledby=\"switch-label\"\n\t\t\t\ttabIndex={this.disabled ? -1 : 0}\n\t\t\t\tonClick={() => this.toggleSwitch()}\n\t\t\t\tonKeyDown={(event) => this.handleKeyDown(event)}\n\t\t\t>\n\t\t\t\t{/* Checkbox */}\n\t\t\t\t<div\n\t\t\t\t\tclass={`switch__checkbox-container ${this.checked ? \"checked\" : \"\"} ${this.disabled ? \"disabled\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"switch__checkbox-wrapper\">\n\t\t\t\t\t\t{/*\n\t\t\t\t\t\t * The behavior of a switch is similar to a checkbox.\n\t\t\t\t\t\t * Therefore, we use a hidden checkbox input to leverage native behavior.\n\t\t\t\t\t\t */}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\tname={this.name}\n\t\t\t\t\t\t\tdisabled={this.disabled}\n\t\t\t\t\t\t\tchecked={this.checked}\n\t\t\t\t\t\t\tvalue={this.value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass={`switch ${this.checked ? \"checked\" : \"\"} ${this.disabled ? \"disabled\" : \"\"}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Label */}\n\t\t\t\t<div class={`switch__label-wrapper ${this.disabled ? \"disabled\" : \"\"}`}>\n\t\t\t\t\t<label htmlFor=\"switch\">\n\t\t\t\t\t\t<slot onSlotchange={() => this.toggleLabelGap()} />\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"],"names":[],"mappings":"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"}